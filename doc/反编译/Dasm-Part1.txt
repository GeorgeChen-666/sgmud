;BINÍ·
4000 : AEEEEA002000204C B240 70031003FFFF
4010--404F : FFFF
00 01 02 03 04 05
;µ¼³öº¯Êý±í
        0     2    4   6     8    A    C   E
4050 : E855 FF53 E6A4 97AF 089F 2D9F 61A3 CDA3
4060 : 51A4 95A4 08A4 D962 286F CE67 A169 BB98
4070 : 2F98 F68A A28A F989 B189 8A7E 4D7E 196C
4080 : 2C6C C285 3483 DD80 8150 5278 1D64 7572
4090 : 2C42 EE49 1B65 C143 F851 2552 D450 1B51
40A0 : 6DB3 F0B1 5C63 6963 8563 AE55 9A54 8E50
40B0 : CF65

;main
40B2 : TSX 			;¶ÑÕ»->X
40B3 : STX $41 			;X->MEM
40B5 : JSR $B190  			;Ìø×ª×Ó³ÌÐò ÏµÍ³ÐòÁÐºÅ1000+1002->2F85 1001+1003->2F86
40B8 : JSR $431C  			;Ìø×ª×Ó³ÌÐò  Data init
40BB : INT $930E        ;? init
40BE : LDA #$34 			;->A
40C0 : STA $80 			;A->MEM
40C2 : LDA #$29 			;->A
40C4 : STA $81 			;A->MEM
40C6 : LDA #$53 			;->A
40C8 : STA $82 			;A->MEM
40CA : LDA #$01 			;->A
40CC : STA $83 			;A->MEM   $80:34 29 53 01
40CE : LDX #$04 			;->X
40D0 : LDA $4AE4,X 			;->A  4AE4--4AE8 -> 2E8D--2E8F
40D3 : STA $2E8C,X 			;A->MEM  $2E8D:47 6c 70 44
40D6 : DEX 			;X--
40D7 : BNE $40D0 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
;2E9E--2F02ÇåÁã
40D9 : LDX #$64 			;->X
40DB : LDA #$00 			;->A
40DD : STA $2E9E,X 			;A->MEM
40E0 : DEX 			;X--
40E1 : BNE $40DB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

40E3 : INT $310C      ;Page2 61B5(ReadSaveData)
40E6 : BCC $415A 			;½øÎ»±êÖ¾C=0(Read Fail)Ôò×ªÒÆ,·ñÔò¼ÌÐø

40E8 : LDX #$C6 			;c6->X
40EA : LDA $2933,X 			;->A
40ED : STA $2E8B,X 			;A->MEM  $2934-29F9 -> $2E8C-2F52
40F0 : DEX 			;X--
40F1 : BNE $40EA 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

40F3 : LDX #$8D 			;->X
40F5 : LDA $29F9,X 			;->A
40F8 : STA $3175,X 			;A->MEM  $29FA-2A86 -> $3176-3202
40FB : DEX 			;X--
40FC : BNE $40F5 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

40FE : LDA $2E8C 			;->A
4101 : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4103 : BNE $415A 			;Z=0Ôò×ªÒÆ(Error Save),·ñÔò¼ÌÐø
4105 : INT $3106      ;set weapon+enter weapon name
4108 : JSR $43C1  		;Ìø×ª×Ó³ÌÐò set screen
410B : INT $9E15      ;ÊäÈë´æµµÃÜÂë
410E : BCS $4113 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4110 : JMP $422C 			;ÃÜÂë´íÎó exit
;main
4113 : LDA #$2C 			;2c->A
4115 : STA $80 			;A->MEM 2c
4117 : LDA #$01 			;01->A
4119 : STA $81 			;A->MEM 01
411B : LDA $2E93 			;->A PlayedTime
411E : STA $3087 			;A->MEM
4121 : LDA $2E94 			;->A PlayedTime
4124 : STA $3088 			;A->MEM
4127 : CLC 			;Çå½øÎ»±êÖ¾
4128 : LDA $2E91 			;->A  PlayedTime
412B : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
412D : STA $3085 			;A->MEM
4130 : LDA $2E92 			;->A  PlayedTime
4133 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
4135 : STA $3086 			;A->MEM
4138 : BCC $4142 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
413A : INC $3087 			;MEM++
413D : BNE $4142 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
413F : INC $3088 			;MEM++
4142 : JSR $4253  			;Ìø×ª×Ó³ÌÐò  after load(item map)
4145 : JSR $860E  			;Ìø×ª×Ó³ÌÐò  calc ºóÌìëöÁ¦¸ù¹ÇÃô½ÝÎòÐÔ×¤ÑÕ ¼Ó³É
4148 : JSR $4445  			;Ìø×ª×Ó³ÌÐò  Calc new age HP
414B : JSR $42B3  			;Ìø×ª×Ó³ÌÐò  calc HP MP Max
414E : JSR $43C1  			;Ìø×ª×Ó³ÌÐò  set screenÐ¡×Ö
4151 : JSR $8113  			;Ìø×ª×Ó³ÌÐò  8129´úÂë->0481
4154 : JMP $4E05 			  ;game main
4157 : INT $9E1B        	  ;Create save file
;New Game
415A : LDA #$00 			;00->A
415C : STA $3403 			;A->MEM
415F : LDX #$04 			;04->X
4161 : LDA #$00 			;00->A
4163 : STA $31FA,X 			;A->MEM
4166 : DEX 			;X--
4167 : BNE $4161 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4169 : LDX #$04 			;04->X
416B : LDA #$00 			;00->A
416D : STA $31FE,X 			;A->MEM
4170 : DEX 			;X--
4171 : BNE $416B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4173 : LDA #$01 			;01->A
4175 : STA $0403 			;A->MEM
4178 : LDA #$03 			;03->A
417A : STA $76 			;A->MEM
417C : LDA #$00 			;00->A
417E : STA $75 			;A->MEM
4180 : LDA #$A0 			;A0->A
4182 : STA $80 			;A->MEM
4184 : JSR $A4E6  			;Ìø×ª×Ó³ÌÐò
4187 : LDX $A6 			;->X
4189 : LDY $A7 			;->Y
418B : INT $9E17    ;Æ¬Í·µÄ¹öÆÁ
418E : JSR $43D7  			;Ìø×ª×Ó³ÌÐòSet new player data
4191 : LDA $2EDA 			;->A  data check
4194 : BEQ $4199 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4196 : JMP $422C 			;goto exit
4199 : LDA $2EB0 			;->A
419C : ORA $2EB1 			;A¡Å($n2n1)¡úA
419F : ORA $2EB2 			;A¡Å($n2n1)¡úA
41A2 : ORA $2EB3 			;A¡Å($n2n1)¡úA
41A5 : BEQ $41AA 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
41A7 : JMP $422C 			;goto exit
41AA : LDA $2ED0 			;->A
41AD : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
41AF : BNE $41B6 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
41B1 : LDA $2ECF 			;->A
41B4 : CMP #$64 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
41B6 : BNE $422C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐøgoto exit
41B8 : LDA #$AA 			;->A
41BA : STA $3403 			;A->MEM
41BD : LDA $2EBB 			;->A  bliss
41C0 : CMP #$14 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
41C2 : BNE $422C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø  goto exit
41C4 : INT $9E13      ;Ñ¡ÔñÈËÎï
41C7 : BCC $422C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø goto exit
41C9 : LDA #$00 			;->A
41CB : STA $80 			;A->MEM
41CD : LDA #$00 			;->A
41CF : STA $81 			;A->MEM
41D1 : LDX #$FF 			;->X
41D3 : INX 			;X++   check data program checksum
41D4 : CLC 			;Çå½øÎ»±êÖ¾
41D5 : LDA $4191,X 			;->A
41D8 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
41DA : STA $80 			;A->MEM
41DC : LDA #$00 			;->A
41DE : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
41E0 : STA $81 			;A->MEM
41E2 : CPX $33 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
41E4 : BCC $41D3 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
41E6 : NOP 			;NULL
41E7 : NOP 			;NULL
41E8 : NOP 			;NULL
41E9 : NOP 			;NULL
41EA : LDA $81 			;->A
41EC : CMP #$16 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
41EE : BNE $41F4 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
41F0 : LDA $80 			;->A
41F2 : CMP #$87 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
41F4 : BNE $422C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐøgoto exit
41F6 : JSR $44DD  			;Ìø×ª×Ó³ÌÐò calc Food&water Full
41F9 : LDX #$C6 			;->X
41FB : LDA $2E8B,X 			;->A
41FE : STA $2933,X 			;A->MEM  copy player data
4201 : DEX 			;X--
4202 : BNE $41FB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4204 : LDX #$8D 			;->X
4206 : LDA $3175,X 			;->A
4209 : STA $29F9,X 			;A->MEM
420C : DEX 			;X--
420D : BNE $4206 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
420F : LDA #$34 			;->A
4211 : STA $80 			;A->MEM
4213 : LDA #$29 			;->A
4215 : STA $81 			;A->MEM  2934
4217 : LDA #$53 			;->A
4219 : STA $82 			;A->MEM
421B : LDA #$01 			;->A
421D : STA $83 			;A->MEM  0153
421F : INT $310D      ;Page2 6053(Write SaveData)
4222 : LDA $3403 			;->A
4225 : CMP #$AA 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4227 : BNE $422C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐøgoto exit
4229 : JMP $4113 			;
;exit
422C : LDA #$00 			;->A
422E : STA $0402 			;A->MEM
4231 : LDA #$01 			;->A
4233 : STA $0403 			;A->MEM ;ÏÔÊ¾´ó×Ö
4236 : LDA #$60 			;->A
4238 : STA $0482 			;A->MEM
423B : LDA #$00 			;->A
423D : STA $0480 			;A->MEM
4240 : STA $0481 			;A->MEM
4243 : LDX #$C6 			;->X
4245 : LDA #$00 			;->A
4247 : STA $2E8B,X 			;A->MEM  2E8B--2f52 Çå0
424A : DEX 			;X--
424B : BNE $4245 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
424D : LDX $41 			;->X
424F : TXS 			;X->¶ÑÕ»
4250 : INT $0222    ;exit
;after load
4253 : LDX #$04 			;->X
4255 : LDA #$00 			;->A
4257 : STA $2EAB,X 			;A->MEM clean attrib
425A : DEX 			;X--
425B : BNE $4255 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
425D : LDA #$00 			;->A
425F : STA $2EC6 			;A->MEM
4262 : STA $354E 			;A->MEM
4265 : LDX #$0B 			;->X
4267 : LDA #$00 			;->A
4269 : STA $2F51,X 			;A->MEM
426C : DEX 			;X--   clean task£¿
426D : BNE $4267 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
426F : LDX #$28 			;->X
4271 : LDA #$00 			;->A
4273 : STA $2F5C,X 			;A->MEM  clean item
4276 : DEX 			;X--
4277 : BNE $4271 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4279 : LDA #$2A 			;->A add ²¼ÒÂ
427B : STA $2F5D 			;A->MEM
427E : LDA #$01 			;->A
4280 : STA $2F5E 			;A->MEM
4283 : BIT $3198 			;A¡Ä($n2n1)  Have weapon
4286 : BPL $4292 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4288 : LDA #$4D 			;->A  add ×ÔÖÆÎäÆ÷
428A : STA $2F5F 			;A->MEM
428D : LDA #$01 			;->A
428F : STA $2F60 			;A->MEM
4292 : LDA $3180 			;->A
4295 : BEQ $42B2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø   add Ì³Map
4297 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4299 : BEQ $42B2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
429B : LDX #$00 			;->X
429D : INX 			;X++
429E : LSR 			;AÂß¼­ÓÒÒÆ
429F : BCS $429D 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
42A1 : DEX 			;X--
42A2 : TXA 			;X->A
42A3 : CLC 			;Çå½øÎ»±êÖ¾
42A4 : ADC #$4F 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
42A6 : CMP #$57 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
42A8 : BCS $42B2 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
42AA : STA $2F61 			;A->MEM
42AD : LDA #$01 			;->A
42AF : STA $2F62 			;A->MEM
42B2 : RTS 			;×Ó³ÌÐò·µ»Ø
;calc HP FP Max
42B3 : LDY #$00 			;->Y
42B5 : LDX #$00 			;->X
42B7 : CPX $2EDA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1) SkillNumber
42BA : BEQ $42CB 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
42BC : LDA $2EDB,Y 			;->A  SkillID
42BF : CMP #$36 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
42C1 : BCS $42CB 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
42C3 : INY 			;Y++
42C4 : INY 			;Y++
42C5 : INY 			;Y++
42C6 : INY 			;Y++
42C7 : INX 			;X++
42C8 : JMP $42B7 			;
42CB : STX $2EDA 			;X->MEM SkillNumber
42CE : LDX #$00 			;->X
42D0 : LDA $2ED5,X 			;->A    Selected Skill
42D3 : AND #$7F 			;A¡Ä$n¡úA
42D5 : CMP #$36 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
42D7 : BCC $42DE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
42D9 : LDA #$00 			;->A
42DB : STA $2ED5,X 			;A->MEM    Selected Skill
42DE : INX 			;X++
42DF : CPX $05 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
42E1 : BCC $42D0 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
42E3 : LDA $2EBF 			;->A
42E6 : CMP $2EC5 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
42E9 : BNE $42F1 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
42EB : LDA $2EBE 			;->A
42EE : CMP $2EC4 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
42F1 : BCS $42FF 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
42F3 : LDA $2EBE 			;->A
42F6 : STA $2EC4 			;A->MEM
42F9 : LDA $2EBF 			;->A
42FC : STA $2EC5 			;A->MEM
42FF : LDA $2EC5 			;->A
4302 : CMP $2EBD 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4305 : BNE $430D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4307 : LDA $2EC4 			;->A
430A : CMP $2EBC 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
430D : BCS $431B 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
430F : LDA $2EC4 			;->A
4312 : STA $2EBC 			;A->MEM
4315 : LDA $2EC5 			;->A
4318 : STA $2EBD 			;A->MEM
431B : RTS 			;×Ó³ÌÐò·µ»Ø

431C : TXA 			;X->A
431D : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
431E : LDA #$00 			;->A
4320 : LDX #$09 			;->X
4322 : STA $03F8,X 			;A->MEM  03F8--0401ÇåÁã
4325 : DEX 			;X--
4326 : BPL $4322 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4328 : PLA 			;A³öÕ»
4329 : TAX 			;A->X
432A : LDA #$00 			;->A
;ÇåÁã
432C : STA $40 			;A->MEM
432E : STA $0431 			;A->MEM
4331 : STA $08BA 			;A->MEM
4334 : STA $2E87 			;A->MEM
4337 : STA $3084 			;A->MEM
433A : STA $3445 			;A->MEM
;3175--3202ÇåÁã
433D : LDX #$8D 			;->X
433F : LDA #$00 			;->A
4341 : STA $3175,X 			;A->MEM
4344 : DEX 			;X--
4345 : BNE $433F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
;3202--3301ÇåÁã
4347 : LDX #$FF 			;->X
4349 : LDA #$00 			;->A
434B : STA $3202,X 			;A->MEM
434E : DEX 			;X--
434F : BNE $4349 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
;3302--3401ÇåÁã
4351 : LDX #$FF 			;->X
4353 : LDA #$00 			;->A
4355 : STA $3302,X 			;A->MEM
4358 : DEX 			;X--
4359 : BNE $4353 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
;ÇåÁã
435B : LDA #$00 			;->A
435D : STA $3445 			;A->MEM
4360 : LDA #$00 			;->A
4362 : STA $3446 			;A->MEM
;±£´æÒ³Âë->$45
4365 : LDA $00 			;->A
4367 : STA $45 			;A->MEM
;init
4369 : LDA #$02 			;->A
436B : STA $53 			;A->MEM
436D : LDA #$00 			;->A
436F : STA $47 			;A->MEM 00
4371 : LDA #$FF 			;->A
4373 : STA $54 			;A->MEM
4375 : LDA #$00 			;->A
4377 : STA $2E88 			;A->MEM
437A : LDX #$48 			;->X
437C : LDA #$00 			;->A
437E : STA $3034,X 			;A->MEM 3034--307CÇåÁã
4381 : DEX 			;X--
4382 : BNE $437C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4384 : LDA #$00 			;->A
4386 : STA $307D 			;A->MEM
4389 : LDA #$00 			;->A
438B : STA $307E 			;A->MEM

438E : LDX #$20 			;->X
4390 : LDA #$FF 			;->A
4392 : STA $107F,X 			;A->MEM
4395 : DEX 			;X--
4396 : BNE $4390 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

4398 : LDX #$28 			;->X
439A : LDA #$FF 			;->A
439C : STA $2FEC,X 			;A->MEM
439F : DEX 			;X--
43A0 : BNE $439A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

43A2 : LDA #$C0 			;->A
43A4 : STA $2E80 			;A->MEM
43A7 : LDA #$09 			;->A
43A9 : STA $2E81 			;A->MEM
43AC : LDA #$FA 			;->A
43AE : STA $307F 			;A->MEM
43B1 : LDA #$3C 			;->A
43B3 : STA $3080 			;A->MEM
43B6 : LDA #$0F 			;->A
43B8 : STA $3081 			;A->MEM
43BB : LDA #$0A 			;->A
43BD : STA $3082 			;A->MEM
43C0 : RTS 			;×Ó³ÌÐò·µ»Ø
;set screen
43C1 : LDA #$03 			;->A
43C3 : STA $0435 			;A->MEM
43C6 : LDA #$01 			;->A
43C8 : STA $0402 			;A->MEM  ÏÔÊ¾Ð¡×Ö
43CB : LDA #$00 			;->A
43CD : STA $0403 			;A->MEM
43D0 : INT $8A2C      ;ÆÁÄ»ÖÐ¶Ï
43D3 : JSR $AF78  			;Ìø×ª×Ó³ÌÐò
43D6 : RTS 			;×Ó³ÌÐò·µ»Ø
;Set new player data
43D7 : LDX #$49 			;->X
43D9 : LDA $43FB,X 			;->A
43DC : STA $2E8B,X 			;A->MEM
43DF : DEX 			;X--
43E0 : BNE $43D9 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
43E2 : LDA #$00 			;->A
43E4 : STA $2EDA 			;A->MEM
43E7 : LDX #$05 			;->X
43E9 : LDA #$00 			;->A
43EB : STA $2ED4,X 			;A->MEM
43EE : DEX 			;X--
43EF : BNE $43E9 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
43F1 : LDX #$20 			;->X
43F3 : LDA #$00 			;->A
43F5 : STA $2F31,X 			;A->MEM
43F8 : DEX 			;X--
43F9 : BNE $43F3 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
43FB : RTS 			;×Ó³ÌÐò·µ»Ø
;new player data
43FC : 03476C70440500000014141414141400FF00006C69616E73700000000000000E0000000000000000000014141414141464006400000000006400006400640064006400640064000000

;Calc new age HP
4445 : LDX #$04 			;->X
4447 : LDA $2E90,X 			;->A
444A : STA $7F,X 			;A->MEM time->80
444C : DEX 			;X--
444D : BNE $4447 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
444F : LDA #$C0 			;->A
4451 : STA $84 			;A->MEM
4453 : LDA #$A8 			;->A
4455 : STA $85 			;A->MEM  A8C0  43200(12h)
4457 : INT $9E24      ;80--83³ý84-85 ÉÌ->80
445A : CLC 			;Çå½øÎ»±êÖ¾
445B : LDA $80 			;->A
445D : ADC #$0E 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
445F : STA $2EAB 			;A->MEM  age
4462 : LDA $2EAB 			;->A
4465 : CMP #$0E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4467 : BCS $446B 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4469 : LDA #$0E 			;->A
446B : CMP #$19 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
446D : BCC $4471 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
446F : LDA #$19 			;->A
4471 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
4472 : SBC #$0E 			;A-MEM-C->A
4474 : LDX #$14 			;->X
4476 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
4479 : LDA #$64 			;->A
447B : CLC 			;Çå½øÎ»±êÖ¾
447C : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
447E : STA $80 			;A->MEM
4480 : BCC $4484 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4482 : INC $81 			;MEM++
4484 : LDA $2EC2 			;->A  fplevel
4487 : STA $82 			;A->MEM
4489 : LDA $2EC3 			;->A
448C : STA $83 			;A->MEM  fplevel
448E : LSR $83 			;Âß¼­ÓÒÒÆ
4490 : ROR $82 			;Ñ­»·ÓÒÒÆ
4492 : LSR $83 			;Âß¼­ÓÒÒÆ
4494 : ROR $82 			;Ñ­»·ÓÒÒÆ fplevel/4
4496 : CLC 			;Çå½øÎ»±êÖ¾
4497 : LDA $80 			;->A
4499 : ADC $82 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
449B : STA $2EBE 			;A->MEM  hpMax
449E : LDA $81 			;->A
44A0 : ADC $83 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
44A2 : STA $2EBF 			;A->MEM
44A5 : LDA $2EAB 			;->A  Age
44A8 : CMP #$14 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
44AA : BCC $44DC 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
44AC : LDA #$16 			;->A  ºìÁ«½ÌÒå
44AE : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
44B1 : BCC $44DC 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
44B3 : LDA $2EDC,Y 			;->A  Skill level
44B6 : CMP #$50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
44B8 : BCC $44DC 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
44BA : LDX $2E98 			;->X
44BD : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
44C0 : LDA #$0A 			;->A
44C2 : STA $82 			;A->MEM
44C4 : LDA #$00 			;->A
44C6 : STA $83 			;A->MEM  000A(10)
44C8 : INT $9E23      ;80-81³ý82-83 ÉÌ80
44CB : CLC 			;Çå½øÎ»±êÖ¾
44CC : LDA $2EBE 			;->A hpMax
44CF : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
44D1 : STA $2EBE 			;A->MEM
44D4 : LDA $2EBF 			;->A
44D7 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
44D9 : STA $2EBF 			;A->MEM hpMax
44DC : RTS 			;×Ó³ÌÐò·µ»Ø

;calc food&Water Full
44DD : CLC 			;Çå½øÎ»±êÖ¾
44DE : LDA $2E95 			;->A ÏÈÌìëöÁ¦
44E1 : ADC #$05 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
44E3 : LDX #$0F 			;->X
44E5 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
44E8 : LDA $80 			;->A
44EA : STA $2EC9 			;A->MEM  foodfull
44ED : LDA $81 			;->A
44EF : STA $2ECA 			;A->MEM  foodfull
44F2 : CLC 			;Çå½øÎ»±êÖ¾
44F3 : LDA $2E95 			;->A ÏÈÌìëöÁ¦
44F6 : ADC #$04 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
44F8 : LDX #$0F 			;->X
44FA : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
44FD : LDA $80 			;->A
44FF : STA $2ECD 			;A->MEM  waterfull
4502 : LDA $81 			;->A
4504 : STA $2ECE 			;A->MEM  waterfull
4507 : RTS 			;×Ó³ÌÐò·µ»Ø

;main menu
4508 : TSX 			;¶ÑÕ»->X
4509 : TXA 			;X->A
450A : LDX #$01 			;->X
450C : STA $08CA,X 			;A->MEM
450F : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4512 : LDX #$08 			;->X
4514 : LDY #$01 			;->Y
4516 : LDA #$25 			;->A
4518 : STA $A8 			;A->MEM
451A : LDA #$45 			;->A
451C : STA $A9 			;A->MEM  4525
451E : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
4521 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4524 : RTS 			;×Ó³ÌÐò·µ»Ø
4525 : 00 04 84 01 9E48 4792 1C87 4545
4531 : ²é¿´ÿÎïÆ·ÿ¼¼ÄÜÿ¹¦ÄÜ

;¹¦ÄÜ
4545 : TSX 			;¶ÑÕ»->X
4546 : TXA 			;X->A
4547 : LDX #$00 			;->X
4549 : STA $08CA,X 			;A->MEM
454C : LDX #$72 			;->X
454E : LDY #$04 			;->Y
4550 : LDA #$3A 			;->A
4552 : STA $A8 			;A->MEM
4554 : LDA #$48 			;->A
4556 : STA $A9 			;A->MEM  483A
4558 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
455B : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
455E : RTS 			;×Ó³ÌÐò·µ»Ø
;½áÊø
455F : LDA #$06 			;->A
4561 : STA $043F 			;A->MEM
4564 : LDA #$14 			;->A
4566 : STA $0440 			;A->MEM
4569 : LDA #$96 			;->A
456B : STA $0441 			;A->MEM
456E : LDA #$30 			;->A
4570 : STA $0442 			;A->MEM
4573 : LDA #$F8 			;->A
4575 : STA $A6 			;A->MEM
4577 : LDA #$45 			;->A
4579 : STA $A7 			;A->MEM
457B : JSR $A3CD  			;Ìø×ª×Ó³ÌÐò [ÊäÈë]È·ÈÏ,[Ìø³ö]·ÅÆúC=1
457E : BCS $45ED 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4580 : LDA $2E94 			;->A
4583 : CMP $3088 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4586 : BNE $459E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4588 : LDA $2E93 			;->A
458B : CMP $3087 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
458E : BNE $459E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4590 : LDA $2E92 			;->A
4593 : CMP $3086 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4596 : BNE $459E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4598 : LDA $2E91 			;->A
459B : CMP $3085 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
459E : BCC $45EA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
45A0 : LDA #$0C 			;->A
45A2 : STA $043F 			;A->MEM
45A5 : LDA #$20 			;->A
45A7 : STA $0440 			;A->MEM
45AA : LDA #$9C 			;->A
45AC : STA $0441 			;A->MEM
45AF : LDA #$46 			;->A
45B1 : STA $0442 			;A->MEM
45B4 : LDA #$0D 			;->A
45B6 : STA $A6 			;A->MEM
45B8 : LDA #$46 			;->A
45BA : STA $A7 			;A->MEM  460D
45BC : JSR $A3CD  			;Ìø×ª×Ó³ÌÐò [ÊäÈë]È·ÈÏ,[Ìø³ö]·ÅÆúC=1
45BF : BCS $45EA 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
45C1 : LDX #$C6 			;->X
45C3 : LDA $2E8B,X 			;->A
45C6 : STA $2933,X 			;A->MEM
45C9 : DEX 			;X--
45CA : BNE $45C3 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
45CC : LDX #$8D 			;->X
45CE : LDA $3175,X 			;->A
45D1 : STA $29F9,X 			;A->MEM
45D4 : DEX 			;X--
45D5 : BNE $45CE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
45D7 : LDA #$34 			;->A
45D9 : STA $80 			;A->MEM
45DB : LDA #$29 			;->A
45DD : STA $81 			;A->MEM
45DF : LDA #$53 			;->A
45E1 : STA $82 			;A->MEM
45E3 : LDA #$01 			;->A
45E5 : STA $83 			;A->MEM
45E7 : INT $310D      ;Page2 6053(Write SaveData)
45EA : JMP $422C 			;exit

45ED : LDX #$00 			;->X
45EF : LDA $08CA,X 			;->A
45F2 : TAX 			;A->X
45F3 : TXS 			;X->¶ÑÕ»
45F4 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
45F7 : RTS 			;×Ó³ÌÐò·µ»Ø
45F8 :     ÕæµÄÍË³öÓÎÏ·Âð?
460D : ÄãÒÑ¾­ºÃ¾ÃÃ»´æµµÁË,ÏÖÔÚ±£´æÂð?
;´æµµ
462D : LDX #$00 			;->X
462F : LDA $08CA,X 			;->A
4632 : TAX 			;A->X
4633 : TXS 			;X->¶ÑÕ»
4634 : LDA #$05 			;->A
4636 : STA $A6 			;A->MEM
4638 : LDA #$47 			;->A
463A : STA $A7 			;A->MEM  4705ÇëÉÔºóÔÙ´æ
463C : LDA $2E94 			;->A
463F : CMP $3088 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4642 : BNE $465A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4644 : LDA $2E93 			;->A
4647 : CMP $3087 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
464A : BNE $465A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
464C : LDA $2E92 			;->A
464F : CMP $3086 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4652 : BNE $465A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4654 : LDA $2E91 			;->A
4657 : CMP $3085 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
465A : BCS $465F 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
465C : JMP $46EA 			;
465F : JSR $4727  			;Ìø×ª×Ó³ÌÐò
4662 : BCS $4667 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4664 : JMP $46EA 			;
;´æµµ²Ù×÷
4667 : LDX #$04 			;->X
4669 : LDA $2E90,X 			;->A
466C : STA $31FA,X 			;A->MEM  played time
466F : DEX 			;X--
4670 : BNE $4669 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4672 : LDX #$04 			;->X
4674 : LDA $2EAF,X 			;->A
4677 : STA $31FE,X 			;A->MEM  exp
467A : DEX 			;X--
467B : BNE $4674 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
467D : LDA #$11 			;->A
467F : STA $A6 			;A->MEM
4681 : LDA #$47 			;->A
4683 : STA $A7 			;A->MEM  4711´æµµÊ§°Ü!
4685 : LDX #$C6 			;->X
4687 : LDA $2E8B,X 			;->A
468A : STA $2933,X 			;A->MEM
468D : DEX 			;X--
468E : BNE $4687 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4690 : LDX #$8D 			;->X
4692 : LDA $3175,X 			;->A
4695 : STA $29F9,X 			;A->MEM
4698 : DEX 			;X--
4699 : BNE $4692 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
469B : LDA #$34 			;->A
469D : STA $80 			;A->MEM
469F : LDA #$29 			;->A
46A1 : STA $81 			;A->MEM  2934
46A3 : LDA #$53 			;->A
46A5 : STA $82 			;A->MEM
46A7 : LDA #$01 			;->A
46A9 : STA $83 			;A->MEM
46AB : INT $310D      ;Page2 6053(Write SaveData)
46AE : BCC $46EA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
46B0 : JSR $4445  			;Ìø×ª×Ó³ÌÐò;Calc new age HP
46B3 : LDA #$1C 			;->A
46B5 : STA $A6 			;A->MEM
46B7 : LDA #$47 			;->A
46B9 : STA $A7 			;A->MEM  471c´æµµ³É¹¦!
46BB : LDA #$2C 			;->A
46BD : STA $80 			;A->MEM
46BF : LDA #$01 			;->A
46C1 : STA $81 			;A->MEM
46C3 : LDA $2E93 			;->A
46C6 : STA $3087 			;A->MEM
46C9 : LDA $2E94 			;->A
46CC : STA $3088 			;A->MEM
46CF : CLC 			;Çå½øÎ»±êÖ¾
46D0 : LDA $2E91 			;->A
46D3 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
46D5 : STA $3085 			;A->MEM
46D8 : LDA $2E92 			;->A
46DB : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
46DD : STA $3086 			;A->MEM
46E0 : BCC $46EA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
46E2 : INC $3087 			;MEM++
46E5 : BNE $46EA 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
46E7 : INC $3088 			;MEM++
46EA : LDA #$48 			;48->A
46EC : STA $043F 			;A->MEM
46EF : LDA #$0A 			;0A->A
46F1 : STA $0440 			;A->MEM
46F4 : LDA #$84 			;84->A
46F6 : STA $0441 			;A->MEM
46F9 : LDA #$1A 			;1A->A
46FB : STA $0442 			;A->MEM  1A840A48
46FE : JSR $A361  			;Ìø×ª×Ó³ÌÐò  Show tip(Esc for exit)
4701 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4704 : RTS 			;×Ó³ÌÐò·µ»Ø
4705 : ÇëÉÔºóÔÙ´æ
4711 : ´æµµÊ§°Ü!
471C : ´æµµ³É¹¦!

4727 : LDA $2E94 			;->A  PlayedTime
472A : CMP $31FE 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
472D : BNE $4745 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
472F : LDA $2E93 			;->A  PlayedTime
4732 : CMP $31FD 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4735 : BNE $4745 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4737 : LDA $2E92 			;->A  PlayedTime
473A : CMP $31FC 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
473D : BNE $4745 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
473F : LDA $2E91 			;->A  PlayedTime
4742 : CMP $31FB 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4745 : BCC $47BE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4747 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
4748 : LDA $2E91 			;->A  PlayedTime
474B : SBC $31FB 			;A-MEM-C->A
474E : STA $31FB 			;A->MEM 
4751 : LDA $2E92 			;->A  PlayedTime
4754 : SBC $31FC 			;A-MEM-C->A
4757 : STA $31FC 			;A->MEM
475A : LDA $2E93 			;->A  PlayedTime
475D : SBC $31FD 			;A-MEM-C->A
4760 : STA $31FD 			;A->MEM
4763 : LDA $2E94 			;->A  PlayedTime
4766 : SBC $31FE 			;A-MEM-C->A
4769 : STA $31FE 			;A->MEM
476C : ASL $31FB 			;ËãÊõ×óÒÆ
476F : ROL $31FC 			;Ñ­»·×óÒÆ
4772 : ROL $31FD 			;Ñ­»·×óÒÆ
4775 : ROL $31FE 			;Ñ­»·×óÒÆ
4778 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
4779 : LDA $2EB0 			;->A  exp
477C : SBC $31FF 			;A-MEM-C->A
477F : STA $31FF 			;A->MEM
4782 : LDA $2EB1 			;->A  exp
4785 : SBC $3200 			;A-MEM-C->A
4788 : STA $3200 			;A->MEM
478B : LDA $2EB2 			;->A  exp
478E : SBC $3201 			;A-MEM-C->A
4791 : STA $3201 			;A->MEM
4794 : LDA $2EB3 			;->A  exp
4797 : SBC $3202 			;A-MEM-C->A
479A : STA $3202 			;A->MEM
479D : LDA $31FE 			;->A
47A0 : CMP $3202 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
47A3 : BNE $47BB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
47A5 : LDA $31FD 			;->A
47A8 : CMP $3201 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
47AB : BNE $47BB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
47AD : LDA $31FC 			;->A
47B0 : CMP $3200 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
47B3 : BNE $47BB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
47B5 : LDA $31FB 			;->A
47B8 : CMP $31FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
47BB : BCC $47BE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
47BD : RTS 			;×Ó³ÌÐò·µ»Ø
47BE : CLC 			;Çå½øÎ»±êÖ¾
47BF : RTS 			;×Ó³ÌÐò·µ»Ø

;Á·¹¦
47C0 : LDX #$01 			;->X
47C2 : LDA $08CA,X 			;->A
47C5 : TAX 			;A->X
47C6 : TXS 			;X->¶ÑÕ»
47C7 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
47CA : JSR $8462  			;Ìø×ª×Ó³ÌÐò
47CD : RTS 			;×Ó³ÌÐò·µ»Ø

;ÄÚÁ¦
47CE : LDX #$01 			;->X
47D0 : LDA $08CA,X 			;->A
47D3 : TAX 			;A->X
47D4 : TXS 			;X->¶ÑÕ»
47D5 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
47D8 : LDX #$72 			;->X
47DA : LDY #$0C 			;->Y
47DC : LDA #$66 			;->A
47DE : STA $A8 			;A->MEM
47E0 : LDA #$48 			;->A
47E2 : STA $A9 			;A->MEM  $A9A8 = 4866 ÄÚÁ¦²Ëµ¥
47E4 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
47E7 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
47EA : RTS 			;×Ó³ÌÐò·µ»Ø

;´ò×ø
47EB : JSR $8514  			;Ìø×ª×Ó³ÌÐò
47EE : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
47F1 : RTS 			;×Ó³ÌÐò·µ»Ø
;¼ÓÁ¦
47F2 : INT $9E09
47F5 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
47F8 : RTS 			;×Ó³ÌÐò·µ»Ø
;ÎüÆø
47F9 : LDA $2E86 			;->A
47FC : ORA #$80 			;A¡Å$n¡úA
47FE : STA $2E86 			;A->MEM
4801 : INT $9E08
4804 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4807 : RTS 			;×Ó³ÌÐò·µ»Ø
;ÁÆÉË
4808 : INT $9E07
480B : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
480E : RTS 			;×Ó³ÌÐò·µ»Ø
;·¨Á¦
480F : LDX #$01 			;->X
4811 : LDA $08CA,X 			;->A
4814 : TAX 			;A->X
4815 : TXS 			;X->¶ÑÕ»
4816 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4819 : LDX #$72 			;->X
481B : LDY #$0C 			;->Y
481D : LDA #$8A 			;->A
481F : STA $A8 			;A->MEM
4821 : LDA #$48 			;->A
4823 : STA $A9 			;A->MEM  488A
4825 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
4828 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
482B : RTS 			;×Ó³ÌÐò·µ»Ø
;Ú¤Ë¼
482C : JSR $856B  			;Ìø×ª×Ó³ÌÐò
482F : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4832 : RTS 			;×Ó³ÌÐò·µ»Ø
;·¨µã
4833 : INT $311D      ;page2 9983 ·¨µã
4836 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4839 : RTS 			;×Ó³ÌÐò·µ»Ø
;menu data
483A : 00 05 81 01 ce47 0f48 c047 2d46 5f45
4848 : ÄÚÁ¦ ÿ·¨Á¦ ÿÁ·¹¦ ÿ´æµµ ÿ½áÊø 
4866 : 00 04 81 01 EB47 f247 f947 0848
4872 : ´ò×ø ÿ¼ÓÁ¦ ÿÎüÆø ÿÁÆÉË 
488A : 00 02 81 01 2c48 3348
4892 : Ú¤Ë¼ ÿ·¨µã

;Ö÷²Ëµ¥-²é¿´
489E : LDA #$00 			;->A
48A0 : STA $0445 			;A->MEM
48A3 : LDA #$06 			;->A
48A5 : STA $043F 			;A->MEM
48A8 : LDA #$02 			;->A
48AA : STA $0440 			;A->MEM
48AD : LDA #$9C 			;->A
48AF : STA $0441 			;A->MEM
48B2 : LDA #$4C 			;->A
48B4 : STA $0442 			;A->MEM
48B7 : INT $9E2D      ;clear rect
48BA : LDA #$01 			;->A
48BC : STA $0445 			;A->MEM
48BF : INT $9E2C      ;draw Rect
48C2 : LDX #$36 			;->X
48C4 : LDY #$04 			;->Y
48C6 : LDA #$E9 			;->A
48C8 : STA $A8 			;A->MEM
48CA : LDA #$4A 			;->A
48CC : STA $A9 			;A->MEM  4AE9
48CE : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
48D1 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
48D4 : RTS 			;×Ó³ÌÐò·µ»Ø

;²é¿´-×´Ì¬
48D5 : LDA $2EC4 			;->A
48D8 : STA $80 			;A->MEM
48DA : LDA $2EC5 			;->A
48DD : STA $81 			;A->MEM
48DF : LDA $2EBE 			;->A
48E2 : STA $82 			;A->MEM
48E4 : LDA $2EBF 			;->A
48E7 : STA $83 			;A->MEM
48E9 : INT $9E26      ;Calc Precent%
48EC : STA $05FC 			;A->MEM
48EF : LDA #$11 			;->A
48F1 : STA $A6 			;A->MEM
48F3 : LDA #$4B 			;->A
48F5 : STA $A7 			;A->MEM  4B11
48F7 : LDA $2EA9 			;->A      ;classID
48FA : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
48FC : BNE $4906 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
48FE : LDA #$79 			;->A
4900 : STA $A6 			;A->MEM
4902 : LDA #$4B 			;->A
4904 : STA $A7 			;A->MEM  4B79´øMP
4906 : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
4909 : JSR $49EE  			;Ìø×ª×Ó³ÌÐò
490C : RTS 			;×Ó³ÌÐò·µ»Ø

;²é¿´-ÊôÐÔ
490D : LDA #$49 			;->A
490F : STA $A6 			;A->MEM
4911 : LDA #$4C 			;->A
4913 : STA $A7 			;A->MEM  4C49
4915 : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
4918 : JSR $49EE  			;Ìø×ª×Ó³ÌÐò
491B : RTS 			;×Ó³ÌÐò·µ»Ø

;²é¿´-»éÒö
491C : LDA #$A0 			;->A
491E : STA $A6 			;A->MEM
4920 : LDA #$4C 			;->A
4922 : STA $A7 			;A->MEM  4CA0
4924 : LDA $2EAA 			;->A
4927 : BEQ $4931 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4929 : LDA #$BF 			;->A
492B : STA $A6 			;A->MEM
492D : LDA #$4C 			;->A
492F : STA $A7 			;A->MEM  4CBF
4931 : BIT $3181 			;A¡Ä($n2n1)
4934 : BPL $494B 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4936 : LDA #$B0 			;->A
4938 : STA $A6 			;A->MEM
493A : LDA #$4C 			;->A
493C : STA $A7 			;A->MEM  4CB0
493E : LDA $2EAA 			;->A
4941 : BEQ $494B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4943 : LDA #$CD 			;->A
4945 : STA $A6 			;A->MEM
4947 : LDA #$4C 			;->A
4949 : STA $A7 			;A->MEM  4CCD
494B : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
494E : JSR $49EE  			;Ìø×ª×Ó³ÌÐò
4951 : RTS 			;×Ó³ÌÐò·µ»Ø

;²é¿´-ÃèÊö
4952 : LDA $2EA9 			;->A  classID
4955 : JSR $7E41  			;Ìø×ª×Ó³ÌÐò get classname addr
4958 : LDA $80 			;->A
495A : STA $05FC 			;A->MEM
495D : LDA $81 			;->A
495F : STA $05FD 			;A->MEM
4962 : LDA $2EAA 			;->A  SexID
4965 : ASL 			;ËãÊõ×óÒÆ
4966 : TAX 			;A->X
4967 : LDA $49EA,X 			;->A  49Ea ÄÐÅ®
496A : STA $05FE 			;A->MEM
496D : LDA $49EB,X 			;->A
4970 : STA $05FF 			;A->MEM
4973 : LDA #$FC 			;->A
4975 : STA $0600 			;A->MEM
4978 : LDA #$4D 			;->A
497A : STA $0601 			;A->MEM  4DFC ÃèÊöwords
497D : LDA $2EAB 			;->A   Age
4980 : CMP #$10 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4982 : BCC $49BF 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4984 : LDA #$DC 			;->A
4986 : STA $0600 			;A->MEM
4989 : LDA #$4C 			;->A
498B : STA $0601 			;A->MEM  4CDC Ò»ËúºýÍ¿,
498E : LDA $2EAA 			;->A
4991 : BEQ $499D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4993 : LDA #$6C 			;->A
4995 : STA $0600 			;A->MEM
4998 : LDA #$4D 			;->A
499A : STA $0601 			;A->MEM  4D6C  Ã²ÈüÎÞÑÎ,
499D : LDA $2EBA 			;->A  face
49A0 : CMP #$1F 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
49A2 : BCC $49A6 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
49A4 : LDA #$1F 			;->A
49A6 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
49A7 : SBC #$0A 			;A-MEM-C->A
49A9 : LDX #$03 			;->X
49AB : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
49AE : LDX #$12 			;->X
49B0 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
49B3 : CLC 			;Çå½øÎ»±êÖ¾
49B4 : ADC $0600 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
49B7 : STA $0600 			;A->MEM
49BA : BCC $49BF 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
49BC : INC $0601 			;MEM++
49BF : LDA #$00 			;->A
49C1 : JSR $B1B3  			;Ìø×ª×Ó³ÌÐò
49C4 : JSR $8B12  			;Ìø×ª×Ó³ÌÐò
49C7 : LDA $80 			;->A
49C9 : STA $0602 			;A->MEM
49CC : LDA $81 			;->A
49CE : STA $0603 			;A->MEM
49D1 : LDA $82 			;->A
49D3 : STA $0604 			;A->MEM
49D6 : LDA $83 			;->A
49D8 : STA $0605 			;A->MEM
49DB : LDA #$FA 			;->A
49DD : STA $A6 			;A->MEM
49DF : LDA #$4B 			;->A
49E1 : STA $A7 			;A->MEM  4BFA
49E3 : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
49E6 : JSR $49EE  			;Ìø×ª×Ó³ÌÐò
49E9 : RTS 			;×Ó³ÌÐò·µ»Ø
49EA : ÄÐÅ®

;²é¿´²Ëµ¥²Ù×÷
49EE : LDA #$00 			;->A
49F0 : STA $0445 			;A->MEM
49F3 : LDA #$07 			;->A
49F5 : STA $043F 			;A->MEM
49F8 : LDA #$10 			;->A
49FA : STA $0440 			;A->MEM
49FD : LDA #$9B 			;->A
49FF : STA $0441 			;A->MEM
4A02 : LDA #$4B 			;->A
4A04 : STA $0442 			;A->MEM
4A07 : INT $9E2D      ;clear rect
4A0A : LDA $44 			;->A
4A0C : LSR 			;AÂß¼­ÓÒÒÆ
4A0D : TAX 			;A->X
4A0E : LDA #$06 			;->A
4A10 : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
4A13 : TAX 			;A->X
4A14 : LDY #$10 			;->Y
4A16 : LDA #$05 			;->A
4A18 : JSR $A451  			;Ìø×ª×Ó³ÌÐò
4A1B : BCC $4A43 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4A1D : LDA #$12 			;->A
4A1F : STA $0432 			;A->MEM
4A22 : LDA #$46 			;->A
4A24 : STA $0433 			;A->MEM
4A27 : LDA #$E0 			;->A
4A29 : STA $0431 			;A->MEM
4A2C : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
4A2F : CMP #$15 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4A31 : BEQ $49EE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø down
4A33 : CMP #$17 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4A35 : BEQ $4A3F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø left
4A37 : CMP #$16 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4A39 : BEQ $4A3F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø right
4A3B : CMP #$1B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4A3D : BNE $4A2C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø Ìø³ö
4A3F : ORA #$80 			;A¡Å$n¡úA
4A41 : STA $C7 			;A->MEM
4A43 : LDA #$00 			;->A
4A45 : STA $0431 			;A->MEM
4A48 : RTS 			;×Ó³ÌÐò·µ»Ø

4A49 : TXA 			;X->A
4A4A : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
4A4B : TYA 			;Y->A
4A4C : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
4A4D : JSR $4A6C  			;Ìø×ª×Ó³ÌÐò
4A50 : PLA 			;A³öÕ»
4A51 : TAY 			;A->Y
4A52 : PLA 			;A³öÕ»
4A53 : TAX 			;A->X
4A54 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
4A57 : RTS 			;×Ó³ÌÐò·µ»Ø

4A58 : LDX #$04 			;->X
4A5A : LDA $0452,X 			;->A
4A5D : STA $043E,X 			;A->MEM
4A60 : DEX 			;X--
4A61 : BNE $4A5A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4A63 : LDA #$00 			;->A
4A65 : STA $0445 			;A->MEM
4A68 : INT $9E2D      ;clear rect
4A6B : RTS 			;×Ó³ÌÐò·µ»Ø

4A6C : DEY 			;Y--
4A6D : DEY 			;Y--
4A6E : STX $043F 			;X->MEM
4A71 : STY $0440 			;Y->MEM
4A74 : LDA $44 			;->A
4A76 : LSR 			;AÂß¼­ÓÒÒÆ
4A77 : LDX #$12 			;->X
4A79 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
4A7C : CLC 			;Çå½øÎ»±êÖ¾
4A7D : ADC $043F 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
4A80 : STA $0441 			;A->MEM
4A83 : LDA #$05 			;->A
4A85 : LDX $44 			;->X
4A87 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
4A8A : CLC 			;Çå½øÎ»±êÖ¾
4A8B : ADC $0440 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
4A8E : ADC #$03 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
4A90 : STA $0442 			;A->MEM
4A93 : LDA $0441 			;->A
4A96 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
4A97 : LDA $0442 			;->A
4A9A : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
4A9B : LDA #$00 			;->A
4A9D : STA $0445 			;A->MEM
4AA0 : INT $9E2D      ;clear rect
4AA3 : LDA #$01 			;->A
4AA5 : STA $0445 			;A->MEM
4AA8 : INT $9E2C      ;draw Rect
4AAB : LDA $44 			;->A
4AAD : LSR 			;AÂß¼­ÓÒÒÆ
4AAE : LDX #$04 			;->X
4AB0 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
4AB3 : CLC 			;Çå½øÎ»±êÖ¾
4AB4 : ADC $043F 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
4AB7 : ADC #$03 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
4AB9 : STA $043F 			;A->MEM
4ABC : STA $0441 			;A->MEM
4ABF : INT $9E2B      ;Draw line
4AC2 : PLA 			;A³öÕ»
4AC3 : STA $0442 			;A->MEM
4AC6 : PLA 			;A³öÕ»
4AC7 : STA $0441 			;A->MEM
4ACA : INC $043F 			;MEM++
4ACD : INC $0440 			;MEM++
4AD0 : INC $0440 			;MEM++
4AD3 : DEC $0441 			;MEM--
4AD6 : DEC $0442 			;MEM--
4AD9 : LDX #$04 			;->X
4ADB : LDA $043E,X 			;->A
4ADE : STA $0452,X 			;A->MEM
4AE1 : DEX 			;X--
4AE2 : BNE $4ADB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4AE4 : RTS 			;×Ó³ÌÐò·µ»Ø
4AE5 : 47 6c 70 44
4AE9 : 4404 1005 0000 D548 0000 5249 0000 0D49 0000 1c49
4AFD : ×´Ì¬ÿÃèÊöÿÊôÐÔÿ»éÒö
4B11 : Ê³Îï:02 c72e 0A00/02 c92e 0000
4B21 : ÒûË®:02 cb2e 0a00/02 cd2e 0000
4B31 : ÉúÃü:02 bc2e 0a00/02 c42e 0a00(01 fc05 0a00%)
4b4a : ÄÚÁ¦:02 c02e 0a00/02 c22e 0a00(+02 b42e 0a00)
4b63 : ¾­Ñé:04 b02e 0a00 Ç±ÄÜ:02 cf2e 0000

4b79 : Ê³Îï:02 c72e 0a00/02 c92e 0000
ÒûË®:02 cb2e 0a00/02 cd2e 0000
ÉúÃü:02 bc2e 0a00/02 c42e 0a00(01 fc05 0a00%)
ÄÚÁ¦:02 c02e 0a00/02 c22e 0a00(+02 b42e 0a00)
·¨Á¦:02 8f31 0a00/02 9131 0a00(+02 9331 0a00)
¾­Ñé:04 b02e 0a00 Ç±ÄÜ:02 cf2e 0000
4bfa : [4bfb : 08 fc05 0a00]07 9f2e 0000      ;className PlayerName
4c06 : ÄãÊÇÒ»Î»01 ab2e 0a00ËêµÄ06 fe05 0a00ÐÔ
4c2f : Äã08 0006 0000 ;face
4c26 : ÎäÒÕ¿´ÆðÀ´09 434c 0000
4c34 : ³öÊÖËÆºõ09 464c 0000
4c40 : 00 00 08 02 06 04 04 06
4c49 : ½ðÇ®:04 d12e 0000
4c53 : ëöÁ¦ [01 b62e 0a00/01 952e 0a00]
4c66 : Ãô½Ý [01 b72e 0a00/01 962e 0a00]
4c79 : ÎòÐÔ [01 b82e 0a00/01 972e 0a00]
4c8c : ¸ù¹Ç [01 b92e 0a00/01 982e 0a00]
4CA0 : Äã»¹ÊÇ¹â¹÷Ò»Ìõ
4CB0 : ÄãÀÏÆÅÊÇ07 8631 0000
4CBF : Äã»¹´ý×Ö¹ëÖÐ
4CCD : ÄãÀÏ¹«ÊÇ07 8631 0000
4CDC : Ò»ËúºýÍ¿,²»ÊÇÈËÑù 
4CEE : Å£ÑÛÂí×ì,ÃæÄ¿ÕøÄü 
4D00 : Ð¡±ÇÐ¡ÑÛ,Ò»Á³Âé×Ó 
4D12 : ÏàÃ²Æ½Æ½,»¹¹ýµÃÈ¥ 
4D24 : Îå¹Ù¶ËÕý,Éí²ÄÔÈ³Æ 
4D36 : ÏàÃ²Ó¢¿¡,Ë«Ä¿ÓÐÉñ 
4D48 : ÆøÓîÐù°º,¹Ç÷ÀÇåÆæ 
4D5a : ·çÁ÷¿¡ÑÅ,ÒÇ±íÌÃÌÃ 
4D6c : Ã²ÈüÎÞÑÎ,²Ò²»ÈÌ¶Ã 
4D7e : ÑÛÐ¡×ì´ó,ÏàÃ²³óÂª 
4D90 : ¿´ÉÏÈ¥...ÂíÂí»¢»¢ 
4dA2 : ÏàÃ²Æ½Æ½,»¹¹ýµÃÈ¥ 
4DB4 : Éí²Ä½¿ºÃ,ÉÐÓÐ×ÊÉ« 
4Dc6 : æÃæÃÓñÁ¢,ÃÀÃ²Èç»¨ 
4DD8 : ³ÁÓãÂäÑã,±ÕÔÂÐß»¨ 
4DEA : ÃÀÛ¼¾øÂ×,ÈË¼äÏÉ×Ó 
4DFC : Ò»Á³ÖÉÆø

;game main
4E05 : LDX #$40 			;->X
4E07 : LDA #$00 			;->A
4E09 : STA $3404,X 			;A->MEM  map stack?
4E0C : DEX 			;X--
4E0D : BNE $4E07 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E0F : LDX #$40 			;->X
4E11 : LDA $5F96,X 			;->A     µØÍ¼Í¨ÐÐÊý¾Ý
4E14 : STA $3404,X 			;A->MEM 5F97->3405  2A4F 4156 4E51 5D53 6555 6B54 8252 8B50 805A 8C5B ACFFADFFAEFFAFFFB0FFB1FFB2FFB3FFB4FFB5FFB6FFB7FFB8FFB9FFBAFFBBFFBCFFBDFFBEFFBFFFC0FFC1FF
4E17 : DEX 			;X--
4E18 : BNE $4E11 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E1A : JSR $508E  			;Ìø×ª×Ó³ÌÐò load map
4E1D : JSR $55AE  			;Ìø×ª×Ó³ÌÐò clean 2100--27A0 old map data
4E20 : JSR $549A  			;Ìø×ª×Ó³ÌÐò
4E23 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
4E26 : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
4E29 : TAX 			;A->X
4E2A : LDY #$0C 			;->Y
4E2C : LDA #$3D 			;->A
4E2E : STA $80 			;A->MEM
4E30 : LDA #$4E 			;->A
4E32 : STA $81 			;A->MEM  4E3D
4E34 : TXA 			;X->A
4E35 : JSR $B044  			;Ìø×ª×Ó³ÌÐò;Run addr by Pressed Key
4E38 : BCS $4E26 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E3A : JMP $4E26 			;
4E3D : 1D 0D 17 16 14 15 1C 06 1F 00 13 0E
        (F2 ÊäÈë ×ó ÓÒ ÉÏ ÏÂ F1 Ó¢ºº F4 Ê±¼ä ÉÏ·­ ÏÂ·­)
4E4B : CE4E F54E A94F F94F 044F 744F 614E 614E DB4E DB4E EA4E DF4E

;Çá¹¦
4E61 : LDA $48 			;->A
4E63 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4E65 : BNE $4EAE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E67 : LDA #$02 			;->A
4E69 : STA $2E8A 			;A->MEM
4E6C : JSR $89B1  			;Ìø×ª×Ó³ÌÐò
4E6F : LDA $2E85 			;->A
4E72 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4E74 : BNE $4E7B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E76 : LDA $2E84 			;->A
4E79 : CMP #$1E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4E7B : BCC $4EAE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E7D : LDA $2EC1 			;->A
4E80 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4E82 : BNE $4E89 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E84 : LDA $2EC0 			;->A
4E87 : CMP #$C8 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4E89 : BCS $4E9D 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4E8B : LDA #$F9 			;->A
4E8D : STA $A6 			;A->MEM
4E8F : LDA #$5F 			;->A
4E91 : STA $A7 			;A->MEM  5FF9 ÄãÄÚÁ¦²»×ã,ÎÞ·¨Ê©Õ¹Çá¹¦
4E93 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò °´ÈÎÒâ¼ü·µ»ØµØÍ¼
4E96 : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
4E99 : JSR $5081  			;Ìø×ª×Ó³ÌÐò draw map
4E9C : RTS 			;×Ó³ÌÐò·µ»Ø
4E9D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1

4E9E : LDA $2EC0 			;->A
4EA1 : SBC #$C8 			;A-MEM-C->A
4EA3 : STA $2EC0 			;A->MEM
4EA6 : BCS $4EAB 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4EA8 : DEC $2EC1 			;MEM--
4EAB : JMP $4EAF 			;
4EAE : RTS 			;×Ó³ÌÐò·µ»Ø

4EAF : JSR $627B  			;Ìø×ª×Ó³ÌÐò
4EB2 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4EB4 : BNE $4EB9 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4EB6 : JMP $55E8 			;
4EB9 : STA $47 			;A->MEM
4EBB : LDA $3445 			;->A
4EBE : AND #$7F 			;A¡Ä$n¡úA
4EC0 : STA $3445 			;A->MEM
4EC3 : LDA #$00 			;->A
4EC5 : STA $08BA 			;A->MEM
4EC8 : JSR $508E  			;Ìø×ª×Ó³ÌÐò load map
4ECB : JMP $5081 			;
;RTS
4ECE : INT $3122      ;page2 6052
4ED1 : RTS 			;×Ó³ÌÐò·µ»Ø

4ED2 : RTS 			;×Ó³ÌÐò·µ»Ø
4ED3 : 97  ;???
4ED4 : 80  ;???
4ED5 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4ED7 : INT $4F00
4EDA : 34  ;???

;main menu
4EDB : JSR $4508  			;Ìø×ª×Ó³ÌÐò main menu
4EDE : RTS 			;×Ó³ÌÐò·µ»Ø
;ÏÂ·­Ò³(ÓÒÁ¬×ß)
4EDF : JSR $4FF9  			;Ìø×ª×Ó³ÌÐò ÓÒÒÆ
4EE2 : JSR $832C  			;Ìø×ª×Ó³ÌÐò
4EE5 : LDA $C7 			;->A
4EE7 : BPL $4EDF 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4EE9 : RTS 			;×Ó³ÌÐò·µ»Ø

;ÉÏ·­Ò³(×óÁ¬×ß)
4EEA : JSR $4FA9  			;Ìø×ª×Ó³ÌÐò  ×óÒÆ
4EED : JSR $832C  			;Ìø×ª×Ó³ÌÐò
4EF0 : LDA $C7 			;->A
4EF2 : BPL $4EEA 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4EF4 : RTS 			;×Ó³ÌÐò·µ»Ø

;Map ÊäÈë¼ü
4EF5 : LDA $4B 			;->A
4EF7 : AND #$7F 			;A¡Ä$n¡úA
4EF9 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4EFB : BNE $4F03 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4EFD : JSR $525D  			;Ìø×ª×Ó³ÌÐò get player element
4F00 : JSR $6012  			;Ìø×ª×Ó³ÌÐò
4F03 : RTS 			;×Ó³ÌÐò·µ»Ø

;Map up key
4F04 : LDA $4B 			;->A
4F06 : AND #$7F 			;A¡Ä$n¡úA
4F08 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F0A : BEQ $4F19 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F0C : LDA $4B 			;->A
4F0E : AND #$80 			;A¡Ä$n¡úA
4F10 : ORA #$02 			;A¡Å$n¡úA
4F12 : EOR #$80 			;AÒì»ò($n)¡úA
4F14 : STA $4B 			;A->MEM
4F16 : JMP $5056 			;
4F19 : JSR $525D  			;Ìø×ª×Ó³ÌÐò get player element
4F1C : LDA $51 			;->A  Map element type
4F1E : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F20 : BEQ $4F54 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø ³¡¾°ÇÐ»»1  ´ÎÒª³¡¾°ÇÐ»»
4F22 : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F24 : BEQ $4F54 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø ³¡¾°ÇÐ»»1  Â¥ÌÝ
4F26 : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F28 : BEQ $4F3B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø Â¥·¿
4F2A : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F2C : BEQ $4F47 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø Â¥·¿
4F2E : CMP #$0A 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F30 : BEQ $4F5A 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø ³¡¾°ÇÐ»»2
4F32 : CMP #$0B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F34 : BEQ $4F64 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø ³¡¾°ÇÐ»»3
4F36 : CMP #$0C 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F38 : BEQ $4F6E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø ¶ÔÓ¦ÇÐ»»¾µÍ·
4F3A : RTS 			;×Ó³ÌÐò·µ»Ø
;½øÈëÂ¥·¿(´ø×ø±ê±£´æ)
4F3B : LDA $52 			;->A
4F3D : CMP #$0C 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F3F : BCC $4F53 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F41 : CMP #$1A 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F43 : BCS $4F53 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F45 : BCC $4F54 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
;04
4F47 : LDA $52 			;->A
4F49 : CMP #$16 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F4B : BCC $4F53 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F4D : CMP #$24 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F4F : BCS $4F53 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F51 : BCC $4F54 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F53 : RTS 			;×Ó³ÌÐò·µ»Ø
;³¡¾°ÇÐ»»1(´ø×ø±ê±£´æ)
4F54 : JSR $50D4  			;Ìø×ª×Ó³ÌÐò
4F57 : JMP $5081 			;
;³¡¾°ÇÐ»»(×ªµØÍ¼×ó²à)
4F5A : LDA $50 			;->A
4F5C : STA $47 			;A->MEM
4F5E : JSR $508E  			;Ìø×ª×Ó³ÌÐò load map
4F61 : JMP $5081 			;
;³¡¾°ÇÐ»»(×ªµØÍ¼ÓÒ²à)
4F64 : LDA $50 			;->A
4F66 : STA $47 			;A->MEM
4F68 : JSR $50A6  			;Ìø×ª×Ó³ÌÐò
4F6B : JMP $5081 			;
;¶ÔÓ¦³¡¾°ÇÐ»»(ÉÏ²ãµØÍ¼)
4F6E : JSR $511B  			;Ìø×ª×Ó³ÌÐò
4F71 : JMP $5081 			;

;Map down key
4F74 : LDA $4B 			;->A
4F76 : AND #$7F 			;A¡Ä$n¡úA
4F78 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F7A : BEQ $4F89 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F7C : LDA $4B 			;->A
4F7E : AND #$80 			;A¡Ä$n¡úA
4F80 : ORA #$00 			;A¡Å$n¡úA
4F82 : EOR #$80 			;AÒì»ò($n)¡úA
4F84 : STA $4B 			;A->MEM  player dir
4F86 : JMP $5056 			;
4F89 : LDA $48 			;->A  map type
4F8B : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F8D : BEQ $4F98 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F8F : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F91 : BEQ $4F98 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F93 : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F95 : BEQ $4F98 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F97 : RTS 			;×Ó³ÌÐò·µ»Ø
4F98 : LDA $4C 			;->A    playerX
4F9A : CMP #$48 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4F9C : BCC $4FA8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4F9E : CMP #$50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4FA0 : BCS $4FA8 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4FA2 : JSR $511B  			;Ìø×ª×Ó³ÌÐò  go out room
4FA5 : JMP $5081 			;
4FA8 : RTS 			;×Ó³ÌÐò·µ»Ø

;map ×ó
4FA9 : LDA $4B 			;->A  player dir
4FAB : AND #$80 			;A¡Ä$n¡úA
4FAD : ORA #$04 			;A¡Å$n¡úA
4FAF : EOR #$80 			;AÒì»ò($n)¡úA
4FB1 : STA $4B 			;A->MEM  player dir
4FB3 : LDA $4C 			;->A    playerX
4FB5 : CMP #$28 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4FB7 : BCS $4FBB 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4FB9 : BCC $4FCB 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4FBB : LDA $4C 			;->A    playerX
4FBD : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4FBF : BCC $4FC8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4FC1 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
4FC2 : LDA $4C 			;->A  playerX
4FC4 : SBC #$04 			;A-MEM-C->A
4FC6 : STA $4C 			;A->MEM  playerX
4FC8 : JMP $5056 			;
4FCB : LDA $4E 			;->A  ScreenX
4FCD : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
4FCF : BCC $4FDB 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
4FD1 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
4FD2 : LDA $4E 			;->A  ScreenX
4FD4 : SBC #$04 			;A-MEM-C->A
4FD6 : STA $4E 			;A->MEM  ScreenX
4FD8 : JMP $5081 			;
4FDB : LDA $4D 			;->A
4FDD : BEQ $4FBB 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
4FDF : DEC $4D 			;MEM--
4FE1 : LDA $4D 			;->A
4FE3 : STA $74 			;A->MEM
4FE5 : JSR $531E  			;Ìø×ª×Ó³ÌÐò
4FE8 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
4FE9 : LDA $78 			;->A
4FEB : SBC #$04 			;A-MEM-C->A
4FED : STA $4E 			;A->MEM  ScreenX
4FEF : CLC 			;Çå½øÎ»±êÖ¾
4FF0 : LDA $4E 			;->A   ScreenX
4FF2 : ADC $77 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
4FF4 : STA $4E 			;A->MEM    ScreenX
4FF6 : JMP $5081 			;
;mapÓÒ
4FF9 : LDA $4B 			;->A  player dir
4FFB : AND #$80 			;A¡Ä$n¡úA
4FFD : ORA #$06 			;A¡Å$n¡úA
4FFF : EOR #$80 			;AÒì»ò($n)¡úA
5001 : STA $4B 			;A->MEM  player dir
5003 : LDA $4F 			;->A  Current map elem blank
5005 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  ==ff
5007 : BEQ $5011 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5009 : LDA $4C 			;->A  playerX
500B : CMP #$78 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
500D : BCC $5011 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
500F : BCS $5026 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5011 : JSR $529C  			;Ìø×ª×Ó³ÌÐò  ÅÐ¶ÏÍ¨ÐÐ
5014 : BCS $5023 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5016 : LDA $4C 			;->A  playerX
5018 : CMP #$8C 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
501A : BCS $5023 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
501C : CLC 			;Çå½øÎ»±êÖ¾
501D : LDA $4C 			;->A  playerX
501F : ADC #$04 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5021 : STA $4C 			;A->MEM  playerX
5023 : JMP $5056 			;
5026 : JSR $529C  			;Ìø×ª×Ó³ÌÐò  ÅÐ¶ÏÍ¨ÐÐ
5029 : BCS $5023 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
502B : LDA $4D 			;->A
502D : STA $74 			;A->MEM
502F : JSR $531E  			;Ìø×ª×Ó³ÌÐò
5032 : LDA $77 			;->A
5034 : STA $80 			;A->MEM
5036 : CLC 			;Çå½øÎ»±êÖ¾
5037 : LDA $80 			;->A
5039 : ADC $78 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
503B : STA $80 			;A->MEM
503D : CLC 			;Çå½øÎ»±êÖ¾
503E : LDA $4E 			;->A  ScreenX
5040 : ADC #$04 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5042 : STA $4E 			;A->MEM  ScreenX
5044 : LDA $4E 			;->A  ScreenX
5046 : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5048 : BCS $504D 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
504A : JMP $5081 			;
504D : INC $4D 			;MEM++
504F : LDA #$00 			;->A
5051 : STA $4E 			;A->MEM  ScreenX
5053 : JMP $5081 			;

5056 : LDA $2E80 			;->A
5059 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
505A : LDA $2E81 			;->A
505D : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
505E : LDA #$00 			;->A
5060 : STA $2E80 			;A->MEM
5063 : LDA #$21 			;->A
5065 : STA $2E81 			;A->MEM
5068 : LDX #$34 			;->X
506A : LDY #$1C 			;->Y
506C : INT $9E31
506F : JSR $5539  			;Ìø×ª×Ó³ÌÐò
5072 : JSR $5554  			;Ìø×ª×Ó³ÌÐò  Draw Room Rect
5075 : PLA 			;A³öÕ»
5076 : STA $2E81 			;A->MEM
5079 : PLA 			;A³öÕ»
507A : STA $2E80 			;A->MEM
507D : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
5080 : RTS 			;×Ó³ÌÐò·µ»Ø

;map main?
5081 : JSR $55AE  			;Ìø×ª×Ó³ÌÐò clean 2100--27A0 old map data
5084 : JSR $55AE  			;Ìø×ª×Ó³ÌÐò clean 2100--27A0 old map data
5087 : JSR $549A  			;Ìø×ª×Ó³ÌÐò
508A : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
508D : RTS 			;×Ó³ÌÐò·µ»Ø

;load map
508E : LDA #$01 			;->A
5090 : STA $48 			;A->MEM
5092 : LDA #$06 			;->A
5094 : STA $4B 			;A->MEM  player dir
5096 : LDA #$05 			;->A
5098 : STA $4C 			;A->MEM  playerX
509A : LDA #$00 			;->A
509C : STA $4D 			;A->MEM
509E : LDA #$00 			;->A
50A0 : STA $4E 			;A->MEM  ScreenX
50A2 : JSR $5143  			;Ìø×ª×Ó³ÌÐò  load Map data
50A5 : RTS 			;×Ó³ÌÐò·µ»Ø
;load map set player at end
50A6 : LDA #$01 			;->A
50A8 : STA $48 			;A->MEM
50AA : LDA #$04 			;->A
50AC : STA $4B 			;A->MEM  player dir
50AE : LDA #$82 			;->A
50B0 : STA $4C 			;A->MEM  playerX
50B2 : JSR $5143  			;Ìø×ª×Ó³ÌÐò  load Map data
50B5 : JSR $5478  			;Ìø×ª×Ó³ÌÐò
50B8 : DEX 			;X--
50B9 : STX $4D 			;X->MEM
50BB : LDA $4D 			;->A
50BD : STA $74 			;A->MEM
50BF : JSR $531E  			;Ìø×ª×Ó³ÌÐò
50C2 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
50C3 : LDA $78 			;->A
50C5 : SBC #$04 			;A-MEM-C->A
50C7 : STA $4E 			;A->MEM
50C9 : CLC 			;Çå½øÎ»±êÖ¾
50CA : LDA $4E 			;->A
50CC : ADC $77 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
50CE : STA $4E 			;A->MEM
50D0 : JSR $52E2  			;Ìø×ª×Ó³ÌÐò
50D3 : RTS 			;×Ó³ÌÐò·µ»Ø

50D4 : LDX $08BA 			;->X
50D7 : LDA $48 			;->A  map type
50D9 : STA $08BB,X 			;A->MEM
50DC : INX 			;X++
50DD : LDA $47 			;->A  map id
50DF : STA $08BB,X 			;A->MEM
50E2 : INX 			;X++
50E3 : LDA $4D 			;->A  screenX?
50E5 : STA $08BB,X 			;A->MEM
50E8 : INX 			;X++
50E9 : LDA $4E 			;->A  firstelem?
50EB : STA $08BB,X 			;A->MEM
50EE : INX 			;X++
50EF : LDA $4C 			;->A  playerX
50F1 : STA $08BB,X 			;A->MEM
50F4 : INX 			;X++
50F5 : STX $08BA 			;X->MEM
50F8 : LDA $51 			;->A
50FA : STA $48 			;A->MEM  type
50FC : LDA $50 			;->A
50FE : STA $47 			;A->MEM  id
5100 : JSR $5143  			;Ìø×ª×Ó³ÌÐò  get map data
5103 : LDA #$00 			;->A
5105 : STA $4D 			;A->MEM  00
5107 : LDA #$00 			;->A
5109 : STA $4E 			;A->MEM  00
510B : LDA $48 			;->A  map type
510D : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
510F : BEQ $5116 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø 0->4c
5111 : LDA #$48 			;->A
5113 : STA $4C 			;A->MEM  playerX
5115 : RTS 			;×Ó³ÌÐò·µ»Ø
5116 : LDA #$00 			;->A
5118 : STA $4C 			;A->MEM  playerX
511A : RTS 			;×Ó³ÌÐò·µ»Ø
;go out room
511B : LDX $08BA 			;->X
511E : LDA $08BA,X 			;->A
5121 : DEX 			;X--
5122 : STA $4C 			;A->MEM   playerX
5124 : LDA $08BA,X 			;->A
5127 : DEX 			;X--
5128 : STA $4E 			;A->MEM
512A : LDA $08BA,X 			;->A
512D : DEX 			;X--
512E : STA $4D 			;A->MEM
5130 : LDA $08BA,X 			;->A
5133 : DEX 			;X--
5134 : STA $47 			;A->MEM
5136 : LDA $08BA,X 			;->A
5139 : DEX 			;X--
513A : STA $48 			;A->MEM
513C : STX $08BA 			;X->MEM  ³öÕ»
513F : JSR $5143  			;Ìø×ª×Ó³ÌÐò load map data
5142 : RTS 			;×Ó³ÌÐò·µ»Ø

;load map data
5143 : JSR $518C  			;Ìø×ª×Ó³ÌÐò map bad man?
5146 : BCC $514B 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5148 : JMP $516A 			;
514B : LDA $48 			;->A type
514D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
514E : SBC #$01 			;A-MEM-C->A
5150 : ASL 			;ËãÊõ×óÒÆ
5151 : TAX 			;A->X
5152 : LDA $5182,X 			;->A
5155 : STA $49 			;A->MEM
5157 : LDA $5183,X 			;->A
515A : STA $4A 			;A->MEM
515C : LDA $47 			;->A
515E : ASL 			;ËãÊõ×óÒÆ
515F : TAY 			;A->Y
5160 : LDA ($49),Y 			;->A
5162 : TAX 			;A->X
5163 : INY 			;Y++
5164 : LDA ($49),Y 			;->A
5166 : STA $4A 			;A->MEM
5168 : STX $49 			;X->MEM
516A : LDY #$FF 			;->Y
516C : INY 			;Y++
516D : LDA ($49),Y 			;->A
516F : STA $1000,Y 			;A->MEM  copy data
5172 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5174 : BNE $516C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5176 : LDA #$00 			;->A
5178 : STA $49 			;A->MEM
517A : LDA #$10 			;->A
517C : STA $4A 			;A->MEM  1000
517E : JSR $51C1  			;Ìø×ª×Ó³ÌÐò
5181 : RTS 			;×Ó³ÌÐò·µ»Ø
5182 : 2256 4C56 5C56 BE56 D056
;push bad man
518C : BIT $3445 			;A¡Ä($n2n1)
518F : BPL $5195 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5191 : INT $310F      ;?
5194 : RTS 			;×Ó³ÌÐò·µ»Ø
5195 : LDA $48 			;->A
5197 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5199 : BEQ $51A1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
519B : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
519D : BEQ $51B1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
519F : CLC 			;Çå½øÎ»±êÖ¾
51A0 : RTS 			;×Ó³ÌÐò·µ»Ø
51A1 : LDA $47 			;->A
51A3 : CMP #$14 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
51A5 : BNE $519F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
51A7 : LDA #$BD 			;->A
51A9 : STA $49 			;A->MEM
51AB : LDA #$31 			;->A
51AD : STA $4A 			;A->MEM  31BD
51AF : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
51B0 : RTS 			;×Ó³ÌÐò·µ»Ø
51B1 : LDA $47 			;->A
51B3 : CMP #$2F 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
51B5 : BNE $519F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
51B7 : LDA #$D1 			;->A
51B9 : STA $49 			;A->MEM
51BB : LDA #$31 			;->A
51BD : STA $4A 			;A->MEM  31D1
51BF : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
51C0 : RTS 			;×Ó³ÌÐò·µ»Ø

;add map data
51C1 : LDX #$00 			;->X
51C3 : LDA $2FED,X 			;->A
51C6 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
51C8 : BEQ $51EE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
51CA : LDA $2FF0,X 			;->A
51CD : CMP $47 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
51CF : BNE $51EE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
51D1 : LDA $2FF1,X 			;->A
51D4 : CMP $48 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
51D6 : BNE $51EE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
51D8 : LDA $2FED,X 			;->A
51DB : STA ($49),Y 			;A->MEM
51DD : INY 			;Y++
51DE : LDA $2FEE,X 			;->A
51E1 : STA ($49),Y 			;A->MEM
51E3 : INY 			;Y++
51E4 : LDA $2FEF,X 			;->A
51E7 : STA ($49),Y 			;A->MEM
51E9 : INY 			;Y++
51EA : LDA #$FF 			;->A
51EC : STA ($49),Y 			;A->MEM
51EE : INX 			;X++
51EF : INX 			;X++
51F0 : INX 			;X++
51F1 : INX 			;X++
51F2 : INX 			;X++
51F3 : CPX $28 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
51F5 : BCC $51C3 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
51F7 : RTS 			;×Ó³ÌÐò·µ»Ø

51F8 : LDX #$00 			;->X
51FA : LDA $2FED,X 			;->A
51FD : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
51FF : BEQ $520B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5201 : INX 			;X++
5202 : INX 			;X++
5203 : INX 			;X++
5204 : INX 			;X++
5205 : INX 			;X++
5206 : CPX $28 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
5208 : BCC $51FA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
520A : RTS 			;×Ó³ÌÐò·µ»Ø
520B : LDA $72 			;->A
520D : STA $2FED,X 			;A->MEM
5210 : LDA $73 			;->A
5212 : STA $2FEE,X 			;A->MEM
5215 : LDA $74 			;->A
5217 : STA $2FEF,X 			;A->MEM
521A : LDA $75 			;->A
521C : STA $2FF0,X 			;A->MEM
521F : LDA $76 			;->A
5221 : STA $2FF1,X 			;A->MEM
5224 : RTS 			;×Ó³ÌÐò·µ»Ø

5225 : LDX #$00 			;->X
5227 : LDA $2FED,X 			;->A
522A : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
522C : BEQ $5253 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
522E : LDA $73 			;->A
5230 : CMP $2FEE,X 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5233 : BNE $5253 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5235 : LDA $74 			;->A
5237 : CMP $2FEF,X 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
523A : BNE $5253 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
523C : LDA $75 			;->A
523E : CMP $2FF0,X 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5241 : BNE $5253 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5243 : LDA $76 			;->A
5245 : CMP $2FF1,X 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5248 : BNE $5253 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
524A : LDA #$FF 			;->A
524C : STA $2FED,X 			;A->MEM
524F : JSR $5143  			;Ìø×ª×Ó³ÌÐò  load Map data
5252 : RTS 			;×Ó³ÌÐò·µ»Ø
5253 : INX 			;X++
5254 : INX 			;X++
5255 : INX 			;X++
5256 : INX 			;X++
5257 : INX 			;X++
5258 : CPX $28 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
525A : BCC $5227 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
525C : RTS 			;×Ó³ÌÐò·µ»Ø

525D : CLC 			;Çå½øÎ»±êÖ¾
525E : LDA $4E 			;->A
5260 : ADC $4C 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA  playerX
5262 : ADC #$08 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5264 : STA $58 			;A->MEM
5266 : LDA $4D 			;->A
5268 : STA $74 			;A->MEM
526A : JSR $531E  			;Ìø×ª×Ó³ÌÐò
526D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
526E : LDA $58 			;->A
5270 : SBC $77 			;A-MEM-C->A
5272 : BCC $5293 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø  set end flag
5274 : SBC $78 			;A-MEM-C->A
5276 : BCC $5283 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5278 : STA $58 			;A->MEM
527A : INC $74 			;MEM++
527C : BCS $526A 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
527E : LDA #$01 			;->A
5280 : JMP $B0BE 			;
5283 : ADC $78 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5285 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
5286 : SBC #$08 			;A-MEM-C->A
5288 : STA $52 			;A->MEM
528A : LDA $75 			;->A
528C : STA $50 			;A->MEM
528E : LDA $76 			;->A
5290 : STA $51 			;A->MEM
5292 : RTS 			;×Ó³ÌÐò·µ»Ø
;set end flag
5293 : LDA #$FF 			;->A
5295 : STA $50 			;A->MEM
5297 : LDA #$FF 			;->A
5299 : STA $51 			;A->MEM
529B : RTS 			;×Ó³ÌÐò·µ»Ø
;µØÍ¼Í¨ÐÐ
529C : JSR $525D  			;Ìø×ª×Ó³ÌÐò
529F : CMP #$06 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
52A1 : BNE $52A7 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
52A3 : JSR $52A9  			;Ìø×ª×Ó³ÌÐò
52A6 : RTS 			;×Ó³ÌÐò·µ»Ø
52A7 : CLC 			;Çå½øÎ»±êÖ¾
52A8 : RTS 			;×Ó³ÌÐò·µ»Ø
;ÅÐ¶ÏµØÍ¼Í¨ÐÐ
52A9 : LDA #$05 			;->A
52AB : STA $80 			;A->MEM
52AD : LDA #$34 			;->A
52AF : STA $81 			;A->MEM  3405
52B1 : LDY #$00 			;->Y
52B3 : LDA ($80),Y 			;->A
52B5 : CMP $50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
52B7 : BEQ $52C1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
52B9 : INY 			;Y++
52BA : INY 			;Y++
52BB : CPY #$40 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
52BD : BCC $52B3 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
52BF : CLC 			;Çå½øÎ»±êÖ¾
52C0 : RTS 			;×Ó³ÌÐò·µ»Ø
52C1 : INY 			;Y++
52C2 : LDA ($80),Y 			;->A
52C4 : BMI $52DC 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
52C6 : STA $3403 			;A->MEM
52C9 : ORA #$80 			;A¡Å$n¡úA
52CB : JSR $98BB  			;Ìø×ª×Ó³ÌÐòitem exist
52CE : BCS $52DA 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
52D0 : LDA $3403 			;->A
52D3 : JSR $98BB  			;Ìø×ª×Ó³ÌÐòitem exist
52D6 : BCS $52DA 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
52D8 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
52D9 : RTS 			;×Ó³ÌÐò·µ»Ø
52DA : CLC 			;Çå½øÎ»±êÖ¾
52DB : RTS 			;×Ó³ÌÐò·µ»Ø

52DC : LDA $50 			;->A
52DE : JSR $6336  			;Ìø×ª×Ó³ÌÐò
52E1 : RTS 			;×Ó³ÌÐò·µ»Ø

52E2 : LDA $4E 			;->A
52E4 : STA $84 			;A->MEM
52E6 : LDA $4D 			;->A
52E8 : STA $74 			;A->MEM
52EA : LDA $84 			;->A
52EC : CMP $4C 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  playerX
52EE : BCS $5309 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
52F0 : LDA $74 			;->A
52F2 : BEQ $5315 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
52F4 : DEC $74 			;MEM--
52F6 : JSR $531E  			;Ìø×ª×Ó³ÌÐò
52F9 : CLC 			;Çå½øÎ»±êÖ¾
52FA : LDA $84 			;->A
52FC : ADC $77 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
52FE : ADC $78 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5300 : STA $84 			;A->MEM
5302 : BCC $52EA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5304 : LDA #$02 			;->A
5306 : JMP $B0BE 			;
5309 : LDA $74 			;->A
530B : STA $4D 			;A->MEM
530D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
530E : LDA $84 			;->A
5310 : SBC $4C 			;A-MEM-C->A  playerX
5312 : STA $4E 			;A->MEM
5314 : RTS 			;×Ó³ÌÐò·µ»Ø
5315 : LDA #$00 			;->A
5317 : STA $4D 			;A->MEM
5319 : LDA #$00 			;->A
531B : STA $4E 			;A->MEM
531D : RTS 			;×Ó³ÌÐò·µ»Ø

531E : LDA #$00 			;->A
5320 : STA $81 			;A->MEM
5322 : LDA $74 			;->A
5324 : STA $80 			;A->MEM
5326 : ASL $80 			;ËãÊõ×óÒÆ
5328 : ROL $81 			;Ñ­»·×óÒÆ
532A : LDA $74 			;->A
532C : CLC 			;Çå½øÎ»±êÖ¾
532D : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
532F : STA $80 			;A->MEM
5331 : BCC $5335 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5333 : INC $81 			;MEM++
5335 : CLC 			;Çå½øÎ»±êÖ¾
5336 : LDA $80 			;->A
5338 : ADC $49 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
533A : STA $80 			;A->MEM
533C : LDA $81 			;->A
533E : ADC $4A 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5340 : STA $81 			;A->MEM
5342 : LDY #$00 			;->Y
5344 : LDA ($80),Y 			;->A
5346 : STA $77 			;A->MEM
5348 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
534A : BEQ $535A 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
534C : INY 			;Y++
534D : LDA ($80),Y 			;->A
534F : STA $75 			;A->MEM
5351 : INY 			;Y++
5352 : LDA ($80),Y 			;->A
5354 : STA $76 			;A->MEM
5356 : JSR $5371  			;Ìø×ª×Ó³ÌÐò
5359 : RTS 			;×Ó³ÌÐò·µ»Ø
535A : LDA #$FF 			;->A
535C : STA $75 			;A->MEM
535E : LDA #$FF 			;->A
5360 : STA $76 			;A->MEM
5362 : RTS 			;×Ó³ÌÐò·µ»Ø

5363 : JSR $531E  			;Ìø×ª×Ó³ÌÐò
5366 : LDA $75 			;->A
5368 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
536A : BNE $536D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
536C : RTS 			;×Ó³ÌÐò·µ»Ø
536D : JSR $5432  			;Ìø×ª×Ó³ÌÐò
5370 : RTS 			;×Ó³ÌÐò·µ»Ø

5371 : JSR $8345  			;Ìø×ª×Ó³ÌÐò  set load byte page $05B4 base $8 offset Y -> 05B5 program -> 10A0
5374 : LDA #$9F 			;->A
5376 : STA $05B4 			;A->MEM
5379 : LDA #$00 			;->A
537B : STA $C8 			;A->MEM
537D : LDA #$40 			;->A
537F : STA $C9 			;A->MEM
5381 : LDA $76 			;->A
5383 : ASL 			;ËãÊõ×óÒÆ
5384 : TAY 			;A->Y
5385 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
5388 : STA $80 			;A->MEM
538A : INY 			;Y++
538B : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
538E : STA $81 			;A->MEM
5390 : LDA $80 			;->A
5392 : STA $C8 			;A->MEM
5394 : LDA $81 			;->A
5396 : STA $C9 			;A->MEM
5398 : LDA $75 			;->A
539A : LDY $76 			;->Y
539C : CPY #$00 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
539E : BEQ $53A6 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
53A0 : CPY #$09 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
53A2 : BEQ $53BF 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
53A4 : BNE $53C1 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
53A6 : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
53A8 : BNE $53B3 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
53AA : LDA $3185 			;->A
53AD : ASL 			;ËãÊõ×óÒÆ
53AE : ASL 			;ËãÊõ×óÒÆ
53AF : ASL 			;ËãÊõ×óÒÆ
53B0 : JMP $53C1 			;

53B3 : LDA $2E9B 			;->A ImageID
53B6 : ASL 			;ËãÊõ×óÒÆ
53B7 : ASL 			;ËãÊõ×óÒÆ
53B8 : ASL 			;ËãÊõ×óÒÆ *8
53B9 : CLC 			;Çå½øÎ»±êÖ¾
53BA : ADC $75 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
53BC : JMP $53C1 			;

53BF : LDA #$00 			;->A
53C1 : INT $3118      ;page2 AAF2
53C4 : STA $80 			;A->MEM
53C6 : LDA #$00 			;->A
53C8 : STA $81 			;A->MEM
53CA : ASL $80 			;ËãÊõ×óÒÆ
53CC : ROL $81 			;Ñ­»·×óÒÆ
53CE : CLC 			;Çå½øÎ»±êÖ¾
53CF : LDA $C8 			;->A
53D1 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
53D3 : STA $C8 			;A->MEM
53D5 : LDA $C9 			;->A
53D7 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
53D9 : STA $C9 			;A->MEM
53DB : LDY #$00 			;->Y
53DD : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
53E0 : STA $92 			;A->MEM
53E2 : INY 			;Y++
53E3 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
53E6 : STA $93 			;A->MEM
53E8 : LDA $92 			;->A
53EA : STA $C8 			;A->MEM
53EC : LDA $93 			;->A
53EE : STA $C9 			;A->MEM
53F0 : LDY #$00 			;->Y
53F2 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
53F5 : STA $78 			;A->MEM
53F7 : LDY #$01 			;->Y
53F9 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
53FC : STA $79 			;A->MEM
53FE : RTS 			;×Ó³ÌÐò·µ»Ø
;draw
53FF : LDA $80 			;->A
5401 : STA $75 			;A->MEM06
5403 : LDA $81 			;->A
5405 : STA $76 			;A->MEM00
5407 : LDA $76 			;->A
5409 : CMP #$0E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
540B : BNE $542F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
540D : LDA $75 			;->A
540F : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5411 : BNE $542F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5413 : LDA #$10 			;->A
5415 : STA $78 			;A->MEM
5417 : LDA #$10 			;->A
5419 : STA $79 			;A->MEM
541B : LDX #$22 			;->X
541D : LDA $5FD6,X 			;->A
5420 : STA $273F,X 			;A->MEM  5FD7 10104080618461867F8EDEBCCCF89260CCE0ADA0D2A04CA040A05EA05AF05A80F3C0
5423 : DEX 			;X--
5424 : BNE $541D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5426 : LDA #$40 			;->A
5428 : STA $92 			;A->MEM
542A : LDA #$27 			;->A
542C : STA $93 			;A->MEM  2740
542E : RTS 			;×Ó³ÌÐò·µ»Ø
542F : JSR $5371  			;Ìø×ª×Ó³ÌÐò
5432 : LDA $78 			;->A
5434 : LSR 			;AÂß¼­ÓÒÒÆ
5435 : LSR 			;AÂß¼­ÓÒÒÆ
5436 : LSR 			;AÂß¼­ÓÒÒÆ
5437 : TAX 			;A->X
5438 : LDA $78 			;->A
543A : AND #$07 			;A¡Ä$n¡úA
543C : BEQ $543F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
543E : INX 			;X++
543F : LDA $79 			;->A
5441 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
5444 : LDA #$02 			;->A
5446 : CLC 			;Çå½øÎ»±êÖ¾
5447 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5449 : STA $80 			;A->MEM
544B : BCC $544F 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
544D : INC $81 			;MEM++
544F : LDA $92 			;->A
5451 : STA $C8 			;A->MEM
5453 : LDA $93 			;->A
5455 : STA $C9 			;A->MEM
5457 : LDA #$40 			;->A
5459 : STA $A4 			;A->MEM
545B : LDA #$27 			;->A
545D : STA $A5 			;A->MEM  2740
545F : LDA $80 			;->A
5461 : STA $120F 			;A->MEM
5464 : LDA $81 			;->A
5466 : STA $1210 			;A->MEM
5469 : JSR $8351  			;Ìø×ª×Ó³ÌÐò  set load short page $05B4 base $C8 offset Y -> (A4) program -> 10A0
546C : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
546F : LDA #$40 			;->A
5471 : STA $92 			;A->MEM
5473 : LDA #$27 			;->A
5475 : STA $93 			;A->MEM
5477 : RTS 			;×Ó³ÌÐò·µ»Ø

5478 : LDA $49 			;->A
547A : STA $80 			;A->MEM
547C : LDA $4A 			;->A
547E : STA $81 			;A->MEM
5480 : LDX #$00 			;->X
5482 : LDY #$00 			;->Y
5484 : LDA ($80),Y 			;->A
5486 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5488 : BEQ $5499 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
548A : INX 			;X++
548B : LDA #$03 			;->A
548D : CLC 			;Çå½øÎ»±êÖ¾
548E : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5490 : STA $80 			;A->MEM
5492 : BCC $5496 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5494 : INC $81 			;MEM++
5496 : JMP $5484 			;
5499 : RTS 			;×Ó³ÌÐò·µ»Ø
;
549A : LDA $2E80 			;->A
549D : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
549E : LDA $2E81 			;->A
54A1 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
54A2 : LDA #$00 			;->A
54A4 : STA $2E80 			;A->MEM
54A7 : LDA #$21 			;->A
54A9 : STA $2E81 			;A->MEM
54AC : JSR $54BE  			;Ìø×ª×Ó³ÌÐò
54AF : JSR $5539  			;Ìø×ª×Ó³ÌÐò
54B2 : JSR $5554  			;Ìø×ª×Ó³ÌÐò  Draw Room Rect
54B5 : PLA 			;A³öÕ»
54B6 : STA $2E81 			;A->MEM
54B9 : PLA 			;A³öÕ»
54BA : STA $2E80 			;A->MEM
54BD : RTS 			;×Ó³ÌÐò·µ»Ø

54BE : LDA $4D 			;->A
54C0 : STA $74 			;A->MEM
54C2 : LDA $4E 			;->A
54C4 : EOR #$FF 			;AÒì»ò($n)¡úA
54C6 : STA $72 			;A->MEM
54C8 : LDA #$FF 			;->A
54CA : STA $73 			;A->MEM
54CC : INC $72 			;MEM++
54CE : BNE $54D2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
54D0 : INC $73 			;MEM++
54D2 : JSR $5363  			;Ìø×ª×Ó³ÌÐò
54D5 : LDA $75 			;->A
54D7 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
54D9 : BEQ $5534 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
54DB : LDA $77 			;->A
54DD : CLC 			;Çå½øÎ»±êÖ¾
54DE : ADC $72 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
54E0 : STA $72 			;A->MEM
54E2 : BCC $54E6 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
54E4 : INC $73 			;MEM++
54E6 : BIT $73  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)
54E8 : BMI $54F6 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
54EA : LDA $73 			;->A
54EC : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
54EE : BNE $54F4 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
54F0 : LDA $72 			;->A
54F2 : CMP #$A0 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
54F4 : BCS $5534 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
54F6 : LDA $76 			;->A
54F8 : STA $51 			;A->MEM
54FA : LDA $75 			;->A
54FC : STA $50 			;A->MEM
54FE : JSR $6336  			;Ìø×ª×Ó³ÌÐò
5501 : BCC $5518 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5503 : LDY #$32 			;->Y
5505 : INY 			;Y++
5506 : TYA 			;Y->A
5507 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
5508 : SBC $79 			;A-MEM-C->A
550A : TAY 			;A->Y
550B : LDA $72 			;->A
550D : STA $043F 			;A->MEM
5510 : LDA $73 			;->A
5512 : STA $0440 			;A->MEM
5515 : INT $9E2E
5518 : LDA $78 			;->A
551A : CLC 			;Çå½øÎ»±êÖ¾
551B : ADC $72 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
551D : STA $72 			;A->MEM
551F : BCC $5523 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5521 : INC $73 			;MEM++
5523 : LDA $73 			;->A
5525 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5527 : BNE $552D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5529 : LDA $72 			;->A
552B : CMP #$A0 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
552D : BCS $5534 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
552F : INC $74 			;MEM++
5531 : JMP $54D2 			;
5534 : LDA $75 			;->A
5536 : STA $4F 			;A->MEM  elem blank
5538 : RTS 			;×Ó³ÌÐò·µ»Ø

5539 : LDA $4B 			;->A  player dir
553B : AND #$7F 			;A¡Ä$n¡úA
553D : TAX 			;A->X
553E : BIT $4B  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)    player dir
5540 : BPL $5543 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5542 : INX 			;X++
5543 : STX $80 			;X->MEM
5545 : LDA #$00 			;->A
5547 : STA $81 			;A->MEM
5549 : JSR $53FF  			;Ìø×ª×Ó³ÌÐò
554C : LDY #$34 			;->Y
554E : LDX $4C 			;->X  playerX
5550 : INT $9E30        ;draw image(x,y,$8081)
5553 : RTS 			;×Ó³ÌÐò·µ»Ø
;Draw Room Rect
5554 : LDA $48 			;->A
5556 : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5558 : BEQ $5563 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
555A : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
555C : BEQ $5563 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
555E : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
5560 : BEQ $5563 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5562 : RTS 			;×Ó³ÌÐò·µ»Ø
5563 : LDA #$01 			;->A
5565 : STA $0445 			;A->MEM
5568 : LDA #$01 			;->A
556A : STA $043F 			;A->MEM
556D : LDA #$00 			;->A
556F : STA $0440 			;A->MEM
5572 : LDA #$9F 			;->A
5574 : STA $0441 			;A->MEM
5577 : LDA #$4F 			;->A
5579 : STA $0442 			;A->MEM
557C : INT $9E2C      ;draw Rect
557F : LDA #$48 			;->A
5581 : STA $043F 			;A->MEM
5584 : LDA #$47 			;->A
5586 : STA $0440 			;A->MEM
5589 : LDA #$48 			;->A
558B : STA $0441 			;A->MEM
558E : LDA #$4F 			;->A
5590 : STA $0442 			;A->MEM
5593 : INT $9E2B      ;Draw Line
5596 : LDA #$5C 			;->A
5598 : STA $043F 			;A->MEM
559B : LDA #$47 			;->A
559D : STA $0440 			;A->MEM
55A0 : LDA #$5C 			;->A
55A2 : STA $0441 			;A->MEM
55A5 : LDA #$4F 			;->A
55A7 : STA $0442 			;A->MEM
55AA : INT $9E2B      ;Draw Line
55AD : RTS 			;×Ó³ÌÐò·µ»Ø

;clean 2100--27A0 old map data
55AE : LDA #$00 			;->A
55B0 : LDY #$A0 			;->Y
55B2 : STA $20FF,Y 			;A->MEM
55B5 : STA $219F,Y 			;A->MEM
55B8 : STA $223F,Y 			;A->MEM
55BB : STA $22DF,Y 			;A->MEM
55BE : STA $237F,Y 			;A->MEM
55C1 : STA $241F,Y 			;A->MEM
55C4 : STA $24BF,Y 			;A->MEM
55C7 : STA $255F,Y 			;A->MEM
55CA : STA $25FF,Y 			;A->MEM
55CD : STA $269F,Y 			;A->MEM  2100--27A0
55D0 : DEY 			;Y--
55D1 : BNE $55B2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
55D3 : RTS 			;×Ó³ÌÐò·µ»Ø

55D4 : LDA #$C0 			;->A
55D6 : STA $80 			;A->MEM
55D8 : LDA #$09 			;->A
55DA : STA $81 			;A->MEM
55DC : LDA #$00 			;->A
55DE : STA $82 			;A->MEM
55E0 : LDA #$21 			;->A
55E2 : STA $83 			;A->MEM
55E4 : LDX #$50 			;->X
55E6 : BNE $55FA 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
;refresh Map
55E8 : LDA #$00 			;->A
55EA : STA $80 			;A->MEM
55EC : LDA #$21 			;->A
55EE : STA $81 			;A->MEM  2100
55F0 : LDA #$C0 			;->A
55F2 : STA $82 			;A->MEM
55F4 : LDA #$09 			;->A
55F6 : STA $83 			;A->MEM  09C0
55F8 : LDX #$50 			;->X
55FA : LDY #$00 			;->Y
55FC : LDA ($80),Y 			;->A
55FE : STA ($82),Y 			;A->MEM
5600 : INY 			;Y++
5601 : CPY #$14 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
5603 : BCC $55FC 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5605 : DEX 			;X--
5606 : BEQ $5621 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
5608 : LDA #$14 			;->A
560A : CLC 			;Çå½øÎ»±êÖ¾
560B : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
560D : STA $80 			;A->MEM
560F : BCC $5613 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
5611 : INC $81 			;MEM++
5613 : LDA #$14 			;->A
5615 : CLC 			;Çå½øÎ»±êÖ¾
5616 : ADC $82 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
5618 : STA $82 			;A->MEM
561A : BCC $561E 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
561C : INC $83 			;MEM++
561E : JMP $55FA 			;
5621 : RTS 			;×Ó³ÌÐò·µ»Ø

;Map Add list
5622 : E656 7357 D857 4958 8C58 E558 4A59 B75B
       FD5B E959 295A 845A B85A FE5A 2F5B 4E5B
       705B 715B 995B A35B(ÑÖÂÞ) B05B
564C : 1D57 6057 C257 2458 D558 2259 B759 C759
565C : 395D 005E 495D 705D 5C5D 6F5D A65D B05D 
       C75D BA5D B35E C65E 4C5C 5F5C 725C 885C
       925C 9C5C 205D CB5D D85D 075E 1B5E E55D
       115E E95D F65D B65C C05C C75C CE5C D55C
       EF5C FF5C 065D 165D C75E DD5E F65E 035F
       295F 3C5F 4F5F 5C5F 6C5F 7F5F 925F 965F 865D
56BE : 995D 935E 975E 9E5E A55E AC5E 9D5C DF5C 165F
56D0 : 1C5E 265E 3C5E 435E 475E 575E 615E 685E 695E 6D5E 835E
;Map Data (FF for End) blank elemindex elemtype
56E6 : 01090B 050009 0A0F07 050F03 020002 000002 022908 0A0C03 050D03 050E03 091808 021808 090102 0A0604 052106 0A1003 021808 0A0A0A FF
01000C022A08002A08002A08050906051B06011B030A1C03022A08002A08002A08050D06051106022A08002A080A1D030A19080A1E030A1F03012A08002A08002A08FF
01000C1423080512070A0704142308050406FF
010E0B0501090A2D08012D08012D08012D08012D08052F080520030A2A08002A08002A08053406002A08002A080A21030A2E08052E080A2203080202082303042A08002A08052A061E0C0905A206FF
01000C022E08022E08022E080A12030C2E08022E08FF
010F0A0502090A00030A25080025080025080003020003020025080025080A1E080A1E08050203141F08021F08021F080A0403021F080541061E130905BE0605BF0605C00605C1061EA306FF
01000C0A25080025080025080025080025080025080025080025080A0303021F08021F08FF
010B0A0503090A09070A0404054706054C060A4108014108014108014108014108054D06043D08040504013E08013E080A0A03054E061E0E0905AD0605AE061EA406FF
010C0B0504090A00040A43080555060143080106030A07030556060A41080141080A2B08000402002B080A09030A4208014208055D061E100905B20605B30605B40605B5061EA506FF
01000C055C060A42080142080A0803FF
010B0A0505090A07070A13030A14030A00080000080000080405020005020005020417030A19030565061E120905BA0605BB0605BC0605BD061EA606FF
01000C0A00080000080A0103056006012D08012D08012D08012D08012D080A1A03000008000008FF
01110A0506090A0907057C060A15030A00080000080A30080571060572060A3008057306057406054B08004B08004B08004B080576060578060A3008057906057A060530080A1803053E08053F08040602000602053E08056B061E110905B60605B70605B80605B9061EA706FF
01000C050A07057506056E06141603FF
01000C0343080343080A27030343080A08040343080A80060343080343080A2803FF
010B0B010D0B054008014008014008050E06010307053D0801080701070A0401040540080140080A11070141080141080141080141080141080141080A000AFF
01000B0A42080142080142080A2A08002A080006070006070006070006070A2D08012D08012D08012D08012D08012D08012D08012D08012D08012D08012D08050F060A420805080A0142080002040540080140080A0E0A0A0C0AFF
013E08003E0802050A00050A023E08003E080241080A030A0203040A41080141080141080141080141080141080141080A090AFF
010A0B0A2D08012D08012D08012D08012D08012D08012D080A250800250800250800250800250800250800250800250800040A00040A00040A002508002508002508002508FF
010F0B02110B0A41080141080A07070140080140080512060541080141080141080141080141080141080141080A090AFF
010A0B0A2D08012D08012D08012D08012D08012D08012D080A430800010AFF
010A0700020A000A070A2D08012D08012D08012D08012D08012D08012D080A0D0AFF
FF
013E0800060A00060A013F080A0A070A2D08012D08012D08012D08012D08012D08012D080A0D0AFF
0509090543080A2E03FF
050A090A95060A30030A9606FF
050B090AA106FF
01090A0507090343080A24030343080141080142080A25030142080143080307020007020142080A26030345080345080582060543081E0F0905AF0605B00605B1061EA806FF
010A0B0508090543080141080529030141080141080543080A2A030543080142080142080A2B030543080543080A2C030543080A8C060543080143080143080A2D03058B061E0D0905AC061EA906FF
0A1B080A0E080A0108050106050C060A1B08FF
0A1B080A0E080A0108051D06051E06050108FF
0A19060A01080A0E080502060A4C08000905004C08FF
0A37080539080AAA06FF0A0A060A0E08050606FF
FF
0A0005143308051F06051C060A3308140D07051806140005FF
140708052606051406FF
140808051A06FF
140908051306FF
140A08050B06FF
050105140B08052306FF
0539080A10060F03060524060F3908FF
0A4808053908052806142B06052D06FF
053106053206FF
0A1B08052E06140308053306192F06FF
0502050A4808052C06FF
0A1B080529060A38080138080138080A0F08050108052706FF
0A03050539060A1B08140E08053606FF
0A0405051B08053E06050E08050208053D06FF
051B08053C060A3708013708053B06053806FF
FF
0A0605054006051B08021B08053F06050E08054206FF
050A050A97060A98060A99060A9A060A9B06FF
0A58060A3108055206055306FF
0A3108055B060F5406FF
0A5A061E3108055906FF
0A3208055F06053208145E06FF
055706FF
0A4808050208056D06056C06FF
0A61060568060A02070A3808FF
0A0107FF
0A4808056606141008056706FF
0A3808056306056406FF
0A0705056206FF
053908057B06057706FF
053908056F06057006FF
FF
0507060A0B073C1706FF
0505060A4808004808142006051008052206052506FF
0A4808053006FF
054606FF
0A0505054406051B08193506053706FF
051B08053A06054506FF
0A1008054306FF
FF
054F06FF
0548081404070A0C070A10070010070010070A4808FF
0A9C060A9D060A9E060A9F060AA006FF
0A0806FF
0A1606051506FF
0F6A06056906FF
054A06054806FF
054B06054906FF
024C08000805004C08004C08055106055006FF
FF
050108050E08050108051B080A84060A8706051C08FF
0A7F06050108054808050108053B08051C08059306059406FF
051C080511080501080A8106FF
054708053C08050108050E080A85060A8606FF
050108051C080A7E060531080A8806051C08FF
051C080517080501080A8306054808051C08FF
051C08050E080501080A89060548080A9006FF
051C08053C080501080A8A06FF
051C08054808050108050E080A9206FF
051C080501080A9106053B080517080A8E06FF
051C080501080A8D060517080A8F06054808FF
0A0507FF
5F96 : FF  ;???
5F97 : 2A4F41564E515D5365556B5482528B50805A8C5BACFFADFFAEFFAFFFB0FFB1FFB2FFB3FFB4FFB5FFB6FFB7FFB8FFB9FFBAFFBBFFBCFFBDFFBEFFBFFFC0FFC1FF
5FD7 : 10104080618461867F8EDEBCCCF89260CCE0ADA0D2A04CA040A05EA05AF05A80F3C0
5FF9 : ÄãÄÚÁ¦²»×ã,ÎÞ·¨Ê©Õ¹Çá¹¦

;map event(ÊäÈë¼ü)
6012 : JSR $6336  			;Ìø×ª×Ó³ÌÐò
6015 : BCC $602F 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6017 : LDA $51 			;->A
6019 : CMP #$09 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
601B : BEQ $6030 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø  ÃÅÅÆ
601D : CMP #$07 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
601F : BEQ $6041 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø  ÓÐ¾çÇé×°ÊÎ
6021 : CMP #$06 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6023 : BNE $6028 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø  NPC
6025 : JMP $77D8 			;

;NPC menu main
6028 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
602A : BNE $602F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
602C : JMP $7808 			;
602F : RTS 			;×Ó³ÌÐò·µ»Ø
;ÃÅÅÆ
6030 : LDA $50 			;->A
6032 : JSR $6385  			;Ìø×ª×Ó³ÌÐò
6035 : LDA $80 			;->A
6037 : STA $A6 			;A->MEM
6039 : LDA $81 			;->A
603B : STA $A7 			;A->MEM
603D : JSR $62A0  			;Ìø×ª×Ó³ÌÐò
6040 : RTS 			;×Ó³ÌÐò·µ»Ø

;ÓÐ¾çÇé×°ÊÎ
6041 : LDA $50 			;->A
6043 : TAX 			;A->X
6044 : LDY #$0D 			;->Y
6046 : LDA #$53 			;->A
6048 : STA $80 			;A->MEM
604A : LDA #$60 			;->A
604C : STA $81 			;A->MEM  6053
604E : TXA 			;X->A
604F : JSR $B044  			;Ìø×ª×Ó³ÌÐò;Run addr by index
6052 : RTS 			;×Ó³ÌÐò·µ»Ø
6053 : 0D 08 04 0C 10 0F 06 11 12 0E 05 00 07(Áª»ú¶ÔÕ½ ÓÎÏ·Ìü É¨µØ ÌôË® Åü²ñ ºÈË® µöÓã ×ÔÉ±Ê÷ ¹Ù¸®¸æÊ¾ Null Öý½£Ì¨ null ÌÒ»¨Ô´)
    7E60 7A60 BE60 CE60 DE60 EE60 5861 6C61 0862 6962 6A62 6E62 6F62
    
;mini game entry
607A : INT $3212      ;mini game
607D : RTS 			;×Ó³ÌÐò·µ»Ø
;Áª»ú¶ÔÕ½×´Ì¬
607E : LDA $2E87 			;->A
6081 : ORA #$80 			;A¡Å$n¡úA
6083 : STA $2E87 			;A->MEM
6086 : LDA $3084 			;->A
6089 : ORA #$80 			;A¡Å$n¡úA
608B : STA $3084 			;A->MEM
608E : LDA #$B1 			;->A
6090 : STA $A6 			;A->MEM
6092 : LDA #$60 			;->A
6094 : STA $A7 			;A->MEM
6096 : JSR $62A0  			;Ìø×ª×Ó³ÌÐò
6099 : JSR $745B  			;Ìø×ª×Ó³ÌÐò
609C : LDA #$FF 			;->A
609E : STA $54 			;A->MEM
60A0 : LDA $3084 			;->A
60A3 : AND #$7F 			;A¡Ä$n¡úA
60A5 : STA $3084 			;A->MEM
60A8 : LDA $2E87 			;->A
60AB : AND #$7F 			;A¡Ä$n¡úA
60AD : STA $2E87 			;A->MEM
60B0 : RTS 			;×Ó³ÌÐò·µ»Ø
60B1 : Áª»ú¶ÔÕ½×´Ì¬

;ÀÏÆÅÆÅÈÎÎñ-É¨µØ
60BE : LDA $307D 			;->A
60C1 : CMP #$01 			;ÓëA±È½Ï,(A>MEM,c=1)(A<MEM,C=0)(A==MEM,Z=0)
60C3 : BNE $60CD 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
60C5 : LDA #$00 			;->A
60C7 : STA $307D 			;A->MEM
60CA : INT $9E0D
60CD : RTS 			;×Ó³ÌÐò·µ»Ø
;ÀÏÆÅÆÅÈÎÎñ-ÌôË®
60CE : LDA $307D 			;->A
60D1 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
60D3 : BNE $60DD 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
60D5 : LDA #$00 			;->A
60D7 : STA $307D 			;A->MEM
60DA : INT $9E0E
60DD : RTS 			;×Ó³ÌÐò·µ»Ø
;ÀÏÆÅÆÅÈÎÎñ-Åü²ñ
60DE : LDA $307D 			;->A
60E1 : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
60E3 : BNE $60ED 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
60E5 : LDA #$00 			;->A
60E7 : STA $307D 			;A->MEM
60EA : INT $9E0F
60ED : RTS 			;×Ó³ÌÐò·µ»Ø

;ºÈË®ÊÂ¼þ
60EE : LDA #$20 			;->A
60F0 : STA $A6 			  ;A->MEM
60F2 : LDA #$61 			;->A
60F4 : STA $A7 			  ;A->MEM  $A7A6=6120
60F6 : LDA $2ECC 			;->A
60F9 : CMP $2ECE 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
60FC : BNE $6104 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
60FE : LDA $2ECB 			;->A
6101 : CMP $2ECD 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6104 : BCS $611C 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6106 : LDA #$39 			;->A
6108 : STA $A6 			  ;A->MEM
610A : LDA #$61 			;->A
610C : STA $A7 			  ;A->MEM  $A7A6=6139
610E : LDA #$14 			;14->A
6110 : CLC 			      ;Çå½øÎ»±êÖ¾
6111 : ADC $2ECB 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6114 : STA $2ECB 			;A->MEM
6117 : BCC $611C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6119 : INC $2ECC 			;MEM++
611C : JSR $62A0  			;Ìø×ª×Ó³ÌÐò
611F : RTS 			;×Ó³ÌÐò·µ»Ø
6120 : ÄãÒÑ¾­ÔÙÒ²ºÈ²»ÏÂÒ»µÎË®ÁË
6139 : ÄãÔÚ¾®±ßÓÃ±­×ÓÒ¨Æð¾®Ë®ºÈÁË¼¸¿Ú

;µöÓã
6158 : LDA $3084 			;->A
615B : ORA #$80 			;A¡Å$n¡úA
615D : STA $3084 			;A->MEM
6160 : INT $9E10      ;µöÓã
6163 : LDA $3084 			;->A
6166 : AND #$7F 			;A¡Ä$n¡úA
6168 : STA $3084 			;A->MEM
616B : RTS 			;×Ó³ÌÐò·µ»Ø

;×ÔÉ±Ê÷
616C : LDA #$06 			;->A
616E : STA $043F 			;A->MEM
6171 : LDA #$03 			;->A
6173 : STA $0440 			;A->MEM
6176 : LDA #$96 			;->A
6178 : STA $0441 			;A->MEM
617B : LDA #$3F 			;->A
617D : STA $0442 			;A->MEM
6180 : LDA #$13 			;->A
6182 : JSR $98BB  			;Ìø×ª×Ó³ÌÐò item exist
6185 : BCC $619A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6187 : LDA #$CE 			;->A
6189 : STA $A6 			;A->MEM
618B : LDA #$61 			;->A
618D : STA $A7 			;A->MEM  61CE Èç¹ûÄúÑ¡ÔñÉÏµõ×ÔÉ±
618F : JSR $A3CD  			;Ìø×ª×Ó³ÌÐò [ÊäÈë]È·ÈÏ,[Ìø³ö]·ÅÆúC=1
6192 : BCS $61A5 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6194 : INT $9E1B      £»file delete
6197 : JMP $422C 			;exit
619A : LDA #$A9 			;->A
619C : STA $A6 			;A->MEM
619E : LDA #$61 			;->A
61A0 : STA $A7 			;A->MEM  61A9  »îµÃÌ«Ã»ÒâË¼ÁËÕæÏëÕÒ¸ùÉþ×ÓÉÏµõ×ÔÉ±
61A2 : JSR $A361  			;Ìø×ª×Ó³ÌÐò  Show tip(Esc for exit)
61A5 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
61A8 : RTS 			;×Ó³ÌÐò·µ»Ø
61A9 : »îµÃÌ«Ã»ÒâË¼ÁËÕæÏëÕÒ¸ùÉþ×ÓÉÏµõ×ÔÉ±
61CE : Èç¹ûÄúÑ¡ÔñÉÏµõ×ÔÉ±ÄúµÄ×ÊÁÏ¾ÍÓÀÔ¶É¾³ýÁË ÇëÎñ±Ø¿¼ÂÇÇå³þ!!

;¹Ù¸®¸æÊ¾
6208 : LDA #$41 			;->A
620A : STA $A6 			;A->MEM
620C : LDA #$62 			;->A
620E : STA $A7 			;A->MEM  $A7A6=6241 ±¾ÕòÖÎ°²
6210 : LDA #$03 			;03->A
6212 : STA $302D 			;03->A->MEM
6215 : INT $320A      ;Page3 $4014(55A2)
6218 : CMP #$7D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
621A : BNE $623D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
621C : LDX #$00 			;->X
621E : LDA $3031,Y 			;->A
6221 : STA $05FC,X 			;A->MEM
6224 : INX 			;X++
6225 : INY 			;Y++
6226 : CPX $04 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
6228 : BCC $621E 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
622A : LDA #$00 			;0->A
622C : STA $05FC,X 			;A->MEM
622F : STA $302E 			;A->MEM
6232 : LDA #$4E 			;4E->A
6234 : STA $A6 			  ;4E->A->MEM
6236 : LDA #$62 			;62->A
6238 : STA $A7 			  ;62->A->MEM  $A7A6 = 624E
623A : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  ÏÔÊ¾¡°ÕýÔÚ¼©ÄÃ¡±   copy str->wordcache
623D : JSR $62A0  			;Ìø×ª×Ó³ÌÐò
6240 : RTS 			;×Ó³ÌÐò·µ»Ø
6241 : ±¾ÕòÖÎ°²Á¼ºÃ
624E : ±¾ÕòÕýÔÚ¼©ÄÃÈË·¸¡º 07 fc05 ¡»

6269 : RTS 			;×Ó³ÌÐò·µ»Ø

;Öý½£Ì¨
626A : INT $3107   ;Öý½£Ì¨
626D : RTS 			;×Ó³ÌÐò·µ»Ø

626E : RTS 			;×Ó³ÌÐò·µ»Ø

;ÌÒ»¨Ô´Èë¿Ú
626F : INT $310B      ;page2 7D80
6272 : BCC $627A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6274 : JSR $508E  			;Ìø×ª×Ó³ÌÐò  load map
6277 : JMP $5081 			;draw map
627A : RTS 			;×Ó³ÌÐò·µ»Ø

627B : LDA $47 			;->A
627D : STA $86 			;A->MEM
627F : LDA #$8F 			;->A
6281 : STA $A8 			;A->MEM
6283 : LDA #$62 			;->A
6285 : STA $A9 			;A->MEM  628F 
6287 : LDX #$08 			;->X
6289 : LDY #$01 			;->Y
628B : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
628E : RTS 			;×Ó³ÌÐò·µ»Ø
628F : 9709C9010000000102030405060708

;µ×ÐÐÏÔÊ¾
62A0 : LDA #$01 			;->A
62A2 : STA $043F 			;A->MEM
62A5 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
62A6 : LDA #$4F 			;->A
62A8 : SBC $44 			;A-MEM-C->A
62AA : STA $0440 			;A->MEM
62AD : DEC $0440 			;MEM--
62B0 : DEC $0440 			;MEM--
62B3 : LDA #$9F 			;->A
62B5 : STA $0441 			;A->MEM
62B8 : LDA #$4F 			;->A
62BA : STA $0442 			;A->MEM
62BD : LDA #$00 			;->A
62BF : STA $0445 			;A->MEM
62C2 : INT $9E2D      ;clear Rect
62C5 : LDA #$01 			;->A
62C7 : STA $0445 			;A->MEM
62CA : INT $9E2C      ;draw Rect
62CD : LDX #$01 			;->X
62CF : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
62D0 : LDA #$4F 			;->A
62D2 : SBC $44 			;A-MEM-C->A
62D4 : TAY 			;A->Y
62D5 : JSR $A495  			;Ìø×ª×Ó³ÌÐò
62D8 : RTS 			;×Ó³ÌÐò·µ»Ø

;ÏÔÊ¾¶Ô»°°´ÈÎÒâ¼ü·µ»ØµØÍ¼
62D9 : LDA $44 			;->A
62DB : ASL 			;ËãÊõ×óÒÆ
62DC : CLC 			;Çå½øÎ»±êÖ¾
62DD : ADC #$02 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
62DF : STA $80 			;A->MEM
62E1 : LDA #$00 			;00->A
62E3 : STA $0445 			;A->MEM
62E6 : LDA #$01 			;01->A
62E8 : STA $043F 			;A->MEM
62EB : LDA #$00 			;00->A
62ED : STA $0440 			;A->MEM
62F0 : LDA #$9F 			;9F(159)->A
62F2 : STA $0441 			;A->MEM
62F5 : LDA $80 			;->A
62F7 : STA $0442 			;A->MEM
62FA : INT $9E2D      ;clear rect
62FD : LDA #$01 			;->A
62FF : STA $0445 			;A->MEM
6302 : INT $9E2C      ;draw Rect
6305 : LDX #$01 			;->X
6307 : LDY #$02 			;->Y
6309 : LDA #$02 			;->A
630B : JSR $A451  			;Ìø×ª×Ó³ÌÐò
630E : BCC $6330 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6310 : LDA #$13 			;->A
6312 : STA $0432 			;A->MEM
6315 : CLC 			;Çå½øÎ»±êÖ¾
6316 : LDA $44 			;->A
6318 : ADC #$04 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
631A : STA $0433 			;A->MEM
631D : LDA #$E0 			;->A
631F : STA $0431 			;A->MEM
6322 : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
6325 : CMP #$0D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6327 : BEQ $632D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6329 : CMP #$15 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
632B : BNE $6322 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
632D : JMP $62D9 			;
6330 : LDA #$00 			;00->A
6332 : STA $0431 			;A->MEM
6335 : RTS 			;×Ó³ÌÐò·µ»Ø
;NPC ?
6336 : LDA #$80 			;->A
6338 : STA $80 			;A->MEM
633A : LDA #$10 			;->A
633C : STA $81 			;A->MEM 1080
633E : LDA $51 			;->A
6340 : CMP #$06 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6342 : BEQ $6346 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6344 : BNE $635A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6346 : LDA $50 			;->A  AA
6348 : AND #$07 			;A¡Ä$n¡úA
634A : TAX 			;A->X  #$07
634B : LDA $50 			;->A
634D : LSR 			;AÂß¼­ÓÒÒÆ
634E : LSR 			;AÂß¼­ÓÒÒÆ
634F : LSR 			;AÂß¼­ÓÒÒÆ
6350 : TAY 			;A->Y  15
6351 : LDA ($80),Y 			;->A 1080
6353 : AND $637D,X 			;A¡Ä($n2n1+X)¡úA  80 40 20 10 08 04 02 01
6356 : BNE $635A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6358 : CLC 			;Çå½øÎ»±êÖ¾
6359 : RTS 			;×Ó³ÌÐò·µ»Ø
635A : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
635B : RTS 			;×Ó³ÌÐò·µ»Ø

635C : JSR $6336  			;Ìø×ª×Ó³ÌÐò
635F : BCS $637C 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6361 : LDA ($80),Y 			;->A
6363 : ORA $637D,X 			;A¡Å($n2n1+X)¡úA
6366 : STA ($80),Y 			;A->MEM
6368 : RTS 			;×Ó³ÌÐò·µ»Ø

6369 : JSR $6336  			;Ìø×ª×Ó³ÌÐò
636C : BCC $637C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
636E : LDA $637D,X 			;->A  637D : 80402010080402
6371 : EOR #$FF 			;AÒì»ò($n)¡úA
6373 : AND ($80),Y 			;A¡Ä(ADDRES)¡úA
6375 : STA ($80),Y 			;A->MEM
6377 : LDA #$FF 			;->A
6379 : STA $54 			;A->MEM
637B : RTS 			;×Ó³ÌÐò·µ»Ø
637C : RTS 			;×Ó³ÌÐò·µ»Ø
637D : 80402010080402

;get map name str addr
6385 : LDX #$91 			;->X
6387 : STX $80 			;X->MEM
6389 : LDX #$63 			;->X
638B : STX $81 			;X->MEM  6391
638D : JSR $B0A1  			;Ìø×ª×Ó³ÌÐò
6390 : RTS 			;×Ó³ÌÐò·µ»Ø
6391 : Æ½°²Õò ÉÌ¼Ò±¤ ÓñÅ®·å ÎåÖ¸É½ ±ù»ðµº Îäµ±É½ ´óÑ©É½ ºÚÉ­ÁÖ ÁéÐÄ¹Û Öý½£¹È ÑÖÂÞ¸® ÌÒ»¨Ô´ ÇàÁúÌ³ µØî¸Ì³ 
ÖìÈ¸Ì³ É½á°Ì³ ÐþÎäÌ³ ×ÏÉ·Ì³ Ìì»ÕÌ³ °µºÚÌ³

;battle entry ÇÐ´è3196
641D : LDA $2FA5 			;->A  NPC HP
6420 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6422 : BNE $6429 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6424 : LDA $2FA4 			;->A  NPC HP
6427 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6429 : BNE $6435 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
642B : LDA #$01 			;->A
642D : STA $2FA4 			;A->MEM    NPC HP
6430 : LDA #$00 			;->A
6432 : STA $2FA5 			;A->MEM    NPC HP
6435 : BIT $3196 			;A¡Ä($n2n1)
6438 : BMI $6465 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
643A : LDA $2FA6 			;->A  NPC HP full
643D : STA $80 			;A->MEM
643F : LDA $2FA7 			;->A  NPC HP full
6442 : STA $81 			;A->MEM
6444 : LSR $81 			;Âß¼­ÓÒÒÆ
6446 : ROR $80 			;Ñ­»·ÓÒÒÆ
6448 : LDA $2FA5 			;->A  NPC HP
644B : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
644D : BNE $6454 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
644F : LDA $2FA4 			;->A  NPC HP
6452 : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6454 : BCS $6465 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6456 : LDA #$ED 			;->A
6458 : STA $A6 			;A->MEM
645A : LDA #$73 			;->A
645C : STA $A7 			;A->MEM  73ED ¿´À´$n²¢²»ÏëºÍÄãÇÐ´è
645E : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
6461 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
6464 : RTS 			;×Ó³ÌÐò·µ»Ø
;battle main
6465 : TSX 			;¶ÑÕ»->X
6466 : TXA 			;X->A
6467 : LDX #$01 			;->X
6469 : STA $08CA,X 			;A->MEM
646C : JSR $64CB  			;Ìø×ª×Ó³ÌÐò
646F : INT $8A2D
6472 : LDX #$01 			;->X
6474 : LDY #$01 			;->Y
6476 : LDA #$9F 			;->A
6478 : STA $A6 			;A->MEM
647A : LDA #$2E 			;->A
647C : STA $A7 			;A->MEM
647E : JSR $A495  			;Ìø×ª×Ó³ÌÐò
6481 : LDX #$11 			;->X
6483 : LDY #$01 			;->Y
6485 : LDA #$87 			;->A
6487 : STA $A6 			;A->MEM
6489 : LDA #$2F 			;->A
648B : STA $A7 			;A->MEM
648D : JSR $A495  			;Ìø×ª×Ó³ÌÐò
6490 : JSR $55D4  			;Ìø×ª×Ó³ÌÐò
6493 : LDA $BB 			;->A
6495 : AND #$01 			;A¡Ä$n¡úA
6497 : BEQ $649F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6499 : JSR $65C8  			;Ìø×ª×Ó³ÌÐò
649C : JSR $69A1  			;Ìø×ª×Ó³ÌÐò
649F : LDX #$01 			;->X
64A1 : LDA $08CA,X 			;->A
64A4 : TAX 			;A->X
64A5 : TXS 			;X->¶ÑÕ»
64A6 : JSR $65C8  			;Ìø×ª×Ó³ÌÐò
64A9 : LDX #$28 			;->X
64AB : LDY #$32 			;->Y
64AD : LDA $2EAA 			;->A  SexID
64B0 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
64B2 : BNE $64B9 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
64B4 : LDA $2EA9 			;->A  classID
64B7 : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
64B9 : BNE $64BD 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
64BB : LDY #$39 			;->Y
64BD : LDA #$21 			;->A
64BF : STA $A8 			;A->MEM
64C1 : LDA #$66 			;->A
64C3 : STA $A9 			;A->MEM  6621 battle menu
64C5 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
64C8 : JMP $649F 			;

64CB : LDA #$14 			;->A
64CD : STA $3089 			;A->MEM
64D0 : LDA #$00 			;->A
64D2 : STA $2EA8 			;A->MEM
64D5 : STA $2F90 			;A->MEM
64D8 : STA $3403 			;A->MEM
64DB : STA $3404 			;A->MEM
64DE : STA $3172 			;A->MEM
64E1 : INT $9E05			;clean Mem 2056--20F6
64E4 : RTS 			;×Ó³ÌÐò·µ»Ø

64E5 : INT $3114      ;
64E8 : INT $9E0B
64EB : LDA #$02 			;->A
64ED : STA $2004 			;A->MEM
64F0 : JSR $67CE  			;Ìø×ª×Ó³ÌÐò
64F3 : BIT $2E87 			;A¡Ä($n2n1)
64F6 : BMI $6501 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
64F8 : JSR $65C8  			;Ìø×ª×Ó³ÌÐò
64FB : JSR $69A1  			;Ìø×ª×Ó³ÌÐò
64FE : JMP $649F 			;
6501 : LDA #$1B 			;->A
6503 : ORA #$80 			;A¡Å$n¡úA
6505 : STA $C7 			;A->MEM
6507 : RTS 			;×Ó³ÌÐò·µ»Ø

6508 : LDA $2E86 			;->A
650B : ORA #$80 			;A¡Å$n¡úA
650D : STA $2E86 			;A->MEM
6510 : JSR $867D  			;Ìø×ª×Ó³ÌÐò
6513 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6515 : BNE $651B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6517 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
651A : RTS 			;×Ó³ÌÐò·µ»Ø

651B : JSR $65CF  			;Ìø×ª×Ó³ÌÐò
651E : BIT $2E87 			;A¡Ä($n2n1)
6521 : BMI $653A 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6523 : BCC $6528 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6525 : JMP $649F 			;
6528 : JSR $667D  			;Ìø×ª×Ó³ÌÐò
652B : JSR $65C8  			;Ìø×ª×Ó³ÌÐò
652E : JSR $69A1  			;Ìø×ª×Ó³ÌÐò
6531 : INT $3114      ;magic×´Ì¬È¡Ïû
6534 : INT $9E0B      ;ÆÕÍ¨¹¥»÷
6537 : JMP $649F 			;
653A : BCS $6551 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
653C : LDA $2005 			;->A
653F : ORA #$80 			;A¡Å$n¡úA
6541 : STA $2005 			;A->MEM
6544 : JSR $75A9  			;Ìø×ª×Ó³ÌÐò
6547 : JSR $667D  			;Ìø×ª×Ó³ÌÐò
654A : LDA #$1B 			;->A
654C : ORA #$80 			;A¡Å$n¡úA
654E : STA $C7 			;A->MEM
6550 : RTS 			;×Ó³ÌÐò·µ»Ø

6551 : LDA $2002 			;->A
6554 : AND #$7F 			;A¡Ä$n¡úA
6556 : STA $2002 			;A->MEM
6559 : JSR $65C8  			;Ìø×ª×Ó³ÌÐò
655C : RTS 			;×Ó³ÌÐò·µ»Ø
;Õ½¶·ÄÚÁ¦²Ëµ¥
655D : JSR $69A1  			;Ìø×ª×Ó³ÌÐò
6560 : JSR $667D  			;Ìø×ª×Ó³ÌÐò
6563 : JMP $649F 			;
6566 : LDX #$32 			;->X
6568 : LDY #$32 			;->Y
656A : LDA #$67 			;->A
656C : STA $A8 			;A->MEM
656E : LDA #$66 			;->A
6570 : STA $A9 			;A->MEM  6667 00028101AC65B265 ¼ÓÁ¦  ÎüÆø  
6572 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
6575 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
6578 : RTS 			;×Ó³ÌÐò·µ»Ø

6579 : JSR $9247  			;Ìø×ª×Ó³ÌÐò
657C : JSR $65C8  			;Ìø×ª×Ó³ÌÐò
657F : RTS 			;×Ó³ÌÐò·µ»Ø

6580 : BIT $2E87 			;A¡Ä($n2n1)
6583 : BPL $6590 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6585 : LDA $2001 			;->A
6588 : ORA #$80 			;A¡Å$n¡úA
658A : STA $2001 			;A->MEM
658D : JSR $75A9  			;Ìø×ª×Ó³ÌÐò
6590 : LDA $2E86 			;->A
6593 : ORA #$80 			;A¡Å$n¡úA
6595 : STA $2E86 			;A->MEM
6598 : JSR $6793  			;Ìø×ª×Ó³ÌÐò
659B : BCC $65A0 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
659D : JMP $677D 			;
65A0 : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
65A3 : JSR $69A1  			;Ìø×ª×Ó³ÌÐò
65A6 : JSR $667D  			;Ìø×ª×Ó³ÌÐò
65A9 : JMP $649F 			;

65AC : INT $9E09      ;¼ÓÁ¦
65AF : JMP $65C8 			;

65B2 : LDA $2E86 			;->A
65B5 : ORA #$80 			;A¡Å$n¡úA
65B7 : STA $2E86 			;A->MEM
65BA : LDA #$9F 			;->A
65BC : STA $AA 			;A->MEM
65BE : LDA #$2E 			;->A
65C0 : STA $AB 			;A->MEM
65C2 : INT $9E08   ;ÎüÆø
65C5 : JMP $65C8 			;

65C8 : JSR $6F5D  			;Ìø×ª×Ó³ÌÐò  ;battle draw HpMpFp
65CB : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
65CE : RTS 			;×Ó³ÌÐò·µ»Ø
??NPC
65CF : STA $2E89 			;A->MEM
65D2 : LDA $3181 			;->A
65D5 : ORA #$40 			;A¡Å$n¡úA
65D7 : STA $3181 			;A->MEM
65DA : BIT $2E86 			;A¡Ä($n2n1)
65DD : BPL $65F2 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
65DF : LDA #$9F 			;->A
65E1 : STA $AA 			;A->MEM
65E3 : LDA #$2E 			;->A
65E5 : STA $AB 			;A->MEM  2E9F name
65E7 : LDA #$87 			;->A
65E9 : STA $AC 			;A->MEM
65EB : LDA #$2F 			;->A
65ED : STA $AD 			;A->MEM  2F87
65EF : JMP $6602 			;
65F2 : LDA #$87 			;->A
65F4 : STA $AA 			;A->MEM
65F6 : LDA #$2F 			;->A
65F8 : STA $AB 			;A->MEM  2F87
65FA : LDA #$9F 			;->A
65FC : STA $AC 			;A->MEM
65FE : LDA #$2E 			;->A
6600 : STA $AD 			;A->MEM  2E9F
6602 : LDA $2E89 			;->A
6605 : CMP #$18 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6607 : BCS $6615 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6609 : INT $9E06      ;¾øÕÐ¹¥»÷
660C : LDA $3181 			;->A
660F : AND #$BF 			;A¡Ä$n¡úA
6611 : STA $3181 			;A->MEM
6614 : RTS 			;×Ó³ÌÐò·µ»Ø
6615 : INT $3113      ;¾øÕÐ¹¥»÷ new add
6618 : LDA $3181 			;->A
661B : AND #$BF 			;A¡Ä$n¡úA
661D : STA $3181 			;A->MEM
6620 : RTS 			;×Ó³ÌÐò·µ»Ø
6621 : 0006 1004 E564 0865 6665 7965 1C87 8065
6631 : ÆÕÍ¨¹¥»÷ÿ¾øÕÐ¹¥»÷ÿÊ¹ÓÃÄÚÁ¦ÿÊ¹ÓÃÎïÆ·ÿµ÷ÕûÕÐÊ½ÿÌÓÅÜ____FF

6667 : 0002 8101 AC65 B265
666F : ¼ÓÁ¦  ÿÎüÆø

667D : BIT $3196 			;A¡Ä($n2n1)
6680 : BMI $66BB 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6682 : LDA $2EBE 			;->A  hpMax
6685 : STA $80 			;A->MEM
6687 : LDA $2EBF 			;->A  hpMax
668A : STA $81 			;A->MEM
668C : LSR $81 			;Âß¼­ÓÒÒÆ
668E : ROR $80 			;Ñ­»·ÓÒÒÆ
6690 : LDA $2EBD 			;->A  hp
6693 : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6695 : BNE $669C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6697 : LDA $2EBC 			;->A  hp
669A : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
669C : BCC $66D2 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
669E : LDA $2FA6 			;->A  npc hp full
66A1 : STA $80 			;A->MEM
66A3 : LDA $2FA7 			;->A  npc hp full
66A6 : STA $81 			;A->MEM
66A8 : LSR $81 			;Âß¼­ÓÒÒÆ
66AA : ROR $80 			;Ñ­»·ÓÒÒÆ
66AC : LDA $2FA5 			;->A  npc hp
66AF : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
66B1 : BNE $66B8 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
66B3 : LDA $2FA4 			;->A  npc hp
66B6 : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
66B8 : BCC $670E 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
66BA : RTS 			;×Ó³ÌÐò·µ»Ø

66BB : LDA $2EBC 			;->A  hp
66BE : ORA $2EBD 			;A¡Å($n2n1)¡úA  hp
66C1 : BEQ $66D2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
66C3 : LDA $2FA4 			;->A  npc hp
66C6 : ORA $2FA5 			;A¡Å($n2n1)¡úA  npc hp
66C9 : BEQ $670E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
66CB : RTS 			;×Ó³ÌÐò·µ»Ø

66CC : JMP $677D 			;
66CF : JMP $677D 			;
;battle dead
66D2 : BIT $2E87 			;A¡Ä($n2n1)
66D5 : BMI $66CF 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
66D7 : BIT $3196 			;A¡Ä($n2n1)
66DA : BPL $66CF 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
66DC : JSR $7275  			;Ìø×ª×Ó³ÌÐò  ËÀÍö³Í·£
66DF : LDX #$C6 			;->X
66E1 : LDA $2E8B,X 			;->A  2E8F--2F5A
66E4 : STA $2933,X 			;A->MEM
66E7 : DEX 			;X--
66E8 : BNE $66E1 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
66EA : LDX #$8D 			;->X
66EC : LDA $3175,X 			;->A  3176--3203
66EF : STA $29F9,X 			;A->MEM
66F2 : DEX 			;X--
66F3 : BNE $66EC 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
66F5 : LDA #$34 			;->A
66F7 : STA $80 			;A->MEM
66F9 : LDA #$29 			;->A
66FB : STA $81 			;A->MEM 2934
66FD : LDA #$53 			;->A
66FF : STA $82 			;A->MEM
6701 : LDA #$01 			;->A
6703 : STA $83 			;A->MEM  0153
6705 : INT $310D      ;Page2 6053(Write SaveData)
6708 : INT $9E04      ;ËÀÍö»­Ãæ
670B : JMP $422C 			;exit
;battle win
670E : BIT $2E87 			;A¡Ä($n2n1)
6711 : BMI $66CC 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6713 : BIT $3196 			;A¡Ä($n2n1)
6716 : BPL $66CC 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6718 : JSR $6369  			;Ìø×ª×Ó³ÌÐò
671B : LDA #$02 			;->A Æ½Ò»Ö¸
671D : INT $320A      ;Page3 $4014(55A2)
6720 : CMP $50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6722 : BNE $672C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6724 : LDA #$02 			;->A Æ½Ò»Ö¸
6726 : INT $3209      ;Page3 $4012(5593) Æ½Ò»Ö¸killed
6729 : JMP $6775 			;
672C : LDA #$03 			;->A 
672E : INT $320A      ;Page3 $4014(55A2)  get ²¶¿ìid
6731 : CMP $50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6733 : BNE $6775 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6735 : LDA #$03 			;->A
6737 : INT $3209      ;Page3 $4012(5593)  ²¶¿ìkilled
673A : LDA $303A,Y 			;->A
673D : STA $302F 			;A->MEM
6740 : LDA $303B,Y 			;->A
6743 : STA $3030 			;A->MEM
6746 : LDA $302F 			;->A
6749 : STA $80 			;A->MEM
674B : LDA $3030 			;->A
674E : STA $81 			;A->MEM
6750 : LDA #$04 			;->A
6752 : STA $82 			;A->MEM
6754 : LDA #$00 			;->A
6756 : STA $83 			;A->MEM
6758 : INT $9E23      ;80-81³ý82-83 ÉÌ80
675B : LDA $80 			;->A
675D : STA $3031 			;A->MEM
6760 : LDA $81 			;->A
6762 : STA $3032 			;A->MEM
6765 : INT $320C      ;¶ñÈË½±Àø
6768 : LDX #$05 			;->X
676A : LDA $3070,X 			;->A
676D : STA $71,X 			;A->MEM
676F : DEX 			;X--
6770 : BNE $676A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6772 : JSR $5225  			;Ìø×ª×Ó³ÌÐò
6775 : LDA $50 			;->A
6777 : INT $311A      ;Ì³cleanup
677A : JSR $71FA  			;Ìø×ª×Ó³ÌÐò
677D : BIT $2E87 			;A¡Ä($n2n1)
6780 : BPL $6785 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6782 : INT $3210      ;ºìÍâshutdown
6785 : INT $9E0C      ;show battle win
6788 : JSR $5081  			;Ìø×ª×Ó³ÌÐòdraw map
678B : LDX #$01 			;->X
678D : LDA $08CA,X 			;->A
6790 : TAX 			;A->X
6791 : TXS 			;X->¶ÑÕ»
6792 : RTS 			;×Ó³ÌÐò·µ»Ø

6793 : LDA #$51 			;->A
6795 : STA $A6 			;A->MEM
6797 : LDA #$73 			;->A
6799 : STA $A7 			;A->MEM  7351  $NÏÖÔÚ¶¯µ¯²»µÃ!
679B : LDA $2EA8 			;->A
679E : BNE $67C3 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
67A0 : LDA #$62 			;->A
67A2 : STA $A6 			;A->MEM
67A4 : LDA #$73 			;->A
67A6 : STA $A7 			;A->MEM  7362 $N×ªÉíÏëÁï,±»$nÒ»°Ñ×¥×¡:ÏëÅÜ,Ã»ÃÅ!
67A8 : CLC 			;Çå½øÎ»±êÖ¾
67A9 : LDA $2EB7 			;->A
67AC : ADC $3089 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
67AF : STA $04CB 			;A->MEM
67B2 : LDA #$00 			;->A
67B4 : STA $04CC 			;A->MEM
67B7 : INT $9E27      ;Random number
67BA : CMP $2F9F 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
67BD : BCC $67C3 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
67BF : BEQ $67C3 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
67C1 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
67C2 : RTS 			;×Ó³ÌÐò·µ»Ø
67C3 : CLC 			;Çå½øÎ»±êÖ¾

67C4 : LDA $3089 			;->A
67C7 : ADC #$0A 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
67C9 : STA $3089 			;A->MEM
67CC : CLC 			;Çå½øÎ»±êÖ¾
67CD : RTS 			;×Ó³ÌÐò·µ»Ø

67CE : LDA $2E86 			;->A
67D1 : ORA #$80 			;A¡Å$n¡úA
67D3 : STA $2E86 			;A->MEM
67D6 : LDA $2EA8 			;->A
67D9 : BEQ $67DE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø

67DB : JMP $6B73 			;
67DE : LDA #$10 			;->A
67E0 : STA $04CB 			;A->MEM
67E3 : LDA #$00 			;->A
67E5 : STA $04CC 			;A->MEM
67E8 : INT $9E27      ;Random number
67EB : STA $57 			;A->MEM
67ED : NOP 			;NULL
67EE : JSR $6BA6  			;Ìø×ª×Ó³ÌÐò
67F1 : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
67F4 : LDA $309E 			;->A
67F7 : STA $30A6 			;A->MEM
67FA : LDA $309F 			;->A
67FD : STA $30A7 			;A->MEM
6800 : LDA #$00 			;->A
6802 : BIT $2EC6 			;A¡Ä($n2n1)
6805 : BPL $6809 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6807 : LDA #$01 			;->A
6809 : STA $2E8A 			;A->MEM
680C : LDA #$00 			;->A
680E : LDX $309D 			;->X
6811 : JSR $6C19  			;Ìø×ª×Ó³ÌÐò
6814 : LDA $2EB7 			;->A
6817 : JSR $7171  			;Ìø×ª×Ó³ÌÐò
681A : LDA $80 			;->A
681C : STA $308E 			;A->MEM
681F : LDA $81 			;->A
6821 : STA $308F 			;A->MEM
6824 : LDA $82 			;->A
6826 : STA $3090 			;A->MEM
6829 : LDA $83 			;->A
682B : STA $3091 			;A->MEM
682E : JSR $6C07  			;Ìø×ª×Ó³ÌÐò
6831 : LDA #$02 			;->A
6833 : STA $2E8A 			;A->MEM
6836 : LDA #$01 			;->A
6838 : LDX $30A8 			;->X
683B : JSR $6C2C  			;Ìø×ª×Ó³ÌÐò
683E : LDA #$00 			;->A
6840 : STA $30A8 			;A->MEM
6843 : LDA $2FA0 			;->A
6846 : JSR $7171  			;Ìø×ª×Ó³ÌÐò
6849 : LDA $2F90 			;->A
684C : BEQ $6859 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
684E : LDA #$03 			;->A
6850 : STA $84 			;A->MEM
6852 : LDA #$00 			;->A
6854 : STA $85 			;A->MEM
6856 : INT $9E24      ;80--83³ý84-85 ÉÌ->80--83
6859 : LDA $80 			;->A
685B : STA $3092 			;A->MEM
685E : LDA $81 			;->A
6860 : STA $3093 			;A->MEM
6863 : LDA $82 			;->A
6865 : STA $3094 			;A->MEM
6868 : LDA $83 			;->A
686A : STA $3095 			;A->MEM
686D : JSR $711D  			;Ìø×ª×Ó³ÌÐò
6870 : LDA $87 			;->A
6872 : CMP $3095 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6875 : BNE $688A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6877 : LDA $86 			;->A
6879 : CMP $3094 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
687C : BNE $688A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
687E : LDA $85 			;->A
6880 : CMP $3093 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6883 : BNE $688A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6885 : LDA $84 			;->A
6887 : CMP $3092 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
688A : BCS $688F 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
688C : JMP $699A 			;

688F : LDA $2FAE 			;->A
6892 : INT $9E1D
6895 : LDA #$04 			;->A
6897 : STA $2E8A 			;A->MEM
689A : LDA #$01 			;->A
689C : LDX $30A9 			;->X
689F : JSR $6C2C  			;Ìø×ª×Ó³ÌÐò
68A2 : LDA #$00 			;->A
68A4 : STA $30A9 			;A->MEM
68A7 : LDA $2F9E 			;->A
68AA : JSR $7171  			;Ìø×ª×Ó³ÌÐò
68AD : LDA $2F90 			;->A
68B0 : BEQ $68BD 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
68B2 : LDA #$03 			;->A
68B4 : STA $84 			;A->MEM
68B6 : LDA #$00 			;->A
68B8 : STA $85 			;A->MEM
68BA : INT $9E24      ;80--83³ý84-85 ÉÌ->80--83
68BD : LDA $80 			;->A
68BF : STA $3096 			;A->MEM
68C2 : LDA $81 			;->A
68C4 : STA $3097 			;A->MEM
68C7 : LDA $82 			;->A
68C9 : STA $3098 			;A->MEM
68CC : LDA $83 			;->A
68CE : STA $3099 			;A->MEM
68D1 : JSR $7141  			;Ìø×ª×Ó³ÌÐò
68D4 : LDA $87 			;->A
68D6 : CMP $3099 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
68D9 : BNE $68EE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
68DB : LDA $86 			;->A
68DD : CMP $3098 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
68E0 : BNE $68EE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
68E2 : LDA $85 			;->A
68E4 : CMP $3097 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
68E7 : BNE $68EE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
68E9 : LDA $84 			;->A
68EB : CMP $3096 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
68EE : BCS $68F3 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
68F0 : JMP $699A 			;
68F3 : JSR $71D2  			;Ìø×ª×Ó³ÌÐò

68F6 : BCS $68FB 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
68F8 : JMP $69A0 			;

68FB : LDX #$6B 			;->X
68FD : LDY #$0F 			;->Y
68FF : JSR $6F51  			;Ìø×ª×Ó³ÌÐò  Draw Hit
6902 : LDA $31BB 			;->A
6905 : BEQ $6914 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6907 : LDA #$03 			;->A
6909 : STA $3173 			;A->MEM
690C : LDA $3172 			;->A
690F : ORA #$80 			;A¡Å$n¡úA
6911 : STA $3172 			;A->MEM
6914 : LDA #$9F 			;->A
6916 : STA $AA 			;A->MEM
6918 : LDA #$2E 			;->A
691A : STA $AB 			;A->MEM
691C : LDA #$87 			;->A
691E : STA $AC 			;A->MEM
6920 : LDA #$2F 			;->A
6922 : STA $AD 			;A->MEM
6924 : JSR $6D3E  			;Ìø×ª×Ó³ÌÐò
6927 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6928 : LDA $2FA4 			;->A
692B : SBC $308A 			;A-MEM-C->A
692E : STA $2FA4 			;A->MEM
6931 : LDA $2FA5 			;->A
6934 : SBC $308B 			;A-MEM-C->A
6937 : STA $2FA5 			;A->MEM
693A : BCS $6946 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
693C : LDA #$00 			;->A
693E : STA $2FA4 			;A->MEM
6941 : LDA #$00 			;->A
6943 : STA $2FA5 			;A->MEM
6946 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6947 : LDA $2FAC 			;->A
694A : SBC $90 			;A-MEM-C->A
694C : STA $2FAC 			;A->MEM
694F : LDA $2FAD 			;->A
6952 : SBC $91 			;A-MEM-C->A
6954 : STA $2FAD 			;A->MEM
6957 : BCS $6963 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6959 : LDA #$00 			;->A
695B : STA $2FAC 			;A->MEM
695E : LDA #$00 			;->A
6960 : STA $2FAD 			;A->MEM
6963 : LDA $2FA4 			;->A
6966 : STA $80 			;A->MEM
6968 : LDA $2FA5 			;->A
696B : STA $81 			;A->MEM
696D : LDA $90 			;->A
696F : ORA $91 			;A¡Å$91¡úA
6971 : BEQ $697D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6973 : LDA $2FAC 			;->A
6976 : STA $80 			;A->MEM
6978 : LDA $2FAD 			;->A
697B : STA $81 			;A->MEM
697D : LDA $2FA6 			;->A
6980 : STA $82 			;A->MEM
6982 : LDA $2FA7 			;->A
6985 : STA $83 			;A->MEM
6987 : INT $9E26      ;Calc Precent%
698A : LDY $309B 			;->Y
698D : LDX $308A 			;->X
6990 : STX $8E 			;X->MEM
6992 : LDX $308B 			;->X
6995 : STX $8F 			;X->MEM
6997 : INT $9E1C
699A : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
699D : JSR $667D  			;Ìø×ª×Ó³ÌÐò
69A0 : RTS 			;×Ó³ÌÐò·µ»Ø

69A1 : LDA $2E86 			;->A
69A4 : AND #$7F 			;A¡Ä$n¡úA
69A6 : STA $2E86 			;A->MEM
69A9 : JSR $7332  			;Ìø×ª×Ó³ÌÐò
69AC : LDA $50 			;->A
69AE : INT $311B      ;
69B1 : BCC $69BB 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
69B3 : JSR $65CF  			;Ìø×ª×Ó³ÌÐò
69B6 : BCS $69BB 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
69B8 : JMP $6B72 			;
69BB : LDA $2F90 			;->A
69BE : BEQ $69C3 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
69C0 : JMP $6B73 			;
69C3 : LDA #$10 			;->A
69C5 : STA $04CB 			;A->MEM
69C8 : LDA #$00 			;->A
69CA : STA $04CC 			;A->MEM
69CD : INT $9E27      ;Random number
69D0 : STA $57 			;A->MEM
69D2 : JSR $6BCB  			;Ìø×ª×Ó³ÌÐò
69D5 : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
69D8 : LDA $309E 			;->A
69DB : STA $30A8 			;A->MEM
69DE : LDA $309F 			;->A
69E1 : STA $30A9 			;A->MEM
69E4 : LDA #$00 			;->A
69E6 : BIT $2FAE 			;A¡Ä($n2n1)
69E9 : BPL $69ED 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
69EB : LDA #$01 			;->A
69ED : STA $2E8A 			;A->MEM
69F0 : LDA #$00 			;->A
69F2 : LDX $309D 			;->X
69F5 : JSR $6C2C  			;Ìø×ª×Ó³ÌÐò
69F8 : LDA $2F9F 			;->A
69FB : JSR $7171  			;Ìø×ª×Ó³ÌÐò
69FE : LDA $80 			;->A
6A00 : STA $308E 			;A->MEM
6A03 : LDA $81 			;->A
6A05 : STA $308F 			;A->MEM
6A08 : LDA $82 			;->A
6A0A : STA $3090 			;A->MEM
6A0D : LDA $83 			;->A
6A0F : STA $3091 			;A->MEM
6A12 : JSR $6C00  			;Ìø×ª×Ó³ÌÐò
6A15 : LDA #$02 			;->A
6A17 : STA $2E8A 			;A->MEM
6A1A : LDA #$01 			;->A
6A1C : LDX $30A6 			;->X
6A1F : JSR $6C19  			;Ìø×ª×Ó³ÌÐò
6A22 : LDA #$00 			;->A
6A24 : STA $30A6 			;A->MEM
6A27 : LDA $2EB9 			;->A
6A2A : JSR $7171  			;Ìø×ª×Ó³ÌÐò
6A2D : LDA $2EA8 			;->A
6A30 : BEQ $6A3D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6A32 : LDA #$03 			;->A
6A34 : STA $84 			;A->MEM
6A36 : LDA #$00 			;->A
6A38 : STA $85 			;A->MEM
6A3A : INT $9E24      ;80--83³ý84-85 ÉÌ->80--83
6A3D : LDA $80 			;->A
6A3F : STA $3092 			;A->MEM
6A42 : LDA $81 			;->A
6A44 : STA $3093 			;A->MEM
6A47 : LDA $82 			;->A
6A49 : STA $3094 			;A->MEM
6A4C : LDA $83 			;->A
6A4E : STA $3095 			;A->MEM
6A51 : JSR $711D  			;Ìø×ª×Ó³ÌÐò
6A54 : LDA $87 			;->A
6A56 : CMP $3095 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6A59 : BNE $6A6E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6A5B : LDA $86 			;->A
6A5D : CMP $3094 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6A60 : BNE $6A6E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6A62 : LDA $85 			;->A
6A64 : CMP $3093 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6A67 : BNE $6A6E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6A69 : LDA $84 			;->A
6A6B : CMP $3092 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6A6E : BCS $6A73 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6A70 : JMP $6B6C 			;

6A73 : LDA $2EC6 			;->A
6A76 : INT $9E1D      ;load ¸ñµ²str
6A79 : LDA #$04 			;->A
6A7B : STA $2E8A 			;A->MEM
6A7E : LDA #$01 			;->A
6A80 : LDX $30A7 			;->X
6A83 : JSR $6C19  			;Ìø×ª×Ó³ÌÐò
6A86 : LDA #$00 			;->A
6A88 : STA $30A7 			;A->MEM
6A8B : LDA $2EB6 			;->A
6A8E : JSR $7171  			;Ìø×ª×Ó³ÌÐò
6A91 : LDA $2EA8 			;->A
6A94 : BEQ $6AA1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6A96 : LDA #$03 			;->A
6A98 : STA $84 			;A->MEM
6A9A : LDA #$00 			;->A
6A9C : STA $85 			;A->MEM
6A9E : INT $9E24      ;80--83³ý84-85 ÉÌ->80--83
6AA1 : LDA $80 			;->A
6AA3 : STA $3096 			;A->MEM
6AA6 : LDA $81 			;->A
6AA8 : STA $3097 			;A->MEM
6AAB : LDA $82 			;->A
6AAD : STA $3098 			;A->MEM
6AB0 : LDA $83 			;->A
6AB2 : STA $3099 			;A->MEM
6AB5 : JSR $7141  			;Ìø×ª×Ó³ÌÐò
6AB8 : LDA $87 			;->A
6ABA : CMP $3099 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6ABD : BNE $6AD2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6ABF : LDA $86 			;->A
6AC1 : CMP $3098 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6AC4 : BNE $6AD2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6AC6 : LDA $85 			;->A
6AC8 : CMP $3097 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6ACB : BNE $6AD2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6ACD : LDA $84 			;->A
6ACF : CMP $3096 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6AD2 : BCS $6AD7 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6AD4 : JMP $6B6C 			;

6AD7 : JSR $71AA  			;Ìø×ª×Ó³ÌÐò
6ADA : BCS $6ADF 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6ADC : JMP $6B72 			;

6ADF : LDX #$0A 			;->X
6AE1 : LDY #$0F 			;->Y
6AE3 : JSR $6F51  			;Ìø×ª×Ó³ÌÐò  Draw Hit
6AE6 : LDA #$87 			;->A
6AE8 : STA $AA 			;A->MEM
6AEA : LDA #$2F 			;->A
6AEC : STA $AB 			;A->MEM
6AEE : LDA #$9F 			;->A
6AF0 : STA $AC 			;A->MEM
6AF2 : LDA #$2E 			;->A
6AF4 : STA $AD 			;A->MEM
6AF6 : JSR $6D3E  			;Ìø×ª×Ó³ÌÐò
6AF9 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6AFA : LDA $2EBC 			;->A
6AFD : SBC $308A 			;A-MEM-C->A
6B00 : STA $2EBC 			;A->MEM
6B03 : LDA $2EBD 			;->A
6B06 : SBC $308B 			;A-MEM-C->A
6B09 : STA $2EBD 			;A->MEM
6B0C : BCS $6B18 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6B0E : LDA #$00 			;->A
6B10 : STA $2EBC 			;A->MEM
6B13 : LDA #$00 			;->A
6B15 : STA $2EBD 			;A->MEM
6B18 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6B19 : LDA $2EC4 			;->A
6B1C : SBC $90 			;A-MEM-C->A
6B1E : STA $2EC4 			;A->MEM
6B21 : LDA $2EC5 			;->A
6B24 : SBC $91 			;A-MEM-C->A
6B26 : STA $2EC5 			;A->MEM
6B29 : BCS $6B35 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6B2B : LDA #$00 			;->A
6B2D : STA $2EC4 			;A->MEM
6B30 : LDA #$00 			;->A
6B32 : STA $2EC5 			;A->MEM
6B35 : LDA $2EBC 			;->A
6B38 : STA $80 			;A->MEM
6B3A : LDA $2EBD 			;->A
6B3D : STA $81 			;A->MEM
6B3F : LDA $90 			;->A
6B41 : ORA $91 			;A¡Å$91¡úA
6B43 : BEQ $6B4F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6B45 : LDA $2EC4 			;->A
6B48 : STA $80 			;A->MEM
6B4A : LDA $2EC5 			;->A
6B4D : STA $81 			;A->MEM
6B4F : LDA $2EBE 			;->A
6B52 : STA $82 			;A->MEM
6B54 : LDA $2EBF 			;->A
6B57 : STA $83 			;A->MEM
6B59 : INT $9E26     ;Calc Precent%
6B5C : LDY $309B 			;->Y
6B5F : LDX $308A 			;->X
6B62 : STX $8E 			;X->MEM
6B64 : LDX $308B 			;->X
6B67 : STX $8F 			;X->MEM
6B69 : INT $9E1C        ;load hit str
6B6C : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
6B6F : JSR $667D  			;Ìø×ª×Ó³ÌÐò
6B72 : RTS 			;×Ó³ÌÐò·µ»Ø

6B73 : BIT $2E86 			;A¡Ä($n2n1)
6B76 : BMI $6B88 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6B78 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6B79 : LDA $2F90 			;->A
6B7C : SBC #$01 			;A-MEM-C->A
6B7E : BCS $6B82 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6B80 : LDA #$00 			;->A
6B82 : STA $2F90 			;A->MEM
6B85 : JMP $6B95 			;

6B88 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6B89 : LDA $2EA8 			;->A
6B8C : SBC #$01 			;A-MEM-C->A
6B8E : BCS $6B92 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6B90 : LDA #$00 			;->A
6B92 : STA $2EA8 			;A->MEM
6B95 : LDA #$01 			;->A

6B97 : STA $2004 			;A->MEM

6B9A : LDA #$40 			;->A

6B9C : STA $A6 			;A->MEM

6B9E : LDA #$73 			;->A

6BA0 : STA $A7 			;A->MEM

6BA2 : JSR $6F28  			;Ìø×ª×Ó³ÌÐò

6BA5 : RTS 			;×Ó³ÌÐò·µ»Ø

6BA6 : LDA $2EC6 			;->A
6BA9 : BMI $6BB3 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6BAB : LDA $2ED5 			;->A    Selected Skill
6BAE : BPL $6BE9 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6BB0 : JMP $6BEB 			;

6BB3 : BIT $2ED6 			;A¡Ä($n2n1)

6BB6 : BPL $6BE3 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø

6BB8 : LDA $2ED6 			;->A
6BBB : AND #$7F 			;A¡Ä$n¡úA
6BBD : JSR $89F9  			;Ìø×ª×Ó³ÌÐò
6BC0 : LDA $2EC6 			;->A
6BC3 : BCC $6BE3 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6BC5 : LDA $2ED6 			;->A
6BC8 : JMP $6BEB 			;

6BCB : LDA $2FAE 			;->A  NPC Equip list
6BCE : BMI $6BD8 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6BD0 : LDA $2FB5 			;->A
6BD3 : BPL $6BE9 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6BD5 : JMP $6BEB 			;

6BD8 : BIT $2FB6 			;A¡Ä($n2n1)
6BDB : BPL $6BE3 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6BDD : LDA $2FB6 			;->A
6BE0 : JMP $6BEB 			;

6BE3 : JSR $8A74  			;Ìø×ª×Ó³ÌÐò
6BE6 : JMP $6BEB 			;

6BE9 : LDA #$01 			;->A
6BEB : AND #$7F 			;A¡Ä$n¡úA
6BED : STA $2E8B 			;A->MEM
6BF0 : JSR $8A91  			;Ìø×ª×Ó³ÌÐò
6BF3 : LDA $30A0 			;->A
6BF6 : STA $308A 			;A->MEM
6BF9 : LDA $30A1 			;->A
6BFC : STA $308B 			;A->MEM
6BFF : RTS 			;×Ó³ÌÐò·µ»Ø

6C00 : LDA $2ED7 			;->A
6C03 : BPL $6C0E 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C05 : BMI $6C10 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C07 : LDA $2FB7 			;->A
6C0A : BPL $6C0E 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C0C : BMI $6C10 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C0E : LDA #$07 			;->A
6C10 : AND #$7F 			;A¡Ä$n¡úA
6C12 : STA $2E8B 			;A->MEM
6C15 : JSR $8A91  			;Ìø×ª×Ó³ÌÐò
6C18 : RTS 			;×Ó³ÌÐò·µ»Ø

6C19 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6C1A : TXA 			;X->A
6C1B : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6C1C : LDA #$9F 			;->A
6C1E : STA $AA 			;A->MEM
6C20 : LDA #$2E 			;->A
6C22 : STA $AB 			;A->MEM  2E9F  player name
6C24 : JSR $89B1  			;Ìø×ª×Ó³ÌÐò
6C27 : PLA 			;A³öÕ»
6C28 : TAX 			;A->X
6C29 : JMP $6C3C 			;

6C2C : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6C2D : TXA 			;X->A
6C2E : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6C2F : LDA #$87 			;->A
6C31 : STA $AA 			;A->MEM
6C33 : LDA #$2F 			;->A
6C35 : STA $AB 			;A->MEM  2F87  NPC name
6C37 : JSR $7E4D  			;Ìø×ª×Ó³ÌÐò
6C3A : PLA 			;A³öÕ»
6C3B : TAX 			;A->X
6C3C : LDY #$0D 			;->Y
6C3E : PLA 			;A³öÕ»
6C3F : BEQ $6C43 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C41 : LDY #$0E 			;->Y
6C43 : LDA ($AA),Y 			;->A
6C45 : CLC 			;Çå½øÎ»±êÖ¾
6C46 : ADC $2E84 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6C49 : STA $2E84 			;A->MEM
6C4C : BCC $6C51 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C4E : INC $2E85 			;MEM++
6C51 : TXA 			;X->A
6C52 : JSR $7166  			;Ìø×ª×Ó³ÌÐò
6C55 : BCC $6C7D 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C57 : STA $80 			;A->MEM
6C59 : LDA #$00 			;->A
6C5B : STA $81 			;A->MEM
6C5D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6C5E : LDA $2E84 			;->A
6C61 : SBC $80 			;A-MEM-C->A
6C63 : STA $2E84 			;A->MEM
6C66 : LDA $2E85 			;->A
6C69 : SBC $81 			;A-MEM-C->A
6C6B : STA $2E85 			;A->MEM
6C6E : BCS $6C89 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C70 : LDA #$00 			;->A
6C72 : STA $2E84 			;A->MEM
6C75 : LDA #$00 			;->A
6C77 : STA $2E85 			;A->MEM
6C7A : JMP $6C89 			;

6C7D : CLC 			;Çå½øÎ»±êÖ¾
6C7E : ADC $2E84 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6C81 : STA $2E84 			;A->MEM
6C84 : BCC $6C89 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C86 : INC $2E85 			;MEM++
6C89 : LDA $2E84 			;->A
6C8C : ORA $2E85 			;A¡Å($n2n1)¡úA
6C8F : BNE $6C94 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6C91 : JMP $6D1D 			;

6C94 : LDA $2E84 			;->A
6C97 : STA $80 			;A->MEM
6C99 : LDA $2E85 			;->A
6C9C : STA $81 			;A->MEM
6C9E : LDA $2E84 			;->A
6CA1 : STA $82 			;A->MEM
6CA3 : LDA $2E85 			;->A
6CA6 : STA $83 			;A->MEM
6CA8 : INT $9E20      ;80-81*82-83 ½á¹û·Å80--83
6CAB : LDA $2E84 			;->A
6CAE : STA $84 			;A->MEM
6CB0 : LDA $2E85 			;->A
6CB3 : STA $85 			;A->MEM
6CB5 : LDA #$00 			;->A
6CB7 : STA $86 			;A->MEM
6CB9 : LDA #$00 			;->A
6CBB : STA $87 			;A->MEM
6CBD : INT $9E21      ;80--83*84-87 ->80--87
6CC0 : LDA #$2C 			;->A
6CC2 : STA $84 			;A->MEM
6CC4 : LDA #$01 			;->A
6CC6 : STA $85 			;A->MEM
6CC8 : INT $9E24      ;80--83³ý84-85 ÉÌ->80
6CCB : LDA $80 			;->A
6CCD : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6CCE : LDA $81 			;->A
6CD0 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6CD1 : LDA $82 			;->A
6CD3 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6CD4 : LDA $83 			;->A
6CD6 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6CD7 : LDY #$11 			;->Y
6CD9 : LDA ($AA),Y 			;->A
6CDB : STA $80 			;A->MEM
6CDD : INY 			;Y++
6CDE : LDA ($AA),Y 			;->A
6CE0 : STA $81 			;A->MEM
6CE2 : INY 			;Y++
6CE3 : LDA ($AA),Y 			;->A
6CE5 : STA $82 			;A->MEM
6CE7 : INY 			;Y++
6CE8 : LDA ($AA),Y 			;->A
6CEA : STA $83 			;A->MEM
6CEC : LDA #$64 			;->A
6CEE : STA $84 			;A->MEM
6CF0 : LDA #$00 			;->A
6CF2 : STA $85 			;A->MEM
6CF4 : INT $9E24      ;80--83³ý84-85 ÉÌ->80
6CF7 : PLA 			;A³öÕ»
6CF8 : STA $85 			;A->MEM
6CFA : PLA 			;A³öÕ»
6CFB : STA $84 			;A->MEM
6CFD : PLA 			;A³öÕ»
6CFE : STA $83 			;A->MEM
6D00 : PLA 			;A³öÕ»
6D01 : STA $82 			;A->MEM
6D03 : CLC 			;Çå½øÎ»±êÖ¾
6D04 : LDA $80 			;->A
6D06 : ADC $82 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6D08 : STA $80 			;A->MEM
6D0A : LDA $81 			;->A
6D0C : ADC $83 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6D0E : STA $81 			;A->MEM
6D10 : BCC $6D14 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6D12 : INC $84 			;MEM++
6D14 : LDA $84 			;->A
6D16 : STA $82 			;A->MEM
6D18 : LDA $85 			;->A
6D1A : STA $83 			;A->MEM
6D1C : RTS 			;×Ó³ÌÐò·µ»Ø

6D1D : LDY #$11 			;->Y
6D1F : LDA ($AA),Y 			;->A
6D21 : STA $80 			;A->MEM
6D23 : INY 			;Y++
6D24 : LDA ($AA),Y 			;->A
6D26 : STA $81 			;A->MEM
6D28 : INY 			;Y++
6D29 : LDA ($AA),Y 			;->A
6D2B : STA $82 			;A->MEM
6D2D : INY 			;Y++
6D2E : LDA ($AA),Y 			;->A
6D30 : STA $83 			;A->MEM
6D32 : LDA #$C8 			;->A
6D34 : STA $84 			;A->MEM
6D36 : LDA #$00 			;->A
6D38 : STA $85 			;A->MEM
6D3A : INT $9E24      ;80--83³ý84-85 ÉÌ->80
6D3D : RTS 			;×Ó³ÌÐò·µ»Ø

6D3E : LDY #$17 			;->Y
6D40 : LDA ($AA),Y 			;->A
6D42 : STA $8E 			;A->MEM
6D44 : LDA #$00 			;->A
6D46 : STA $8F 			;A->MEM
6D48 : LDY #$0F 			;->Y
6D4A : LDA ($AA),Y 			;->A
6D4C : STA $90 			;A->MEM
6D4E : LDA #$00 			;->A
6D50 : STA $91 			;A->MEM
6D52 : JSR $6E24  			;Ìø×ª×Ó³ÌÐò
6D55 : LDY #$15 			;->Y
6D57 : LDA ($AA),Y 			;->A
6D59 : STA $8A 			;A->MEM
6D5B : INY 			;Y++
6D5C : LDA ($AA),Y 			;->A
6D5E : STA $8B 			;A->MEM
6D60 : LDY #$21 			;->Y
6D62 : LDA ($AA),Y 			;->A
6D64 : STA $8C 			;A->MEM
6D66 : INY 			;Y++
6D67 : LDA ($AA),Y 			;->A
6D69 : STA $8D 			;A->MEM
6D6B : LDA $8B 			;->A
6D6D : CMP $8D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6D6F : BNE $6D75 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6D71 : LDA $8A 			;->A
6D73 : CMP $8C 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6D75 : BCC $6D7F 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6D77 : LDA $8C 			;->A
6D79 : STA $8A 			;A->MEM
6D7B : LDA $8D 			;->A
6D7D : STA $8B 			;A->MEM
6D7F : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6D80 : LDA $8C 			;->A
6D82 : SBC $8A 			;A-MEM-C->A
6D84 : STA $80 			;A->MEM
6D86 : LDA $8D 			;->A
6D88 : SBC $8B 			;A-MEM-C->A
6D8A : STA $81 			;A->MEM
6D8C : LDY #$21 			;->Y
6D8E : LDA $80 			;->A
6D90 : STA ($AA),Y 			;A->MEM
6D92 : INY 			;Y++
6D93 : LDA $81 			;->A
6D95 : STA ($AA),Y 			;A->MEM
6D97 : JSR $6E78  			;Ìø×ª×Ó³ÌÐò
6D9A : LDA $8E 			;->A
6D9C : STA $04CB 			;A->MEM
6D9F : LDA $8F 			;->A
6DA1 : STA $04CC 			;A->MEM
6DA4 : INT $9E27    ;Random number
6DA7 : CLC 			;Çå½øÎ»±êÖ¾
6DA8 : LDA $8E 			;->A
6DAA : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6DAC : STA $8E 			;A->MEM
6DAE : LDA $8F 			;->A
6DB0 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6DB2 : STA $8F 			;A->MEM
6DB4 : LSR $8F 			;Âß¼­ÓÒÒÆ
6DB6 : ROR $8E 			;Ñ­»·ÓÒÒÆ
6DB8 : CLC 			;Çå½øÎ»±êÖ¾
6DB9 : LDA $8E 			;->A
6DBB : ADC $90 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6DBD : STA $308A 			;A->MEM
6DC0 : LDA $8F 			;->A
6DC2 : ADC $91 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6DC4 : STA $308B 			;A->MEM
6DC7 : LDA #$00 			;->A
6DC9 : STA $30A0 			;A->MEM
6DCC : LDA #$00 			;->A
6DCE : STA $30A1 			;A->MEM
6DD1 : LDA #$00 			;->A
6DD3 : STA $30A2 			;A->MEM
6DD6 : LDA #$00 			;->A
6DD8 : STA $30A3 			;A->MEM
6DDB : LDA #$00 			;->A
6DDD : STA $90 			;A->MEM
6DDF : LDA #$00 			;->A
6DE1 : STA $91 			;A->MEM
6DE3 : LDY #$10 			;->Y
6DE5 : LDA ($AC),Y 			;->A
6DE7 : STA $8E 			;A->MEM
6DE9 : LDA $308A 			;->A
6DEC : STA $04CB 			;A->MEM
6DEF : LDA $308B 			;->A
6DF2 : STA $04CC 			;A->MEM
6DF5 : INT $9E27    ;Random number
6DF8 : CMP $8E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
6DFA : BEQ $6DFE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6DFC : BCS $6DFF 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6DFE : RTS 			;×Ó³ÌÐò·µ»Ø

6DFF : LDY #$27 			;->Y
6E01 : LDA ($AA),Y 			;->A
6E03 : BMI $6E14 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6E05 : LDA #$04 			;->A
6E07 : STA $04CB 			;A->MEM
6E0A : LDA #$00 			;->A
6E0C : STA $04CC 			;A->MEM
6E0F : INT $9E27    ;Random number
6E12 : BNE $6DFE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6E14 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6E15 : LDA $308A 			;->A
6E18 : SBC $8E 			;A-MEM-C->A
6E1A : STA $90 			;A->MEM
6E1C : LDA $308B 			;->A
6E1F : SBC $8F 			;A-MEM-C->A
6E21 : STA $91 			;A->MEM
6E23 : RTS 			;×Ó³ÌÐò·µ»Ø

6E24 : LDA $90 			;->A
6E26 : STA $04CB 			;A->MEM
6E29 : LDA $91 			;->A
6E2B : STA $04CC 			;A->MEM
6E2E : INT $9E27      ;Random number
6E31 : CLC 			;Çå½øÎ»±êÖ¾
6E32 : LDA $90 			;->A
6E34 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6E36 : STA $90 			;A->MEM
6E38 : LDA $91 			;->A
6E3A : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6E3C : STA $91 			;A->MEM
6E3E : LSR $91 			;Âß¼­ÓÒÒÆ
6E40 : ROR $90 			;Ñ­»·ÓÒÒÆ
6E42 : LDA $30A0 			;->A
6E45 : ORA $30A1 			;A¡Å($n2n1)¡úA
6E48 : BEQ $6E77 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6E4A : LDA $30A0 			;->A
6E4D : STA $80 			;A->MEM
6E4F : LDA $30A1 			;->A
6E52 : STA $81 			;A->MEM
6E54 : LDA $90 			;->A
6E56 : STA $82 			;A->MEM
6E58 : LDA $91 			;->A
6E5A : STA $83 			;A->MEM
6E5C : INT $9E20      ;80-81*82-83 ½á¹û·Å80--83
6E5F : LDA #$64 			;->A
6E61 : STA $82 			;A->MEM
6E63 : LDA #$00 			;->A
6E65 : STA $83 			;A->MEM
6E67 : INT $9E23      ;80-81³ý82-83 ÉÌ80
6E6A : CLC 			;Çå½øÎ»±êÖ¾
6E6B : LDA $90 			;->A
6E6D : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6E6F : STA $90 			;A->MEM
6E71 : LDA $91 			;->A
6E73 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6E75 : STA $91 			;A->MEM
6E77 : RTS 			;×Ó³ÌÐò·µ»Ø

6E78 : LDA $8A 			;->A
6E7A : ORA $8B 			;A¡Å$8B¡úA
6E7C : BEQ $6EE4 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6E7E : LDY #$27 			;->Y
6E80 : LDA ($AA),Y 			;->A
6E82 : BPL $6E9F 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6E84 : LDA $8A 			;->A
6E86 : STA $80 			;A->MEM
6E88 : LDA $8B 			;->A
6E8A : STA $81 			;A->MEM
6E8C : LDA #$06 			;->A
6E8E : STA $82 			;A->MEM
6E90 : LDA #$00 			;->A
6E92 : STA $83 			;A->MEM
6E94 : INT $9E23      ;80-81³ý82-83 ÉÌ80
6E97 : LDA $80 			;->A
6E99 : STA $8A 			;A->MEM
6E9B : LDA $81 			;->A
6E9D : STA $8B 			;A->MEM
6E9F : LDA $8C 			;->A
6EA1 : STA $80 			;A->MEM
6EA3 : LDA $8D 			;->A
6EA5 : STA $81 			;A->MEM
6EA7 : LDA #$14 			;->A
6EA9 : STA $82 			;A->MEM
6EAB : LDA #$00 			;->A
6EAD : STA $83 			;A->MEM
6EAF : INT $9E23      ;80-81³ý82-83 ÉÌ80
6EB2 : CLC 			;Çå½øÎ»±êÖ¾
6EB3 : LDA $8A 			;->A
6EB5 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6EB7 : STA $8A 			;A->MEM
6EB9 : LDA $8B 			;->A
6EBB : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6EBD : STA $8B 			;A->MEM
6EBF : LDY #$15 			;->Y
6EC1 : LDA ($AC),Y 			;->A
6EC3 : STA $80 			;A->MEM
6EC5 : INY 			;Y++
6EC6 : LDA ($AC),Y 			;->A
6EC8 : STA $81 			;A->MEM
6ECA : LDA #$19 			;->A
6ECC : STA $82 			;A->MEM
6ECE : LDA #$00 			;->A
6ED0 : STA $83 			;A->MEM
6ED2 : INT $9E23      ;80-81³ý82-83 ÉÌ80
6ED5 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
6ED6 : LDA $8A 			;->A
6ED8 : SBC $80 			;A-MEM-C->A
6EDA : STA $8A 			;A->MEM
6EDC : LDA $8B 			;->A
6EDE : SBC $81 			;A-MEM-C->A
6EE0 : STA $8B 			;A->MEM
6EE2 : BCC $6F27 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6EE4 : CLC 			;Çå½øÎ»±êÖ¾
6EE5 : LDA $8E 			;->A
6EE7 : ADC $8A 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6EE9 : STA $8E 			;A->MEM
6EEB : LDA $8F 			;->A
6EED : ADC $8B 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6EEF : STA $8F 			;A->MEM
6EF1 : LDA $30A2 			;->A
6EF4 : ORA $30A3 			;A¡Å($n2n1)¡úA
6EF7 : BEQ $6F26 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6EF9 : LDA $30A2 			;->A
6EFC : STA $80 			;A->MEM
6EFE : LDA $30A3 			;->A
6F01 : STA $81 			;A->MEM
6F03 : LDA $8E 			;->A
6F05 : STA $82 			;A->MEM
6F07 : LDA $8F 			;->A
6F09 : STA $83 			;A->MEM
6F0B : INT $9E20      ;80-81*82-83 ½á¹û·Å80--83
6F0E : LDA #$64 			;->A
6F10 : STA $82 			;A->MEM
6F12 : LDA #$00 			;->A
6F14 : STA $83 			;A->MEM
6F16 : INT $9E23      ;80-81³ý82-83 ÉÌ80
6F19 : CLC 			;Çå½øÎ»±êÖ¾
6F1A : LDA $8E 			;->A
6F1C : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6F1E : STA $8E 			;A->MEM
6F20 : LDA $8F 			;->A
6F22 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
6F24 : STA $8F 			;A->MEM
6F26 : RTS 			;×Ó³ÌÐò·µ»Ø
6F27 : RTS 			;×Ó³ÌÐò·µ»Ø

6F28 : BIT $2E87 			;A¡Ä($n2n1)
6F2B : BPL $6F30 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6F2D : JSR $75A9  			;Ìø×ª×Ó³ÌÐò
6F30 : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
6F33 : LDX #$2A 			;->X
6F35 : LDY #$26 			;->Y
6F37 : INT $9E31      ;show pt number
6F3A : LDX #$00 			;->X
6F3C : LDY #$2C 			;->Y
6F3E : LDA #$03 			;->A
6F40 : JSR $A451  			;Ìø×ª×Ó³ÌÐò
6F43 : LDX #$64 			;->X
6F45 : JSR $8334  			;Ìø×ª×Ó³ÌÐò delay
6F48 : BIT $2E87 			;A¡Ä($n2n1)
6F4B : BMI $6F50 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6F4D : JSR $8330  			;Ìø×ª×Ó³ÌÐò
6F50 : RTS 			;×Ó³ÌÐò·µ»Ø
;Draw Hit
6F51 : LDA #$39 			;->A
6F53 : STA $92 			;A->MEM
6F55 : LDA #$74 			;->A
6F57 : STA $93 			;A->MEM  7439  HitÃüÖÐÊ±Í¼Æ¬
6F59 : INT $C30D    ;DrawPIC
6F5C : RTS 			;×Ó³ÌÐò·µ»Ø
;battle draw HpMpFp
6F5D : LDA $2E80 			;->A
6F60 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6F61 : LDA $2E81 			;->A
6F64 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
6F65 : LDA #$00 			;->A
6F67 : STA $2E80 			;A->MEM
6F6A : LDA #$21 			;->A
6F6C : STA $2E81 			;A->MEM
6F6F : LDX #$23 			;->X
6F71 : LDY #$2D 			;->Y
6F73 : INT $9E31      ;show pt number
6F76 : LDA #$06 			;->A
6F78 : STA $80 			;A->MEM
6F7A : LDA #$00 			;->A
6F7C : STA $81 			;A->MEM
6F7E : BIT $3403 			;A¡Ä($n2n1)
6F81 : BPL $6F8B 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6F83 : LDA #$00 			;->A
6F85 : STA $80 			;A->MEM
6F87 : LDA #$0E 			;->A
6F89 : STA $81 			;A->MEM
6F8B : BIT $3404 			;A¡Ä($n2n1)
6F8E : BPL $6F98 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
6F90 : LDA #$02 			;->A
6F92 : STA $80 			;A->MEM
6F94 : LDA #$0E 			;->A
6F96 : STA $81 			;A->MEM
6F98 : JSR $53FF  			;Ìø×ª×Ó³ÌÐò
6F9B : LDX #$0A 			;->X
6F9D : LDY #$0F 			;->Y
6F9F : INT $9E30        ;draw image(x,y,$8081)
6FA2 : LDX #$12 			;->X
6FA4 : LDA $7402,X 			;->A      Í¼Æ¬ Õ½¶·HP
6FA7 : STA $273F,X 			;A->MEM
6FAA : DEX 			;X--
6FAB : BNE $6FA4 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
6FAD : LDA #$40 			;->A
6FAF : STA $92 			;A->MEM
6FB1 : LDA #$27 			;->A
6FB3 : STA $93 			;A->MEM
6FB5 : LDX #$04 			;->X
6FB7 : LDY #$21 			;->Y
6FB9 : INT $9E30        ;draw image(x,y,$8081)
6FBC : LDA #$27 			;->A
6FBE : STA $80 			;A->MEM
6FC0 : LDA #$00 			;->A
6FC2 : STA $81 			;A->MEM
6FC4 : LDA $2EC4 			;->A
6FC7 : STA $82 			;A->MEM
6FC9 : LDA $2EC5 			;->A
6FCC : STA $83 			;A->MEM
6FCE : INT $9E20      ;80-81*82-83 ½á¹û·Å80--83
6FD1 : LDA $2EBE 			;->A
6FD4 : STA $84 			;A->MEM
6FD6 : LDA $2EBF 			;->A
6FD9 : STA $85 			;A->MEM
6FDB : INT $9E24      ;80--83³ý84-85 ÉÌ->80
6FDE : LDA $80 			;->A
6FE0 : STA $84 			;A->MEM
6FE2 : LDX #$10 			;->X
6FE4 : LDY #$23 			;->Y
6FE6 : LDA $2EBC 			;->A
6FE9 : STA $80 			;A->MEM
6FEB : LDA $2EBD 			;->A
6FEE : STA $81 			;A->MEM
6FF0 : LDA $2EC4 			;->A
6FF3 : STA $82 			;A->MEM
6FF5 : LDA $2EC5 			;->A
6FF8 : STA $83 			;A->MEM
6FFA : LDA $84 			;->A
6FFC : INT $9E33      ;battle Draw HPMPFP box
6FFF : LDX #$38 			;->X
7001 : LDY #$23 			;->Y
7003 : LDA $2EBC 			;->A
7006 : STA $80 			;A->MEM
7008 : LDA $2EBD 			;->A
700B : STA $81 			;A->MEM
700D : LDA $2EC4 			;->A
7010 : STA $82 			;A->MEM
7012 : LDA $2EC5 			;->A
7015 : STA $83 			;A->MEM
7017 : INT $9E32      ;draw point number
701A : LDX #$12 			;->X
701C : LDA $7414,X 			;->A    Í¼Æ¬ Õ½¶·FP
701F : STA $273F,X 			;A->MEM
7022 : DEX 			;X--
7023 : BNE $701C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7025 : LDA #$40 			;->A
7027 : STA $92 			;A->MEM
7029 : LDA #$27 			;->A
702B : STA $93 			;A->MEM
702D : LDX #$04 			;->X
702F : LDY #$2A 			;->Y
7031 : INT $9E30        ;draw image(x,y,$8081)
7034 : LDX #$10 			;->X
7036 : LDY #$2C 			;->Y
7038 : LDA $2EC0 			;->A
703B : STA $80 			;A->MEM
703D : LDA $2EC1 			;->A
7040 : STA $81 			;A->MEM
7042 : LDA $2EC2 			;->A
7045 : STA $82 			;A->MEM
7047 : LDA $2EC3 			;->A
704A : STA $83 			;A->MEM
704C : LDA #$27 			;->A
704E : INT $9E33      ;battle Draw HPMPFP box
7051 : LDX #$38 			;->X
7053 : LDY #$2C 			;->Y
7055 : LDA $2EC0 			;->A
7058 : STA $80 			;A->MEM
705A : LDA $2EC1 			;->A
705D : STA $81 			;A->MEM
705F : LDA $2EC2 			;->A
7062 : STA $82 			;A->MEM
7064 : LDA $2EC3 			;->A
7067 : STA $83 			;A->MEM
7069 : INT $9E32      ;draw point number
706C : LDA $2EA9 			;->A  classID
706F : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7071 : BNE $70C5 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7073 : LDX #$12 			;->X
7075 : LDA $7426,X 			;->A  Í¼Æ¬ Õ½¶·MP
7078 : STA $273F,X 			;A->MEM
707B : DEX 			;X--
707C : BNE $7075 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
707E : LDA #$40 			;->A
7080 : STA $92 			;A->MEM
7082 : LDA #$27 			;->A
7084 : STA $93 			;A->MEM
7086 : LDX #$04 			;->X
7088 : LDY #$33 			;->Y
708A : INT $9E30        ;draw image(x,y,$8081)
708D : LDX #$10 			;->X
708F : LDY #$35 			;->Y
7091 : LDA $318F 			;->A  mp
7094 : STA $80 			;A->MEM
7096 : LDA $3190 			;->A   mp
7099 : STA $81 			;A->MEM
709B : LDA $3191 			;->A  mplevel
709E : STA $82 			;A->MEM
70A0 : LDA $3192 			;->A  mplevel
70A3 : STA $83 			;A->MEM
70A5 : LDA #$27 			;->A
70A7 : INT $9E33      ;battle Draw HPMPFP box
70AA : LDX #$38 			;->X
70AC : LDY #$35 			;->Y
70AE : LDA $318F 			;->A  mp
70B1 : STA $80 			;A->MEM
70B3 : LDA $3190 			;->A  mp
70B6 : STA $81 			;A->MEM
70B8 : LDA $3191 			;->A
70BB : STA $82 			;A->MEM
70BD : LDA $3192 			;->A
70C0 : STA $83 			;A->MEM
70C2 : INT $9E32      ;draw point number
70C5 : BIT $2E87 			;A¡Ä($n2n1)
70C8 : BMI $70D8 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
70CA : LDA $50 			;->A
70CC : STA $80 			;A->MEM
70CE : LDA #$06 			;->A
70D0 : STA $81 			;A->MEM
70D2 : JSR $53FF  			;Ìø×ª×Ó³ÌÐò
70D5 : JMP $70F0 			;

70D8 : LDA $2E9B 			;->A
70DB : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
70DC : LDA $50 			;->A
70DE : STA $2E9B 			;A->MEM
70E1 : LDA #$04 			;->A
70E3 : STA $80 			;A->MEM
70E5 : LDA #$00 			;->A
70E7 : STA $81 			;A->MEM
70E9 : JSR $53FF  			;Ìø×ª×Ó³ÌÐò
70EC : PLA 			;A³öÕ»
70ED : STA $2E9B 			;A->MEM
70F0 : LDX #$6B 			;->X
70F2 : LDY #$0F 			;->Y
70F4 : INT $9E30        ;draw image(x,y,$8081)
70F7 : LDX #$6E 			;->X
70F9 : LDY #$23 			;->Y
70FB : LDA $2FA4 			;->A
70FE : STA $80 			;A->MEM
7100 : LDA $2FA5 			;->A
7103 : STA $81 			;A->MEM
7105 : LDA $2FA6 			;->A
7108 : STA $82 			;A->MEM
710A : LDA $2FA7 			;->A
710D : STA $83 			;A->MEM
710F : LDA #$27 			;->A
7111 : INT $9E33      ;battle Draw HPMPFP box
7114 : PLA 			;A³öÕ»
7115 : STA $2E81 			;A->MEM
7118 : PLA 			;A³öÕ»
7119 : STA $2E80 			;A->MEM
711C : RTS 			;×Ó³ÌÐò·µ»Ø

711D : CLC 			;Çå½øÎ»±êÖ¾
711E : LDA $308E 			;->A
7121 : ADC $3092 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7124 : STA $8C 			;A->MEM
7126 : LDA $308F 			;->A
7129 : ADC $3093 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
712C : STA $8D 			;A->MEM
712E : LDA $3090 			;->A
7131 : ADC $3094 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7134 : STA $8E 			;A->MEM
7136 : LDA $3091 			;->A
7139 : ADC $3095 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
713C : STA $8F 			;A->MEM
713E : JMP $7162 			;

7141 : CLC 			;Çå½øÎ»±êÖ¾
7142 : LDA $308E 			;->A
7145 : ADC $3096 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7148 : STA $8C 			;A->MEM
714A : LDA $308F 			;->A
714D : ADC $3097 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7150 : STA $8D 			;A->MEM
7152 : LDA $3090 			;->A
7155 : ADC $3098 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7158 : STA $8E 			;A->MEM
715A : LDA $3091 			;->A
715D : ADC $3099 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7160 : STA $8F 			;A->MEM
7162 : INT $9E28      ;?
7165 : RTS 			;×Ó³ÌÐò·µ»Ø

7166 : BPL $716F 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7168 : EOR #$FF 			;AÒì»ò($n)¡úA
716A : CLC 			;Çå½øÎ»±êÖ¾
716B : ADC #$01 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
716D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
716E : RTS 			;×Ó³ÌÐò·µ»Ø
716F : CLC 			;Çå½øÎ»±êÖ¾
7170 : RTS 			;×Ó³ÌÐò·µ»Ø

7171 : CMP #$1E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7173 : BCC $717E 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7175 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
7176 : SBC #$1E 			;A-MEM-C->A
7178 : LSR 			;AÂß¼­ÓÒÒÆ
7179 : ADC #$64 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
717B : JMP $718D 			;
717E : STA $8C 			;A->MEM
7180 : LDA #$1E 			;->A
7182 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
7183 : SBC $8C 			;A-MEM-C->A
7185 : LSR 			;AÂß¼­ÓÒÒÆ
7186 : STA $8C 			;A->MEM
7188 : LDA #$64 			;->A
718A : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
718B : SBC $8C 			;A-MEM-C->A
718D : STA $84 			;A->MEM
718F : LDA #$00 			;->A
7191 : STA $85 			;A->MEM
7193 : LDA #$00 			;->A
7195 : STA $87 			;A->MEM
7197 : LDA #$00 			;->A
7199 : STA $88 			;A->MEM
719B : INT $9E21      ;80--83*84-87 ->80--87
719E : LDA #$64 			;->A
71A0 : STA $84 			;A->MEM
71A2 : LDA #$00 			;->A
71A4 : STA $85 			;A->MEM
71A6 : INT $9E24      ;80--83³ý84-85 ÉÌ->80
71A9 : RTS 			;×Ó³ÌÐò·µ»Ø

71AA : LDA $2EBB 			;->A  bliss
71AD : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
71AF : BNE $71D0 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
71B1 : LDA #$64 			;->A
71B3 : STA $04CB 			;A->MEM
71B6 : LDA #$00 			;->A
71B8 : STA $04CC 			;A->MEM
71BB : INT $9E27      ;Random number
71BE : CMP $2EBA 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  face
71C1 : BCS $71D0 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
71C3 : LDA #$86 			;->A
71C5 : STA $A6 			;A->MEM
71C7 : LDA #$73 			;->A
71C9 : STA $A7 			;A->MEM  7386 $NÃ»ÁÏµ½ÕâÒ»»÷È´´ò¿Õ£¬Ô­À´´òÖÐµÄÖ»ÊÇ¸öÓ°×Ó£¡
71CB : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
71CE : CLC 			;Çå½øÎ»±êÖ¾
71CF : RTS 			;×Ó³ÌÐò·µ»Ø
71D0 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
71D1 : RTS 			;×Ó³ÌÐò·µ»Ø

71D2 : LDA $2FA3 			;->A
71D5 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
71D7 : BNE $71F8 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
71D9 : LDA #$64 			;->A
71DB : STA $04CB 			;A->MEM
71DE : LDA #$00 			;->A
71E0 : STA $04CC 			;A->MEM
71E3 : INT $9E27      ;Random number
71E6 : CMP $2FA2 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
71E9 : BCS $71F8 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
71EB : LDA #$86 			;->A
71ED : STA $A6 			;A->MEM
71EF : LDA #$73 			;->A
71F1 : STA $A7 			;A->MEM  7386 $NÃ»ÁÏµ½ÕâÒ»»÷È´´ò¿Õ£¬Ô­À´´òÖÐµÄÖ»ÊÇ¸öÓ°×Ó£¡
71F3 : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
71F6 : CLC 			;Çå½øÎ»±êÖ¾
71F7 : RTS 			;×Ó³ÌÐò·µ»Ø
71F8 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
71F9 : RTS 			;×Ó³ÌÐò·µ»Ø

;battle win award
71FA : CLC 			;Çå½øÎ»±êÖ¾
71FB : LDA $2ED1 			;->A
71FE : ADC $2FB3 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA  NPC money
7201 : STA $2ED1 			;A->MEM
7204 : LDA $2ED2 			;->A
7207 : ADC $2FB4 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA  NPC money
720A : STA $2ED2 			;A->MEM
720D : BCC $7217 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
720F : INC $2ED3 			;MEM++
7212 : BNE $7217 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7214 : INC $2ED4 			;MEM++
7217 : LDA #$00 			;->A
7219 : STA $58 			;A->MEM
721B : LDA $58 			;->A
721D : ASL 			;ËãÊõ×óÒÆ
721E : TAX 			;A->X
721F : LDA #$00 			;->A
7221 : STA $05FC,X 			;A->MEM
7224 : STA $05FD,X 			;A->MEM
7227 : LDX $58 			;->X
7229 : LDA $2FAE,X 			;->A  NPC equip list
722C : BEQ $724A 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
722E : AND #$7F 			;A¡Ä$n¡úA
7230 : STA $2E8B 			;A->MEM
7233 : JSR $982F  			;Ìø×ª×Ó³ÌÐò;add item
7236 : LDA $2E8B 			;->A
7239 : JSR $9863  			;Ìø×ª×Ó³ÌÐò get item name
723C : LDA $58 			;->A
723E : ASL 			;ËãÊõ×óÒÆ
723F : TAX 			;A->X
7240 : LDA $80 			;->A
7242 : STA $05FC,X 			;A->MEM
7245 : LDA $81 			;->A
7247 : STA $05FD,X 			;A->MEM
724A : INC $58 			;MEM++
724C : LDA $58 			;->A
724E : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7250 : BCC $721B 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7252 : LDA #$B4 			;->A
7254 : STA $A6 			;A->MEM
7256 : LDA #$73 			;->A
7258 : STA $A7 			;A->MEM  73B4  ´ó»ñÈ«Ê¤!Õ½¶·»ñµÃ
725A : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
725D : LDA #$06 			;->A
725F : STA $043F 			;A->MEM
7262 : LDA #$03 			;->A
7264 : STA $0440 			;A->MEM
7267 : LDA #$96 			;->A
7269 : STA $0441 			;A->MEM
726C : LDA #$4B 			;->A  
726E : STA $0442 			;A->MEM
7271 : JSR $A361  			;Ìø×ª×Ó³ÌÐò    Show tip(Esc for exit)
7274 : RTS 			;×Ó³ÌÐò·µ»Ø

;ËÀÍö³Í·£
7275 : LDA $2EBE 			;->A  hpMax
7278 : STA $2EC4 			;A->MEM  hpfull
727B : LDA $2EBF 			;->A  hpMax
727E : STA $2EC5 			;A->MEM  hpfull
7281 : LDA #$01 			;->A
7283 : STA $2EBC 			;A->MEM  hp
7286 : LDA #$00 			;->A
7288 : STA $2EBD 			;A->MEM  hp
728B : LDX #$04 			;->X
728D : LDA $2ED0,X 			;->A  exp
7290 : STA $7F,X 			;A->MEM
7292 : DEX 			;X--
7293 : BNE $728D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7295 : LDA #$0A 			;->A
7297 : STA $84 			;A->MEM
7299 : LDA #$00 			;->A
729B : STA $85 			;A->MEM
729D : INT $9E24      ;80--83³ý84-85 ÉÌ->80
72A0 : LDX #$00 			;->X
72A2 : LDY #$04 			;->Y
72A4 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
72A5 : LDA $2ED1,X 			;->A
72A8 : SBC $80,X 			;A-MEM-C->A
72AA : STA $2ED1,X 			;A->MEM
72AD : INX 			;X++
72AE : DEY 			;Y--
72AF : BNE $72A5 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
72B1 : LDA $2EB0 			;->A  exp
72B4 : STA $80 			;A->MEM
72B6 : LDA $2EB1 			;->A  exp
72B9 : STA $81 			;A->MEM
72BB : LDA $2EB2 			;->A  exp
72BE : STA $82 			;A->MEM
72C0 : LDA $2EB3 			;->A  exp
72C3 : STA $83 			;A->MEM
72C5 : LDA #$5F 			;->A  80
72C7 : STA $84 			;A->MEM
72C9 : LDA #$00 			;->A
72CB : STA $85 			;A->MEM
72CD : LDA #$00 			;->A
72CF : STA $86 			;A->MEM
72D1 : LDA #$00 			;->A
72D3 : STA $87 			;A->MEM
72D5 : INT $9E21      ;80--83*84-87 ->80--87
72D8 : LDA #$64 			;->A
72DA : STA $84 			;A->MEM
72DC : LDA #$00 			;->A
72DE : STA $85 			;A->MEM
72E0 : INT $9E24      ;80--83³ý84-85 ÉÌ->80
72E3 : LDA $80 			;->A
72E5 : STA $2EB0 			;A->MEM
72E8 : LDA $81 			;->A
72EA : STA $2EB1 			;A->MEM
72ED : LDA $82 			;->A
72EF : STA $2EB2 			;A->MEM
72F2 : LDA $83 			;->A
72F4 : STA $2EB3 			;A->MEM
72F7 : LSR $2ED0 			;Âß¼­ÓÒÒÆ  pot
72FA : ROR $2ECF 			;Ñ­»·ÓÒÒÆ  pot
72FD : LDX #$28 			;->X
72FF : LDA #$00 			;->A
7301 : STA $2F5C,X 			;A->MEM  clean item
7304 : DEX 			;X--
7305 : BNE $72FF 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7307 : LDX #$05 			;->X
7309 : LDA #$00 			;->A
730B : STA $2ED4,X 			;A->MEM  clean selected skill
730E : DEX 			;X--
730F : BNE $7309 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7311 : LDX #$00 			;->X
7313 : CPX $2EDA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
7316 : BEQ $7331 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7318 : LDY #$00 			;->Y
731A : LDA $2EDC,Y 			;->A    Skill level
731D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
731E : SBC #$01 			;A-MEM-C->A
7320 : BNE $7324 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7322 : LDA #$01 			;->A
7324 : STA $2EDC,Y 			;A->MEM    Skill level
7327 : INY 			;Y++
7328 : INY 			;Y++
7329 : INY 			;Y++
732A : INY 			;Y++
732B : INX 			;X++
732C : CPX $2EDA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
732F : BCC $731A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7331 : RTS 			;×Ó³ÌÐò·µ»Ø

7332 : INT $311C      ;page2 9D46
7335 : BCC $733F 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7337 : BIT $3196 			;A¡Ä($n2n1)
733A : BPL $733F 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
733C : JMP $670E 			;
733F : RTS 			;×Ó³ÌÐò·µ»Ø

7340 : $NÏÖÔÚ´ôÈôÄ¾¼¦!
7350 : $NÏÖÔÚ¶¯µ¯²»µÃ!
7362 : $N×ªÉíÏëÁï,±»$nÒ»°Ñ×¥×¡:ÏëÅÜ,Ã»ÃÅ!
7386 : $NÃ»ÁÏµ½ÕâÒ»»÷È´´ò¿Õ£¬Ô­À´´òÖÐµÄÖ»ÊÇ¸öÓ°×Ó£¡
73b4 : ´ó»ñÈ«Ê¤!Õ½¶·»ñµÃ
73c5 : 00
73c6 : ½ðÇ®:02 B32f
73d0 : ÎïÆ·:08 FC02 08 FE05 08 0006 08 0206
73ed : ¿´À´$n²¢²»ÏëºÍÄãÇÐ´è

;Í¼Æ¬ Õ½¶·HP
7403 : 0c 08 ;´óÐ¡12*8
7405 : FFF0 B610 B6D0 B6D0 8610 B6F0 B6F0 FFF0
;Í¼Æ¬ Õ½¶·FP
7415 : 0c 08  ;
7417 : FFF0 8610 BED0 BED0 8E10 BEF0 BEF0 FFF0
;Í¼Æ¬ Õ½¶·MP
7427 : 0c 08	;
7429 : FFF0 B610 86D0 B6D0 B610 B6F0 B6F0 FFF0
;Í¼Æ¬ HitÃüÖÐÊ±Í¼Æ¬
7439 : 10 10  ;16*16 
743A : 0010 0830 0C50 0A9F
       3982 1004 0808 F804
       4002 3007 0804 1002
       20B2 7F69 0245 0003

745B : TSX 			;¶ÑÕ»->X
745C : TXA 			;X->A
745D : LDX #$01 			;->X
745F : STA $08CA,X 			;A->MEM
7462 : JSR $75DB  			;Ìø×ª×Ó³ÌÐò
7465 : JSR $64CB  			;Ìø×ª×Ó³ÌÐò
7468 : LDX #$32 			;->X
746A : LDY #$1E 			;->Y
746C : LDA #$84 			;->A
746E : STA $A8 			;A->MEM
7470 : LDA #$77 			;->A
7472 : STA $A9 			;A->MEM  7784 0002 8102 7B74 B074 ´´½¨ÓÎÏ·ÿ¼ÓÈëÓÎÏ·
7474 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
7477 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
747A : RTS 			;×Ó³ÌÐò·µ»Ø

747B : INT $320F      ;ºìÍâinit
747E : LDA $2006 			;->A
7481 : ORA #$80 			;A¡Å$n¡úA
7483 : STA $2006 			;A->MEM
7486 : LDA $2002 			;->A
7489 : ORA #$80 			;A¡Å$n¡úA
748B : STA $2002 			;A->MEM
748E : JSR $75A9  			;Ìø×ª×Ó³ÌÐò
7491 : LDA $2002 			;->A
7494 : AND #$7F 			;A¡Ä$n¡úA
7496 : STA $2002 			;A->MEM
7499 : JSR $754A  			;Ìø×ª×Ó³ÌÐò
749C : LDA $2006 			;->A
749F : AND #$7F 			;A¡Ä$n¡úA
74A1 : STA $2006 			;A->MEM
74A4 : LDA $2E87 			;->A
74A7 : ORA #$02 			;A¡Å$n¡úA
74A9 : STA $2E87 			;A->MEM
74AC : JSR $74E5  			;Ìø×ª×Ó³ÌÐò
74AF : RTS 			;×Ó³ÌÐò·µ»Ø

74B0 : INT $320F      ;ºìÍâinit
74B3 : LDA $2006 			;->A
74B6 : ORA #$80 			;A¡Å$n¡úA
74B8 : STA $2006 			;A->MEM
74BB : JSR $754A  			;Ìø×ª×Ó³ÌÐò
74BE : LDA $2002 			;->A
74C1 : ORA #$80 			;A¡Å$n¡úA
74C3 : STA $2002 			;A->MEM
74C6 : JSR $75A9  			;Ìø×ª×Ó³ÌÐò
74C9 : LDA $2002 			;->A
74CC : AND #$7F 			;A¡Ä$n¡úA
74CE : STA $2002 			;A->MEM
74D1 : LDA $2006 			;->A
74D4 : AND #$7F 			;A¡Ä$n¡úA
74D6 : STA $2006 			;A->MEM
74D9 : LDA $2E87 			;->A
74DC : AND #$FD 			;A¡Ä$n¡úA
74DE : STA $2E87 			;A->MEM
74E1 : JSR $74E5  			;Ìø×ª×Ó³ÌÐò
74E4 : RTS 			;×Ó³ÌÐò·µ»Ø

74E5 : LDA $2E87 			;->A
74E8 : AND #$02 			;A¡Ä$n¡úA
74EA : BEQ $7509 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
74EC : LDA $2E86 			;->A
74EF : ORA #$80 			;A¡Å$n¡úA
74F1 : STA $2E86 			;A->MEM
74F4 : JSR $751F  			;Ìø×ª×Ó³ÌÐò
74F7 : LDX #$28 			;->X
74F9 : LDY #$32 			;->Y
74FB : LDA #$21 			;->A
74FD : STA $A8 			;A->MEM
74FF : LDA #$66 			;->A
7501 : STA $A9 			;A->MEM  6621 battle menu
7503 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
7506 : JMP $74E5 			;
7509 : LDA $2E86 			;->A
750C : AND #$7F 			;A¡Ä$n¡úA
750E : STA $2E86 			;A->MEM
7511 : JSR $751F  			;Ìø×ª×Ó³ÌÐò
7514 : JSR $754A  			;Ìø×ª×Ó³ÌÐò
7517 : LDA $2004 			;->A
751A : BNE $7514 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
751C : JMP $74E5 			;
751F : INT $8A2D
7522 : LDX #$02 			;->X
7524 : LDY #$01 			;->Y
7526 : LDA #$9F 			;->A
7528 : STA $A6 			;A->MEM
752A : LDA #$2E 			;->A
752C : STA $A7 			;A->MEM  2E9F
752E : JSR $A495  			;Ìø×ª×Ó³ÌÐò
7531 : LDX #$12 			;->X
7533 : LDY #$01 			;->Y
7535 : LDA #$87 			;->A
7537 : STA $A6 			;A->MEM
7539 : LDA #$2F 			;->A
753B : STA $A7 			;A->MEM
753D : JSR $A495  			;Ìø×ª×Ó³ÌÐò
7540 : JSR $55D4  			;Ìø×ª×Ó³ÌÐò
7543 : JSR $6F5D  			;Ìø×ª×Ó³ÌÐò  battle draw HpMpFp
7546 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7549 : RTS 			;×Ó³ÌÐò·µ»Ø

754A : LDA #$80 			;->A
754C : STA $A4 			;A->MEM
754E : LDA #$2D 			;->A
7550 : STA $A5 			;A->MEM
7552 : INT $320E      ;ºìÍâ?
7555 : BCC $755A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7557 : JMP $774F 			;
755A : JSR $7718  			;Ìø×ª×Ó³ÌÐò
755D : BCC $7562 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
755F : JMP $7744 			;
7562 : JSR $75EF  			;Ìø×ª×Ó³ÌÐò
7565 : JSR $7676  			;Ìø×ª×Ó³ÌÐò
7568 : LDA #$02 			;->A
756A : STA $A6 			;A->MEM
756C : LDA #$2E 			;->A
756E : STA $A7 			;A->MEM
7570 : BIT $2002 			;A¡Ä($n2n1)
7573 : BMI $7590 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7575 : BIT $2005 			;A¡Ä($n2n1)
7578 : BMI $7590 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
757A : LDA $2E87 			;->A
757D : AND #$7F 			;A¡Ä$n¡úA
757F : STA $2E87 			;A->MEM
7582 : JSR $6F28  			;Ìø×ª×Ó³ÌÐò
7585 : LDA $2E87 			;->A
7588 : ORA #$80 			;A¡Å$n¡úA
758A : STA $2E87 			;A->MEM
758D : JSR $667D  			;Ìø×ª×Ó³ÌÐò
7590 : LDA $2002 			;->A
7593 : AND #$7F 			;A¡Ä$n¡úA
7595 : STA $2002 			;A->MEM
7598 : LDA $2005 			;->A
759B : AND #$7F 			;A¡Ä$n¡úA
759D : STA $2005 			;A->MEM
75A0 : LDA $2E87 			;->A
75A3 : ORA #$02 			;A¡Å$n¡úA
75A5 : STA $2E87 			;A->MEM
75A8 : RTS 			;×Ó³ÌÐò·µ»Ø

75A9 : DEC $2004 			;MEM--
75AC : JSR $7611  			;Ìø×ª×Ó³ÌÐò
75AF : JSR $7703  			;Ìø×ª×Ó³ÌÐò
75B2 : JSR $7724  			;Ìø×ª×Ó³ÌÐò
75B5 : LDA #$80 			;->A
75B7 : STA $A4 			;A->MEM
75B9 : LDA #$2D 			;->A
75BB : STA $A5 			;A->MEM
75BD : LDA #$FA 			;->A
75BF : STA $302F 			;A->MEM
75C2 : INT $320D      ;ºìÍâ?
75C5 : BCC $75CA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
75C7 : JMP $775A 			;
75CA : LDA $2002 			;->A
75CD : AND #$7F 			;A¡Ä$n¡úA
75CF : STA $2002 			;A->MEM
75D2 : LDA $2E87 			;->A
75D5 : AND #$FD 			;A¡Ä$n¡úA
75D7 : STA $2E87 			;A->MEM
75DA : RTS 			;×Ó³ÌÐò·µ»Ø

75DB : LDA #$01 			;->A
75DD : STA $80 			;A->MEM
75DF : LDA #$20 			;->A
75E1 : STA $81 			;A->MEM
75E3 : LDY #$00 			;->Y
75E5 : LDA #$00 			;->A
75E7 : STA ($80),Y 			;A->MEM
75E9 : INY 			;Y++
75EA : CPY #$09 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
75EC : BCC $75E7 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
75EE : RTS 			;×Ó³ÌÐò·µ»Ø

75EF : LDA #$80 			;->A
75F1 : STA $80 			;A->MEM
75F3 : LDA #$2D 			;->A
75F5 : STA $81 			;A->MEM
75F7 : LDY #$00 			;->Y
75F9 : LDA ($80),Y 			;->A
75FB : STA $2000,Y 			;A->MEM
75FE : INY 			;Y++
75FF : CPY #$09 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
7601 : BCC $75F9 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7603 : LDA $2003 			;->A
7606 : STA $57 			;A->MEM
7608 : BIT $2001 			;A¡Ä($n2n1)
760B : BMI $760E 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
760D : RTS 			;×Ó³ÌÐò·µ»Ø
760E : JMP $677D 			;

7611 : LDA #$9F 			;->A
7613 : STA $80 			;A->MEM
7615 : LDA #$2E 			;->A
7617 : STA $81 			;A->MEM
7619 : LDY #$00 			;->Y
761B : LDA ($80),Y 			;->A
761D : STA $2D8A,Y 			;A->MEM
7620 : INY 			;Y++
7621 : CPY #$28 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
7623 : BCC $761B 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7625 : LDA $2E9B 			;->A
7628 : STA $2D8A,Y 			;A->MEM
762B : INY 			;Y++
762C : LDX #$00 			;->X
762E : LDA $2ED5,X 			;->A  Selected Skill
7631 : STA $2D8A,Y 			;A->MEM
7634 : INY 			;Y++
7635 : INX 			;X++
7636 : CPX $05 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
7638 : BCC $762E 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
763A : LDA $2EDA 			;->A
763D : STA $2D8A,Y 			;A->MEM
7640 : INY 			;Y++
7641 : LDX #$00 			;->X
7643 : LDA $2EDB,X 			;->A    SkillID
7646 : STA $2D8A,Y 			;A->MEM
7649 : INY 			;Y++
764A : INX 			;X++
764B : LDA $2EDB,X 			;->A    SkillID
764E : STA $2D8A,Y 			;A->MEM
7651 : INY 			;Y++
7652 : INX 			;X++
7653 : INX 			;X++
7654 : INX 			;X++
7655 : CPX $50 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
7657 : BCC $7643 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7659 : LDX #$00 			;->X
765B : LDA $2FA4,X 			;->A
765E : STA $2D8A,Y 			;A->MEM
7661 : INY 			;Y++
7662 : INX 			;X++
7663 : CPX $0A 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
7665 : BCC $765B 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7667 : LDA $2F90 			;->A
766A : STA $2D8A,Y 			;A->MEM
766D : INY 			;Y++
766E : LDA $2FAE 			;->A
7671 : STA $2D8A,Y 			;A->MEM
7674 : INY 			;Y++
7675 : RTS 			;×Ó³ÌÐò·µ»Ø

7676 : LDA #$87 			;->A
7678 : STA $80 			;A->MEM
767A : LDA #$2F 			;->A
767C : STA $81 			;A->MEM
767E : LDY #$00 			;->Y
7680 : LDX #$00 			;->X
7682 : LDA $2D8A,X 			;->A
7685 : STA ($80),Y 			;A->MEM
7687 : INY 			;Y++
7688 : INX 			;X++
7689 : CPY #$28 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
768B : BCC $7682 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
768D : LDA $2D8A,X 			;->A
7690 : STA $50 			;A->MEM
7692 : INX 			;X++
7693 : LDA #$B5 			;->A
7695 : STA $80 			;A->MEM
7697 : LDA #$2F 			;->A
7699 : STA $81 			;A->MEM  2FB5
769B : LDY #$00 			;->Y
769D : LDA $2D8A,X 			;->A
76A0 : STA ($80),Y 			;A->MEM
76A2 : INY 			;Y++
76A3 : INX 			;X++
76A4 : CPY #$05 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
76A6 : BCC $769D 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
76A8 : LDA $2D8A,X 			;->A
76AB : STA $2FBA 			;A->MEM  NPC Skill number
76AE : INX 			;X++
76AF : LDA #$BB 			;->A
76B1 : STA $80 			;A->MEM
76B3 : LDA #$2F 			;->A
76B5 : STA $81 			;A->MEM  2FBB   NPC Skill list
76B7 : LDY #$00 			;->Y
76B9 : LDA $2D8A,X 			;->A
76BC : STA ($80),Y 			;A->MEM
76BE : INY 			;Y++
76BF : INX 			;X++
76C0 : CPY #$28 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
76C2 : BCC $76B9 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
76C4 : BIT $2006 			;A¡Ä($n2n1)
76C7 : BPL $76CA 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
76C9 : RTS 			;×Ó³ÌÐò·µ»Ø

76CA : LDA #$BC 			;->A
76CC : STA $80 			;A->MEM
76CE : LDA #$2E 			;->A
76D0 : STA $81 			;A->MEM  2EBC hp
76D2 : LDY #$00 			;->Y
76D4 : LDA $2D8A,X 			;->A
76D7 : STA ($80),Y 			;A->MEM
76D9 : INX 			;X++
76DA : INY 			;Y++
76DB : CPY #$0A 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
76DD : BCC $76D4 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
76DF : LDA $2D8A,X 			;->A
76E2 : STA $2EA8 			;A->MEM
76E5 : INX 			;X++
76E6 : LDA $2D8A,X 			;->A
76E9 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
76EA : EOR $2EC6 			;AÒì»ò($n2n1)¡úA
76ED : BMI $76F5 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
76EF : PLA 			;A³öÕ»
76F0 : STA $2EC6 			;A->MEM ?
76F3 : INX 			;X++
76F4 : RTS 			;×Ó³ÌÐò·µ»Ø
76F5 : LDA $2EC6 			;->A
76F8 : JSR $98BB  			;Ìø×ª×Ó³ÌÐòitem exist
76FB : DEC $2F5E,X 			;MEM--  ItemNum
76FE : PLA 			;A³öÕ»
76FF : STA $2EC6 			;A->MEM
7702 : RTS 			;×Ó³ÌÐò·µ»Ø

7703 : LDA $A6 			;->A
7705 : STA $80 			;A->MEM
7707 : LDA $A7 			;->A
7709 : STA $81 			;A->MEM
770B : LDY #$00 			;->Y
770D : LDA ($80),Y 			;->A
770F : STA $2E02,Y 			;A->MEM
7712 : INY 			;Y++
7713 : CPY #$64 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
7715 : BCC $770D 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7717 : RTS 			;×Ó³ÌÐò·µ»Ø

7718 : LDA $2D80 			;->A
771B : CMP $2E8C 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
771E : BNE $7722 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7720 : CLC 			;Çå½øÎ»±êÖ¾
7721 : RTS 			;×Ó³ÌÐò·µ»Ø
7722 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
7723 : RTS 			;×Ó³ÌÐò·µ»Ø

7724 : LDA $57 			;->A
7726 : STA $2003 			;A->MEM
7729 : LDA $2E8C 			;->A
772C : STA $2000 			;A->MEM
772F : LDA #$00 			;->A
7731 : STA $80 			;A->MEM
7733 : LDA #$20 			;->A
7735 : STA $81 			;A->MEM
7737 : LDY #$00 			;->Y
7739 : LDA ($80),Y 			;->A
773B : STA $2D80,Y 			;A->MEM
773E : INY 			;Y++
773F : CPY #$0A 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
7741 : BCC $7739 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7743 : RTS 			;×Ó³ÌÐò·µ»Ø

7744 : LDA #$CB 			;->A
7746 : STA $A6 			;A->MEM
7748 : LDA #$77 			;->A
774A : STA $A7 			;A->MEM  77CB °æ±¾ºÅÓÐ´í!
774C : JMP $7762 			;

774F : LDA #$AD 			;->A
7751 : STA $A6 			;A->MEM
7753 : LDA #$77 			;->A
7755 : STA $A7 			;A->MEM  77AD Êý¾Ý½ÓÊÕÊ§°Ü!
7757 : JMP $7762 			;
775A : LDA #$9E 			;->A
775C : STA $A6 			;A->MEM
775E : LDA #$77 			;->A
7760 : STA $A7 			;A->MEM  779E Êý¾Ý´«ÊäÊ§°Ü!
7762 : LDA #$00 			;->A
7764 : STA $C7 			;A->MEM
7766 : LDA #$06 			;->A
7768 : STA $043F 			;A->MEM
776B : LDA #$04 			;->A
776D : STA $0440 			;A->MEM
7770 : LDA #$96 			;->A
7772 : STA $0441 			;A->MEM
7775 : LDA #$4C 			;->A  playerX  playerX
7777 : STA $0442 			;A->MEM
777A : JSR $A3CD  			;Ìø×ª×Ó³ÌÐò [ÊäÈë]È·ÈÏ,[Ìø³ö]·ÅÆúC=1
777D : JSR $5081  			;Ìø×ª×Ó³ÌÐòdraw map
7780 : JMP $677D 			;
7783 : RTS 			;×Ó³ÌÐò·µ»Ø
7784 : 00 02 81 02 7B 74 B0 74
778C : ´´½¨ÓÎÏ·
7795 : ¼ÓÈëÓÎÏ·
779E : Êý¾Ý´«ÊäÊ§°Ü!
77AD : Êý¾Ý½ÓÊÕÊ§°Ü!
77BC : Êý¾Ý½ÓÊÕ³É¹¦!
77CB : °æ±¾ºÅÓÐ´í!
77D8 : $8A BA

77DA : LDX #$00 			;->X
77DC : STA $08CA,X 			;A->MEM
77DF : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
77E2 : JSR $7852  			;Ìø×ª×Ó³ÌÐò
77E5 : LDX #$01 			;->X
77E7 : LDY #$02 			;->Y
77E9 : LDA #$87 			;->A
77EB : STA $A6 			;A->MEM
77ED : LDA #$2F 			;->A
77EF : STA $A7 			;A->MEM
77F1 : JSR $A495  			;Ìø×ª×Ó³ÌÐò
77F4 : JSR $78E6  			;Ìø×ª×Ó³ÌÐò
77F7 : LDX $4C 			;->X  playerX
77F9 : CPX $7A 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
77FB : BCC $77FF 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
77FD : LDX #$7A 			;->X
77FF : LDY #$0A 			;->Y
7801 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
7804 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7807 : RTS 			;×Ó³ÌÐò·µ»Ø

;NPC menu main
7808 : TSX 			;¶ÑÕ»->X
7809 : TXA 			;X->A
780A : LDX #$00 			;->X
780C : STA $08CA,X 			;A->MEM
780F : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7812 : LDX #$01 			;->X
7814 : LDY #$02 			;->Y
7816 : LDA #$86 			;->A
7818 : STA $A6 			;A->MEM
781A : LDA #$31 			;->A
781C : STA $A7 			;A->MEM  3186 Pname
781E : JSR $A495  			;Ìø×ª×Ó³ÌÐò
7821 : LDA #$39 			;->A
7823 : STA $A8 			;A->MEM
7825 : LDA #$7F 			;->A
7827 : STA $A9 			;A->MEM
7829 : LDX $4C 			;->X  playerX
782B : CPX $7A 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
782D : BCC $7831 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
782F : LDX #$7A 			;->X
7831 : LDY #$0A 			;->Y
7833 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
7836 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7839 : RTS 			;×Ó³ÌÐò·µ»Ø

;Çë½Ì(ÅäÅ¼)
783A : INT $3205      ;Çë½Ì(ÅäÅ¼)
783D : BCS $7842 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
783F : JMP $7BD5 			;
7842 : LDX #$09 			;->X
7844 : LDA $3185,X 			;->A
7847 : STA $2F86,X 			;A->MEM
784A : DEX 			;X--
784B : BNE $7844 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
784D : RTS 			;×Ó³ÌÐò·µ»Ø

;´«ÊÚ(ÅäÅ¼)
784E : INT $3206      ;´«ÊÚ(ÅäÅ¼)
7851 : RTS 			;×Ó³ÌÐò·µ»Ø

;calc nPC attrib
7852 : LDA $54 			;->A
7854 : CMP $50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7856 : BNE $7861 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7858 : LDA $3445 			;->A
785B : CMP $3446 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
785E : BNE $7861 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7860 : RTS 			;×Ó³ÌÐò·µ»Ø
7861 : LDA $3445 			;->A
7864 : STA $3446 			;A->MEM
7867 : INT $320B      ;NPC Event
786A : BCS $788B 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
786C : LDA #$A0 			;->A
786E : STA $80 			;A->MEM
7870 : LDA #$01 			;->A
7872 : STA $76 			;A->MEM
7874 : LDA $50 			;->A
7876 : STA $75 			;A->MEM
7878 : CMP #$7E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
787A : BCC $7888 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
787C : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
787D : SBC #$7E 			;A-MEM-C->A
787F : STA $75 			;A->MEM
7881 : LDA $00 			;->A
7883 : CLC 			;Çå½øÎ»±êÖ¾
7884 : ADC #$01 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7886 : STA $80 			;A->MEM
7888 : JSR $A4E6  			;Ìø×ª×Ó³ÌÐò
788B : LDA $2FAE 			;->A  NPC Equip list
788E : BPL $78A0 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7890 : AND #$7F 			;A¡Ä$n¡úA
7892 : JSR $9889  			;Ìø×ª×Ó³ÌÐò ;load item attrib
7895 : LDY #$02 			;->Y
7897 : LDA ($80),Y 			;->A
7899 : CLC 			;Çå½øÎ»±êÖ¾
789A : ADC $2F96 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
789D : STA $2F96 			;A->MEM
78A0 : LDA $2FAF 			;->A  NPC Equip
78A3 : BPL $78E1 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
78A5 : AND #$7F 			;A¡Ä$n¡úA
78A7 : JSR $9889  			;Ìø×ª×Ó³ÌÐò ;load item attrib
78AA : LDY #$02 			;->Y
78AC : LDA ($80),Y 			;->A
78AE : CLC 			;Çå½øÎ»±êÖ¾
78AF : ADC $2F97 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
78B2 : STA $2F97 			;A->MEM
78B5 : LDA #$01 			;->A
78B7 : JSR $7E8A  			;Ìø×ª×Ó³ÌÐò find NPC Skill location
78BA : BCC $78CB 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
78BC : LDA $2FBC,Y 			;->A
78BF : LDX #$0A 			;->X
78C1 : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
78C4 : CLC 			;Çå½øÎ»±êÖ¾
78C5 : ADC $2F9E 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
78C8 : STA $2F9E 			;A->MEM
78CB : LDA #$07 			;->A
78CD : JSR $7E8A  			;Ìø×ª×Ó³ÌÐò find NPC Skill location
78D0 : BCC $78E1 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
78D2 : LDA $2FBC,Y 			;->A
78D5 : LDX #$0A 			;->X
78D7 : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
78DA : CLC 			;Çå½øÎ»±êÖ¾
78DB : ADC $2F9F 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
78DE : STA $2F9F 			;A->MEM
78E1 : LDA $50 			;->A
78E3 : STA $54 			;A->MEM
78E5 : RTS 			;×Ó³ÌÐò·µ»Ø

;load NPC menu
78E6 : LDA $50 			;->A  MapElemID
78E8 : TAX 			;A->X
78E9 : LDY #$03 			;->Y
78EB : LDA #$37 			;->A
78ED : STA $80 			;A->MEM
78EF : LDA #$79 			;->A
78F1 : STA $81 			;A->MEM  7937
78F3 : TXA 			;X->A  MapElemID
78F4 : JSR $B07A  			;Ìø×ª×Ó³ÌÐò
78F7 : LDA $80 			;->A
78F9 : STA $A8 			;A->MEM
78FB : LDA $81 			;->A
78FD : STA $A9 			;A->MEM
78FF : BCS $7936 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7901 : LDA #$12 			;->A
7903 : STA $A8 			;A->MEM
7905 : LDA #$7F 			;->A
7907 : STA $A9 			;A->MEM  7F12 ½»Ì¸²é¿´Õ½¶·ÇÐ´èÇë½Ì
7909 : LDA $2E9C 			;->A
790C : CMP $50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
790E : BEQ $7936 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7910 : LDA #$A4 			;->A
7912 : STA $A8 			;A->MEM
7914 : LDA #$7E 			;->A
7916 : STA $A9 			;A->MEM  7EA4 ½»Ì¸²é¿´Õ½¶·ÇÐ´è
7918 : LDA $2F91 			;->A
791B : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
791D : BEQ $7936 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
791F : LDA #$C4 			;->A
7921 : STA $A8 			;A->MEM
7923 : LDA #$7E 			;->A
7925 : STA $A9 			;A->MEM  7EC4 ½»Ì¸²é¿´Õ½¶·ÇÐ´è½»Ò×
7927 : LDA $2F91 			;->A
792A : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
792C : BEQ $7936 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
792E : LDA #$EB 			;->A
7930 : STA $A8 			;A->MEM
7932 : LDA #$7E 			;->A
7934 : STA $A9 			;A->MEM  7EEB ½»Ì¸²é¿´Õ½¶·ÇÐ´è°ÝÊ¦
7936 : RTS 			;×Ó³ÌÐò·µ»Ø
7937 : 1F 07 7D 12 7F 12 7F A4 7E

;½»Ì¸
7940 : LDX #$00 			;->X
7942 : LDA $08CA,X 			;->A
7945 : TAX 			;A->X
7946 : TXS 			;X->¶ÑÕ»
7947 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
794A : INT $3208      ;
794D : BCC $7950 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
794F : RTS 			;×Ó³ÌÐò·µ»Ø
7950 : LDA #$00 			;->A
7952 : INT $320A      ;get task id
7955 : BEQ $796C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7957 : CMP $50 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7959 : BNE $796C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
795B : LDA #$00 			;->A
795D : INT $3209      ;task finished
7960 : LDA #$D2 			;->A
7962 : STA $A6 			;A->MEM
7964 : LDA #$7F 			;->A
7966 : STA $A7 			;A->MEM  7FD2 ÎÒÖªµÀÁË,¶àÐ»À´·Ã!
7968 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
796B : RTS 			;×Ó³ÌÐò·µ»Ø
796C : LDA $50 			;->A
796E : INT $9E11      ;NPC dialog
7971 : BCS $7974 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7973 : RTS 			;×Ó³ÌÐò·µ»Ø
7974 : LDA #$05 			;->A  common dialog
7976 : STA $04CB 			;A->MEM
7979 : LDA #$00 			;->A
797B : STA $04CC 			;A->MEM
797E : INT $9E27      ;Random number
7981 : ASL 			;ËãÊõ×óÒÆ
7982 : TAX 			;A->X
7983 : LDA $7994,X 			;->A
7986 : STA $A6 			;A->MEM
7988 : LDA $7995,X 			;->A
798B : STA $A7 			;A->MEM
798D : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
7990 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
7993 : RTS 			;×Ó³ÌÐò·µ»Ø
;Address
7994 : 9E79 C679 E879 0D7A 327A
799E : $oÕö´óÑÛ¾¦ÍûÖøÄã£¬ÏÔÈ»²»ÖªµÀÄãÔÚËµÊ²÷á
79C6 : $o´òÁË¸ö¹þ¹þ:½ñÌìµÄÌìÆøÕæÊÇ,¹þ¹þ
79E8 : $o¿´ÁËÄãÒ»ÑÛ,ÓÖ×ªÉíÃ¦×Ô¼ºµÄÊÂÇéÈ¥ÁË
7A0D : Ã»¿´µ½ÎÒÔÚÃ¦Âð,Äã»¹ÊÇÕÒ±ðÈËCHATÈ¥°É
7A32 : ÎÒÊ²Ã´Ò²²»ÖªµÀ,¾ÍËãÖªµÀÒ²²»Ëµ,´òËÀÄãÎÒÒ²²»Ëµ

;Npc-²é¿´
7A60 : LDX #$00 			;->X
7A62 : LDA $08CA,X 			;->A
7A65 : TAX 			;A->X
7A66 : TXS 			;X->¶ÑÕ»
7A67 : LDA $2F93 			;->A  age
7A6A : LDX #$0A 			;->X
7A6C : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
7A6F : LDX #$0A 			;->X
7A71 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
7A74 : STA $05FE 			;A->MEM  ¼ÆËãNPC x0¶àËê
7A77 : LDA #$01 			;->A
7A79 : JSR $B1B3  			;Ìø×ª×Ó³ÌÐò
7A7C : JSR $8B12  			;Ìø×ª×Ó³ÌÐò
7A7F : LDA $80 			;->A
7A81 : STA $0600 			;A->MEM
7A84 : LDA $81 			;->A
7A86 : STA $0601 			;A->MEM
7A89 : LDA $82 			;->A
7A8B : STA $0602 			;A->MEM
7A8E : LDA $83 			;->A
7A90 : STA $0603 			;A->MEM
7A93 : LDA #$00 			;->A
7A95 : STA $58 			;A->MEM
7A97 : LDA #$00 			;->A
7A99 : STA $80 			;A->MEM
7A9B : LDA #$00 			;->A
7A9D : STA $81 			;A->MEM
7A9F : LDX $58 			;->X
7AA1 : LDA $2FAE,X 			;->A
7AA4 : BPL $7AAB 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7AA6 : AND #$7F 			;A¡Ä$n¡úA
7AA8 : JSR $9863  			;Ìø×ª×Ó³ÌÐò  get item name
7AAB : LDA $58 			;->A
7AAD : ASL 			;ËãÊõ×óÒÆ
7AAE : TAX 			;A->X
7AAF : LDA $80 			;->A
7AB1 : STA $0606,X 			;A->MEM
7AB4 : LDA $81 			;->A
7AB6 : STA $0607,X 			;A->MEM
7AB9 : INC $58 			;MEM++
7ABB : LDA $58 			;->A
7ABD : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7ABF : BCC $7A97 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7AC1 : LDA #$67 			;->A
7AC3 : STA $A6 			;A->MEM
7AC5 : LDA #$7F 			;->A
7AC7 : STA $A7 			;A->MEM  7F67 NPC view words
7AC9 : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
7ACC : LDA #$06 			;->A
7ACE : STA $043F 			;A->MEM
7AD1 : LDA #$03 			;->A
7AD3 : STA $0440 			;A->MEM
7AD6 : LDA #$9C 			;->A
7AD8 : STA $0441 			;A->MEM
7ADB : LDA #$4D 			;->A
7ADD : STA $0442 			;A->MEM
7AE0 : JSR $A36C  			;Ìø×ª×Ó³ÌÐò  dialog box
7AE3 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7AE6 : RTS 			;×Ó³ÌÐò·µ»Ø

;Õ½¶·
7AE7 : LDX #$00 			;->X
7AE9 : LDA $08CA,X 			;->A
7AEC : TAX 			;A->X
7AED : TXS 			;X->¶ÑÕ»
7AEE : LDA $3084 			;->A
7AF1 : ORA #$80 			;A¡Å$n¡úA
7AF3 : STA $3084 			;A->MEM
7AF6 : LDA $3196 			;->A
7AF9 : ORA #$80 			;A¡Å$n¡úA
7AFB : STA $3196 			;A->MEM
7AFE : JSR $641D  			;Ìø×ª×Ó³ÌÐò
7B01 : LDA $3084 			;->A
7B04 : AND #$7F 			;A¡Ä$n¡úA
7B06 : STA $3084 			;A->MEM
7B09 : RTS 			;×Ó³ÌÐò·µ»Ø

;ÇÐ´è
7B0A : LDX #$00 			;->X
7B0C : LDA $08CA,X 			;->A
7B0F : TAX 			;A->X
7B10 : TXS 			;X->¶ÑÕ»
7B11 : LDA $3084 			;->A
7B14 : ORA #$80 			;A¡Å$n¡úA
7B16 : STA $3084 			;A->MEM
7B19 : LDA $3196 			;->A
7B1C : AND #$7F 			;A¡Ä$n¡úA
7B1E : STA $3196 			;A->MEM
7B21 : JSR $641D  			;Ìø×ª×Ó³ÌÐò
7B24 : LDA $3084 			;->A
7B27 : AND #$7F 			;A¡Ä$n¡úA
7B29 : STA $3084 			;A->MEM
7B2C : RTS 			;×Ó³ÌÐò·µ»Ø

;°ÝÊ¦
7B2D : LDX #$00 			;->X
7B2F : LDA $08CA,X 			;->A
7B32 : TAX 			;A->X
7B33 : TXS 			;X->¶ÑÕ»
7B34 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7B37 : LDA #$2B 			;->A
7B39 : STA $A6 			;A->MEM
7B3B : LDA #$80 			;->A
7B3D : STA $A7 			;A->MEM  802B
7B3F : LDA $2EA9 			;->A  classID
7B42 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7B44 : BEQ $7B4D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7B46 : CMP $2F91 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7B49 : BEQ $7B4D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7B4B : BNE $7B75 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7B4D : LDA $50 			;->A
7B4F : INT $9E01    ;°ÝÊ¦ A=teacherID C=1Ê§°Ü C=0³É¹¦
7B52 : BCC $7B5F 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7B54 : LDA $50 			;->A
7B56 : CMP #$7E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7B58 : BCC $7B75 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7B5A : INT $3119      ;°ÝÊ¦ A=teacherID C=1Ê§°Ü C=0³É¹¦
7B5D : BCS $7B75 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7B5F : LDA $50 			;->A
7B61 : STA $2E9C 			;A->MEM  teacherID
7B64 : LDA $2F91 			;->A  NPC menu type
7B67 : STA $2EA9 			;A->MEM  classID
7B6A : LDA #$51 			;->A
7B6C : STA $80 			;A->MEM
7B6E : LDA #$80 			;->A
7B70 : STA $81 			;A->MEM  8051  Äã¹òÁËÏÂÀ´Ïò$o¹§¹§¾´¾´µØ¿ÄÁËËÄ¸öÏìÍ·£¬½ÐµÀ£º¡¸Ê¦¸¸£¡¡¹
7B72 : JSR $9F08  			;Ìø×ª×Ó³ÌÐò
7B75 : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
7B78 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
7B7B : RTS 			;×Ó³ÌÐò·µ»Ø

;½»Ò×
7B7C : LDX #$00 			;00->X
7B7E : LDA $08CA,X 			;->A
7B81 : TAX 			;A->X
7B82 : TXS 			;X->¶ÑÕ»
7B83 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7B86 : JSR $7BF4  			;Ìø×ª×Ó³ÌÐò
7B89 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7B8C : RTS 			;×Ó³ÌÐò·µ»Ø

;Çë½ÌNPC
7B8D : LDX #$00 			;->X
7B8F : LDA $08CA,X 			;->A
7B92 : TAX 			;A->X
7B93 : TXS 			;X->¶ÑÕ»
7B94 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7B97 : LDA $50 			;->A
7B99 : CMP #$07 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  if $50!=07 goto 7BD5
7B9B : BNE $7BD5 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7B9D : LDA #$03 			;->A  ´¦Àí¶ÀÐÐ´óÏÀExp>20W
7B9F : STA $82 			;A->MEM
7BA1 : LDA #$00 			;->A
7BA3 : STA $83 			;A->MEM
7BA5 : LDA #$40 			;->A
7BA7 : STA $80 			;A->MEM
7BA9 : LDA #$0D 			;->A
7BAB : STA $81 			;A->MEM
7BAD : LDA $2EB3 			;->A
7BB0 : CMP $83 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7BB2 : BNE $7BC7 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7BB4 : LDA $2EB2 			;->A
7BB7 : CMP $82 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7BB9 : BNE $7BC7 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7BBB : LDA $2EB1 			;->A
7BBE : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7BC0 : BNE $7BC7 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7BC2 : LDA $2EB0 			;->A
7BC5 : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7BC7 : BCS $7BD5 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7BC9 : LDA #$DC 			;->A
7BCB : STA $A6 			;A->MEM
7BCD : LDA #$7B 			;->A
7BCF : STA $A7 			;A->MEM
7BD1 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò  ÏÔÊ¾¡°È¥È¥È¥¡±
7BD4 : RTS 			;×Ó³ÌÐò·µ»Ø
7BD5 : JSR $7D61  			;Ìø×ª×Ó³ÌÐò  Çë½Ì
7BD8 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7BDB : RTS 			;×Ó³ÌÐò·µ»Ø
7BDC : È¥È¥È¥,ÔÜ¹»¾­ÑéÔÙÀ´°É!
;load ½»Ò× item
7BF4 : LDA $2FE3 			;->A
7BF7 : BNE $7BFC 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7BF9 : BEQ $7C2E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7BFB : RTS 			;×Ó³ÌÐò·µ»Ø
7BFC : TSX 			;¶ÑÕ»->X
7BFD : TXA 			;X->A
7BFE : LDX #$00 			;->X
7C00 : STA $08CA,X 			;A->MEM
7C03 : LDA #$E6 			;->A
7C05 : STA $A6 			;A->MEM
7C07 : LDA #$7F 			;->A
7C09 : STA $A7 			;A->MEM  7FE6
7C0B : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
7C0E : LDA #$E3 			;->A
7C10 : STA $55 			;A->MEM
7C12 : LDA #$2F 			;->A
7C14 : STA $56 			;A->MEM
7C16 : LDA #$53 			;->A
7C18 : STA $A8 			;A->MEM
7C1A : LDA #$7F 			;->A
7C1C : STA $A9 			;A->MEM
7C1E : LDA $55 			;->A
7C20 : STA $80 			;A->MEM
7C22 : LDA $56 			;->A
7C24 : STA $81 			;A->MEM
7C26 : LDX #$06 			;->X
7C28 : LDY #$10 			;->Y
7C2A : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
7C2D : RTS 			;×Ó³ÌÐò·µ»Ø
;Âô
7C2E : TSX 			;¶ÑÕ»->X
7C2F : TXA 			;X->A
7C30 : LDX #$00 			;->X
7C32 : STA $08CA,X 			;A->MEM
7C35 : LDA #$FD 			;->A
7C37 : STA $A6 			;A->MEM
7C39 : LDA #$7F 			;->A
7C3B : STA $A7 			;A->MEM  7FFD ÓÐÊ²Ã´²»ÓÃµÄ¶«Î÷¾ÍÄÃÀ´°É!
7C3D : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
7C40 : LDA #$EB 			;->A
7C42 : STA $80 			;A->MEM
7C44 : LDA #$06 			;->A
7C46 : STA $81 			;A->MEM
7C48 : JSR $9425  			;Ìø×ª×Ó³ÌÐò
7C4B : LDA $80 			;->A
7C4D : STA $55 			;A->MEM
7C4F : LDA $81 			;->A
7C51 : STA $56 			;A->MEM
7C53 : LDA #$5D 			;->A
7C55 : STA $A8 			;A->MEM
7C57 : LDA #$7F 			;->A
7C59 : STA $A9 			;A->MEM  7F5D NPC view
7C5B : LDA $55 			;->A
7C5D : STA $80 			;A->MEM
7C5F : LDA $56 			;->A
7C61 : STA $81 			;A->MEM
7C63 : LDX #$06 			;->X
7C65 : LDY #$10 			;->Y
7C67 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
7C6A : RTS 			;×Ó³ÌÐò·µ»Ø

7C6B : LDY $86 			;->Y
7C6D : INY 			;Y++
7C6E : LDA ($55),Y 			;->A
7C70 : STA $2E8B 			;A->MEM
7C73 : JSR $9889  			;Ìø×ª×Ó³ÌÐò ;load item attrib
7C76 : LDY #$06 			;->Y
7C78 : LDA ($80),Y 			;->A
7C7A : STA $74 			;A->MEM
7C7C : INY 			;Y++
7C7D : LDA ($80),Y 			;->A
7C7F : STA $75 			;A->MEM
7C81 : JMP $7CC4 			;

7C84 : LDA $86 			;->A
7C86 : ASL 			;ËãÊõ×óÒÆ
7C87 : TAY 			;A->Y
7C88 : INY 			;Y++
7C89 : LDA ($55),Y 			;->A
7C8B : STA $2E8B 			;A->MEM
7C8E : AND #$7F 			;A¡Ä$n¡úA
7C90 : JSR $9889  			;Ìø×ª×Ó³ÌÐò;load item attrib
7C93 : LDY #$06 			;->Y
7C95 : LDA ($80),Y 			;->A
7C97 : STA $74 			;A->MEM
7C99 : INY 			;Y++
7C9A : LDA ($80),Y 			;->A
7C9C : STA $75 			;A->MEM
7C9E : LDA $74 			;->A
7CA0 : STA $80 			;A->MEM
7CA2 : LDA $75 			;->A
7CA4 : STA $81 			;A->MEM
7CA6 : LDA #$07 			;->A
7CA8 : STA $82 			;A->MEM
7CAA : LDA #$00 			;->A
7CAC : STA $83 			;A->MEM
7CAE : INT $9E20      ;80-81*82-83 ½á¹û·Å80--83
7CB1 : LDA #$0A 			;->A
7CB3 : STA $84 			;A->MEM
7CB5 : LDA #$00 			;->A
7CB7 : STA $85 			;A->MEM
7CB9 : INT $9E24      ;80--83³ý84-85 ÉÌ->80
7CBC : LDA $80 			;->A
7CBE : STA $74 			;A->MEM
7CC0 : LDA $81 			;->A
7CC2 : STA $75 			;A->MEM
7CC4 : LDA #$BC 			;->A
7CC6 : STA $A6 			;A->MEM
7CC8 : LDA #$7F 			;->A
7CCA : STA $A7 			;A->MEM
7CCC : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
7CCF : LDX #$01 			;->X
7CD1 : LDY #$38 			;->Y
7CD3 : LDA #$06 			;->A
7CD5 : JSR $A451  			;Ìø×ª×Ó³ÌÐò
7CD8 : RTS 			;×Ó³ÌÐò·µ»Ø

7CD9 : LDA $2ED3 			;->A
7CDC : ORA $2ED4 			;A¡Å($n2n1)¡úA
7CDF : BNE $7CEF 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7CE1 : LDA $2ED2 			;->A
7CE4 : CMP $75 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7CE6 : BNE $7CED 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7CE8 : LDA $2ED1 			;->A
7CEB : CMP $74 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7CED : BCC $7D1A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7CEF : JSR $982F  			;Ìø×ª×Ó³ÌÐò;add item
7CF2 : BCC $7D1A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7CF4 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
7CF5 : LDA $2ED1 			;->A
7CF8 : SBC $74 			;A-MEM-C->A
7CFA : STA $2ED1 			;A->MEM
7CFD : LDA $2ED2 			;->A
7D00 : SBC $75 			;A-MEM-C->A
7D02 : STA $2ED2 			;A->MEM
7D05 : BCS $7D12 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7D07 : LDA $2ED3 			;->A
7D0A : BNE $7D0F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7D0C : DEC $2ED4 			;MEM--
7D0F : DEC $2ED3 			;MEM--
7D12 : LDX #$00 			;->X
7D14 : LDA $08CA,X 			;->A
7D17 : TAX 			;A->X
7D18 : TXS 			;X->¶ÑÕ»
7D19 : RTS 			;×Ó³ÌÐò·µ»Ø
7D1A : RTS 			;×Ó³ÌÐò·µ»Ø

7D1B : LDA $2E8B 			;->A
7D1E : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7D20 : BEQ $7D60 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7D22 : LDA $2E8B 			;->A
7D25 : BMI $7D60 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7D27 : JSR $98BB  			;Ìø×ª×Ó³ÌÐò item exist&get item package id->X
7D2A : BCC $7D60 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7D2C : DEC $2F5E,X 			;MEM--
7D2F : CLC 			;Çå½øÎ»±êÖ¾
7D30 : LDA $2ED1 			;->A

7D33 : ADC $74 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA

7D35 : STA $2ED1 			;A->MEM

7D38 : LDA $2ED2 			;->A

7D3B : ADC $75 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA

7D3D : STA $2ED2 			;A->MEM

7D40 : BCC $7D4A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

7D42 : INC $2ED3 			;MEM++

7D45 : BNE $7D4A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

7D47 : INC $2ED4 			;MEM++

7D4A : LDA $86 			;->A

7D4C : ASL 			;ËãÊõ×óÒÆ

7D4D : TAY 			;A->Y

7D4E : INY 			;Y++

7D4F : INY 			;Y++

7D50 : LDA ($55),Y 			;->A

7D52 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1

7D53 : SBC #$01 			;A-MEM-C->A

7D55 : STA ($55),Y 			;A->MEM

7D57 : BNE $7D60 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

7D59 : LDX #$00 			;->X

7D5B : LDA $08CA,X 			;->A

7D5E : TAX 			;A->X

7D5F : TXS 			;X->¶ÑÕ»

7D60 : RTS 			;×Ó³ÌÐò·µ»Ø

;Çë½Ì
7D61 : LDA #$18 			;->A
7D63 : STA $A6 			;A->MEM
7D65 : LDA #$80 			;->A
7D67 : STA $A7 			;A->MEM
7D69 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
7D6C : LDA #$BA 			;->A
7D6E : STA $55 			;A->MEM
7D70 : LDA #$2F 			;->A
7D72 : STA $56 			;A->MEM
7D74 : LDA $55 			;->A
7D76 : STA $80 			;A->MEM
7D78 : LDA $56 			;->A
7D7A : STA $81 			;A->MEM
7D7C : LDA #$4B 			;->A
7D7E : STA $A8 			;A->MEM
7D80 : LDA #$7F 			;->A
7D82 : STA $A9 			;A->MEM
7D84 : LDX #$06 			;->X
7D86 : LDY #$10 			;->Y
7D88 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
7D8B : RTS 			;×Ó³ÌÐò·µ»Ø

7D8C : LDA $86 			;->A
7D8E : ASL 			;ËãÊõ×óÒÆ
7D8F : TAY 			;A->Y
7D90 : INY 			;Y++
7D91 : LDA ($55),Y 			;->A
7D93 : STA $2E8B 			;A->MEM
7D96 : INY 			;Y++
7D97 : LDA ($55),Y 			;->A
7D99 : STA $2000 			;A->MEM
7D9C : LDA $2E8B 			;->A
7D9F : JSR $8AA2  			;Ìø×ª×Ó³ÌÐò
7DA2 : BCC $7DCE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7DA4 : LDX #$CF 			;->X
7DA6 : LDY #$7D 			;->Y
7DA8 : LDA $3084 			;->A
7DAB : ORA #$80 			;A¡Å$n¡úA
7DAD : STA $3084 			;A->MEM
7DB0 : JSR $B0CC  			;Ìø×ª×Ó³ÌÐò
7DB3 : LDA $3084 			;->A
7DB6 : AND #$7F 			;A¡Ä$n¡úA
7DB8 : STA $3084 			;A->MEM
7DBB : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
7DBE : LDA $2E8B 			;->A
7DC1 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
7DC4 : BCC $7DCE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7DC6 : LDA $2EDC,Y 			;->A    Skill level
7DC9 : BNE $7DCE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7DCB : DEC $2EDA 			;MEM--
7DCE : RTS 			;×Ó³ÌÐò·µ»Ø

7DCF : JSR $D901  			;Ìø×ª×Ó³ÌÐò

7DD2 : 7DF9 7DFA 0013 7E

7DD9 : LDA $2E8B 			;->A
7DDC : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
7DDF : LDA $2EDC,Y 			;->A    Skill level
7DE2 : TAX 			;A->X
7DE3 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
7DE6 : LDA $80 			;->A
7DE8 : STA $82 			;A->MEM
7DEA : LDA $81 			;->A
7DEC : STA $83 			;A->MEM
7DEE : LDA $2EDD,Y 			;->A
7DF1 : STA $80 			;A->MEM
7DF3 : LDA $2EDE,Y 			;->A
7DF6 : STA $81 			;A->MEM
7DF8 : RTS 			;×Ó³ÌÐò·µ»Ø

7DF9 : LDA $2E8B 			;->A
7DFC : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
7DFF : LDA $2EDC,Y 			;->A    Skill level
7E02 : STA $82 			;A->MEM
7E04 : LDA #$00 			;->A
7E06 : STA $83 			;A->MEM
7E08 : LDA $2EDD,Y 			;->A    Skill point
7E0B : STA $80 			;A->MEM
7E0D : LDA $2EDE,Y 			;->A
7E10 : STA $81 			;A->MEM
7E12 : RTS 			;×Ó³ÌÐò·µ»Ø

;Çë½Ì
7E13 : INT $9E03        ;Çë½Ì
7E16 : RTS 			;×Ó³ÌÐò·µ»Ø

;npc menu
7E17 : STA $75 			;A->MEM
7E19 : LDA #$00 			;->A
7E1B : STA $76 			;A->MEM
7E1D : LDA #$A0 			;->A
7E1F : STA $80 			;A->MEM
7E21 : LDA $75 			;->A
7E23 : CMP #$7E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
7E25 : BCC $7E35 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7E27 : LDA $00 			;->A
7E29 : CLC 			;Çå½øÎ»±êÖ¾
7E2A : ADC #$01 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7E2C : STA $80 			;A->MEM
7E2E : LDA $75 			;->A
7E30 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
7E31 : SBC #$7E 			;A-MEM-C->A
7E33 : STA $75 			;A->MEM
7E35 : JSR $A4E6  			;Ìø×ª×Ó³ÌÐò
7E38 : LDA $A6 			;->A
7E3A : STA $80 			;A->MEM
7E3C : LDA $A7 			;->A
7E3E : STA $81 			;A->MEM
7E40 : RTS 			;×Ó³ÌÐò·µ»Ø

;get class name addr
7E41 : LDX #$9A 			;->X
7E43 : STX $80 			;X->MEM
7E45 : LDX #$80 			;->X
7E47 : STX $81 			;X->MEM  809A ÆÕÍ¨°ÙÐÕ
7E49 : JSR $B0A1  			;Ìø×ª×Ó³ÌÐò
7E4C : RTS 			;×Ó³ÌÐò·µ»Ø

7E4D : LDA #$00 			;->A
7E4F : STA $2E84 			;A->MEM
7E52 : LDA #$00 			;->A
7E54 : STA $2E85 			;A->MEM
7E57 : LDA $2E8A 			;->A
7E5A : ORA #$80 			;A¡Å$n¡úA
7E5C : JSR $8A5E  			;Ìø×ª×Ó³ÌÐò get ? type
7E5F : JSR $7E8A  			;Ìø×ª×Ó³ÌÐò find NPC Skill location
7E62 : BCC $7E89 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7E64 : LDA $2FBC,Y 			;->A
7E67 : LSR 			;AÂß¼­ÓÒÒÆ
7E68 : STA $2E84 			;A->MEM
7E6B : LDY $2E8A 			;->Y
7E6E : LDA $2FB5,Y 			;->A  NPC selected skill
7E71 : BPL $7E89 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7E73 : AND #$7F 			;A¡Ä$n¡úA
7E75 : JSR $7E8A  			;Ìø×ª×Ó³ÌÐò find NPC Skill location
7E78 : BCC $7E89 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7E7A : LDA $2FBC,Y 			;->A  NPC skill level
7E7D : CLC 			;Çå½øÎ»±êÖ¾
7E7E : ADC $2E84 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
7E81 : STA $2E84 			;A->MEM
7E84 : BCC $7E89 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7E86 : INC $2E85 			;MEM++
7E89 : RTS 			;×Ó³ÌÐò·µ»Ø
;find NPC Skill location
7E8A : LDX #$00 			;->X
7E8C : LDY #$00 			;->Y
7E8E : CPX $2FBA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)    NPC Skill number
7E91 : BEQ $7EA0 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7E93 : CMP $2FBB,Y 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)     NPC Skill list
7E96 : BEQ $7EA2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
7E98 : INY 			;Y++
7E99 : INY 			;Y++
7E9A : INX 			;X++
7E9B : CPX $2FBA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)    NPC Skill number
7E9E : BCC $7E93 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
7EA0 : CLC 			;Çå½øÎ»±êÖ¾
7EA1 : RTS 			;×Ó³ÌÐò·µ»Ø
7EA2 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
7EA3 : RTS 			;×Ó³ÌÐò·µ»Ø

7EA4 : 00
7ea5 : 04 81 02 4079 607A E77A 0A7B
7EB0 : ½»Ì¸ÿ²é¿´ÿÕ½¶·ÿÇÐ´ê
7EC4 : 00
7Ec5 : 05 81 02 4079 607A E77A 0A7B 7C7B
7ED2 : ½»Ì¸ÿ²é¿´ÿÕ½¶·ÿÇÐ´êÿ½»Ò×
7EEc : 05 81 02 4079 607A E77A 0A7B 2d7B
7EF9 : ½»Ì¸ÿ²é¿´ÿÕ½¶·ÿÇÐ´êÿ°ÝÊ¦
7F13 : 05 81 02 4079 607A E77A 0A7B 8D7B
7F20 : ½»Ì¸ÿ²é¿´ÿÕ½¶·ÿÇÐ´êÿÇë½Ì
7F3A : 02 81 02 3A78 4E78
7F41 : Çë½Ìÿ´«ÊÚÿ

7F4B : BE80B1038C7D868ED880B103D97C6B7C8199FB80B1031B7D847C8199

7F65 : 07872F0A00¿´ÆðÀ´Ô¼ 01 fe05 ¶àËê
7f7e : ÎäÒÕ¿´ÆðÀ´ 09 b67f
7f8d : ³öÊÖËÆºõ 09 b97f
7f9a : ´øÖø: 08 0606
7fa5 : 08 0806
7fab : 08 0a06
7FAE : 00 00
7fb0 : 07 AA 30 00 00 00 08 00 06 04 02 06  ;NPCÃèÊö
7FBc : ½ðÇ®: 04 d12e
7fc7 : ¼Û¸ñ: 05 7400
7fd0 : 00 00
7FD2 : ÎÒÖªµÀÁË,¶àÐ»À´·Ã!
7FE6 : ÒªÂòÊ²Ã´Äã×Ô¼º¿´¿´°É!
7FFC : ÓÐÊ²Ã´²»ÓÃµÄ¶«Î÷¾ÍÄÃÀ´°É!
8018 : ÄãÏëÑ§Ê²Ã´¾ÍËµ°É!
802b : ÄãÒÑÁíÓÐÃûÊ¦,»¹ÏëÀ´ÎÒÕâ¶ùÍµÊ¦Ñ§ÒÕÂð?
8051 : Äã¹òÁËÏÂÀ´Ïò$o¹§¹§¾´¾´µØ¿ÄÁËËÄ¸öÏìÍ·£¬½ÐµÀ£º¡¸Ê¦¸¸£¡¡¹
8088 : ¹§Ï²Äú³ÉÎª$oµÜ×Ó
809a : ÆÕÍ¨°ÙÐÕ     
80A3 : °ËØÔÃÅ
80AA : »¨¼äÅÉ
80B1 : ºìÁ«½Ì
80B8 : ÒüºØ¹È
80BF : Ì«¼«ÃÅ
80C5 : Ñ©É½½£ÅÉ
80CF : ÊÞÍõÅÉ
80D6 : Ã©É½ÅÉ
;readkey
80DD : LDX #$02 			;02->X
80DF : JSR $E075  			;Ìø×ª×Ó³ÌÐò  ÑÓÊ±X
80E2 : INT $C00A      ;°´¼ü
80E5 : JSR $810D  			;Ìø×ª×Ó³ÌÐò ×èÖ¹×Ô¶¯¹Ø»ú
80E8 : LDX $072A 			;->X
80EB : JSR $04CF  			;Ìø×ª×Ó³ÌÐò
80EE : LDA $C7 			;->A
80F0 : BMI $80F8 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
80F2 : JSR $AFE0  			;Ìø×ª×Ó³ÌÐò
80F5 : JMP $80E5 			;
80F8 : LDX #$07 			;->X
80FA : JSR $E075  			;Ìø×ª×Ó³ÌÐò  ÑÓÊ±X
80FD : LDA $C7 			;->A
80FF : AND #$7F 			;A¡Ä$n¡úA
8101 : STA $C7 			;A->MEM
8103 : RTS 			;×Ó³ÌÐò·µ»Ø

8104 : LDA $40 			;->A
8106 : EOR #$80 			;AÒì»ò($n)¡úA
8108 : STA $40 			;A->MEM
810A : JMP $80DD 			;readkey
;×èÖ¹×Ô¶¯¹Ø»ú
810D : LDA #$00 			;->A
810F : STA $046E 			;A->MEM
8112 : RTS 			;×Ó³ÌÐò·µ»Ø
;Set recover program Page -> 0482
8113 : LDX #$0E 			;->X
8115 : LDA $8128,X 			;->A
8118 : STA $0481,X 			;A->MEM 8129->0481
811B : DEX 			;X--
811C : BNE $8115 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
;#$A55A -> 0480
811E : LDA #$5A 			;->A
8120 : STA $0480 			;A->MEM
8123 : LDA #$A5 			;->A
8125 : STA $0481 			;A->MEM A55A
8128 : RTS 			;×Ó³ÌÐò·µ»Ø

;recover program Page
8129 : LDA $45 			;->A
812B : STA $00 			;A->MEM
812D : LDA $0A 			;->A
812F : AND #$7F 			;A¡Ä$n¡úA
8131 : STA $0A 			;A->MEM
8133 : JSR $8137  			;Ìø×ª×Ó³ÌÐò
8136 : RTS 			;×Ó³ÌÐò·µ»Ø

8137 : JSR $81E2  			;Ìø×ª×Ó³ÌÐò
813A : BIT $C7  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)
813C : BPL $8144 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
813E : LDA #$04 			;->A
8140 : STA $46 			;A->MEM
8142 : BNE $8197 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8144 : LDA $BA 			;->A
8146 : AND #$0F 			;A¡Ä$n¡úA
8148 : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
814A : BCS $8197 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
814C : TAX 			;A->X
814D : LDA #$00 			;->A
814F : STA $09 			;A->MEM
8151 : LDA #$FF 			;->A
8153 : STA $15 			;A->MEM
8155 : LDA #$00 			;->A
8157 : LDA $81DA,X 			;->A
815A : STA $09 			;A->MEM
815C : LDA $08 			;->A
815E : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
815F : LDA #$00 			;->A
8161 : STA $15 			;A->MEM
8163 : PLA 			;A³öÕ»
8164 : TAY 			;A->Y
8165 : BEQ $8197 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8167 : DEC $46 			;MEM--
8169 : BNE $8197 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
816B : LDA #$04 			;->A
816D : STA $46 			;A->MEM
816F : TYA 			;Y->A
8170 : LDX #$08 			;->X
8172 : DEX 			;X--
8173 : ASL 			;ËãÊõ×óÒÆ
8174 : BCC $8172 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8176 : LDA $BA 			;->A
8178 : ROL 			;AÑ­»·×óÒÆ
8179 : ROL 			;AÑ­»·×óÒÆ
817A : ROL 			;AÑ­»·×óÒÆ
817B : AND #$38 			;A¡Ä$n¡úA
817D : STX $C7 			;X->MEM
817F : ORA $C7 			;A¡Å$C7¡úA
8181 : TAX 			;A->X
8182 : LDA $8198,X 			;->A
8185 : BMI $8197 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8187 : LDX #$02 			;->X
8189 : CMP $81D7,X 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
818C : BEQ $8193 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
818E : DEX 			;X--
818F : BNE $8189 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8191 : BEQ $8197 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8193 : ORA #$80 			;A¡Å$n¡úA
8195 : STA $C7 			;A->MEM
8197 : RTS 			;×Ó³ÌÐò·µ»Ø

8198 : FF  ;???

8199 : FF  ;???

819A : FF  ;???

819B : ASL $69,X 			;ËãÊõ×óÒÆ

819D : 6B  ;???

819E : 13  ;???

819F : 17  ;???

81A0 : FF  ;???

81A1 :  C  ;???

81A2 : FF  ;???

81A3 : ASL $6A75 			;ËãÊõ×óÒÆ

81A6 : ADC $FF20 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA

81A9 :  2  ;???

81AA :  F  ;???

81AB : ORA $6879 			;A¡Å($n2n1)¡úA

81AE : ROR $252E 			;Ñ­»·ÓÒÒÆ

81B1 :  4  ;???

81B2 : ORA ($70),Y 			;A¡Å(ADDRES)¡úA

81B4 : 74  ;???

81B5 : 67  ;???

81B6 : 62  ;???

81B7 : BMI $81DD 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

81B9 : ASL $1F 			;ËãÊõ×óÒÆ

81BB : ORA $72,X 			;A¡Å($n+X)¡úA

81BD : ROR $76 			;Ñ­»·ÓÒÒÆ

81BF : 1B  ;???

81C0 : AND ($08,X)  			;A¡Ä(ADDRES)¡úA

81C2 : ASL $6514,X 			;ËãÊõ×óÒÆ

81C5 : 64  ;???

81C6 : 63  ;???

81C7 : 12  ;???

81C8 : 23  ;???

81C9 : ASL 			;ËãÊõ×óÒÆ

81CA : ORA $776C,X 			;A¡Å($n2n1+X)¡úA

81CD : 73  ;???

81CE : SEI 			;SetÖÐ¶Ï½ûÖ¹

81CF : 1A  ;???

81D0 : 22  ;???

81D1 : INT $6F1C

81D4 : ADC ($61),Y 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA

81D6 : 7A  ;???

81D7 : ORA $1716,Y 			;A¡Å($n2n1+Y)¡úA

81DA : 80  ;???

81DB : RTI 			;ÖÐ¶Ï·µ»Ø

81DC : JSR $0810  			;Ìø×ª×Ó³ÌÐò

81DF :  4  ;???

81E0 :  2  ;???

81E1 : ORA ($CE,X) 			;A¡Å($CE)¡úA

;cost food water&hpfp++
81E2 : DEC $307F 			;MEM--
81E5 : BEQ $81E8 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
81E7 : RTS 			;×Ó³ÌÐò·µ»Ø
81E8 : LDA #$FA 			;->A
81EA : STA $307F 			;A->MEM
81ED : INC $2E91 			;MEM++  PlayedTime
81F0 : BNE $81FF 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
81F2 : INC $2E92 			;MEM++  PlayedTime
81F5 : BNE $81FF 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
81F7 : INC $2E93 			;MEM++  PlayedTime
81FA : BNE $81FF 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
81FC : INC $2E94 			;MEM++  PlayedTime
81FF : LDA #$00 			;->A
8201 : STA $0477 			;A->MEM
8204 : BIT $3084 			;A¡Ä($n2n1)
8207 : BPL $8211 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8209 : LDA #$00 			;->A
820B : STA $0477 			;A->MEM
820E : JMP $830C 			;
8211 : LDA $80 			;->A
8213 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
8214 : LDA $81 			;->A
8216 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
8217 : DEC $3081 			;MEM--
821A : BEQ $821F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
821C : JMP $8306 			;
821F : LDA #$0F 			;->A
8221 : STA $3081 			;A->MEM
8224 : LDA $2EC7 			;->A  food
8227 : ORA $2EC8 			;A¡Å($n2n1)¡úA
822A : BNE $822F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
822C : JMP $8306 			;
822F : LDA $2EC7 			;->A  food
8232 : BNE $8237 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8234 : DEC $2EC8 			;MEM--   food
8237 : DEC $2EC7 			;MEM--  food
823A : LDA $2ECB 			;->A  water
823D : ORA $2ECC 			;A¡Å($n2n1)¡úA  water
8240 : BNE $8245 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8242 : JMP $8306 			;
8245 : LDA $2ECB 			;->A    water
8248 : BNE $824D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
824A : DEC $2ECC 			;MEM--  water
824D : DEC $2ECB 			;MEM--  water
8250 : LDA $2EC2 			;->A  fplevel
8253 : STA $80 			;A->MEM
8255 : LDA $2EC3 			;->A  fplevel
8258 : STA $81 			;A->MEM
825A : LSR $81 			;Âß¼­ÓÒÒÆ
825C : ROR $80 			;Ñ­»·ÓÒÒÆ
825E : LSR $81 			;Âß¼­ÓÒÒÆ
8260 : ROR $80 			;Ñ­»·ÓÒÒÆ
8262 : LSR $81 			;Âß¼­ÓÒÒÆ
8264 : ROR $80 			;Ñ­»·ÓÒÒÆ
8266 : LSR $81 			;Âß¼­ÓÒÒÆ
8268 : ROR $80 			;Ñ­»·ÓÒÒÆ
826A : LDA $2EB9 			;->A  ¸ù¹Ç
826D : LSR 			;AÂß¼­ÓÒÒÆ
826E : CLC 			;Çå½øÎ»±êÖ¾
826F : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8271 : STA $80 			;A->MEM
8273 : BCC $8277 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8275 : INC $81 			;MEM++
8277 : CLC 			;Çå½øÎ»±êÖ¾
8278 : LDA $2EBC 			;->A  hp
827B : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
827D : STA $2EBC 			;A->MEM  hp
8280 : LDA $2EBD 			;->A  hp
8283 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8285 : STA $2EBD 			;A->MEM  hp
8288 : LDA $2EBD 			;->A  hp
828B : CMP $2EC5 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  hpfull
828E : BNE $8296 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8290 : LDA $2EBC 			;->A  hp
8293 : CMP $2EC4 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  hpfull
8296 : BCC $82BC 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8298 : LDA $2EC4 			;->A    hpfull
829B : STA $2EBC 			;A->MEM  hp
829E : LDA $2EC5 			;->A    hpfull
82A1 : STA $2EBD 			;A->MEM  hp
82A4 : LDA $2EC5 			;->A
82A7 : CMP $2EBF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  hpmax
82AA : BNE $82B2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
82AC : LDA $2EC4 			;->A  hpfull 
82AF : CMP $2EBE 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  hpmax
82B2 : BCS $82BC 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
82B4 : INC $2EC4 			;MEM++
82B7 : BNE $82BC 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
82B9 : INC $2EC5 			;MEM++
82BC : LDA $2EC2 			;->A
82BF : ORA $2EC3 			;A¡Å($n2n1)¡úA
82C2 : BEQ $8306 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
82C4 : LDA $2EC1 			;->A  fp
82C7 : CMP $2EC3 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  fplevel
82CA : BNE $82D2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
82CC : LDA $2EC0 			;->A  fp
82CF : CMP $2EC2 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)   fplevel
82D2 : BCS $8306 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
82D4 : LDA #$00 			;->A »ù±¾ÄÚ¹¦
82D6 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
82D9 : BCC $8306 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
82DB : LDA $2EDC,Y 			;->A    Skill level
82DE : CLC 			;Çå½øÎ»±êÖ¾
82DF : ADC $2EC0 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA  fp
82E2 : STA $2EC0 			;A->MEM  fp
82E5 : BCC $82EA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
82E7 : INC $2EC1 			;MEM++  fp
82EA : LDA $2EC1 			;->A  fp
82ED : CMP $2EC3 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)    fplevel
82F0 : BNE $82F8 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
82F2 : LDA $2EC0 			;->A  fp
82F5 : CMP $2EC2 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)    fplevel
82F8 : BCC $8306 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
82FA : LDA $2EC2 			;->A  fplevel
82FD : STA $2EC0 			;A->MEM fp
8300 : LDA $2EC3 			;->A fplevel
8303 : STA $2EC1 			;A->MEM  fp
8306 : PLA 			;A³öÕ»
8307 : STA $81 			;A->MEM
8309 : PLA 			;A³öÕ»
830A : STA $80 			;A->MEM
830C : DEC $3080 			;MEM--
830F : BEQ $8312 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8311 : RTS 			;×Ó³ÌÐò·µ»Ø
8312 : LDA #$3C 			;->A
8314 : STA $3080 			;A->MEM
8317 : DEC $3082 			;MEM--
831A : BNE $832B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
831C : LDA #$0A 			;->A
831E : STA $3082 			;A->MEM
8321 : LDX #$20 			;->X
8323 : LDA #$FF 			;->A
8325 : STA $107F,X 			;A->MEM
8328 : DEX 			;X--
8329 : BNE $8323 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
832B : RTS 			;×Ó³ÌÐò·µ»Ø

832C : LDX #$28 			;->X
832E : BNE $8334 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8330 : LDX #$FA 			;->X
8332 : BNE $8334 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8334 : STX $04B9 			;X->MEM   delay
8337 : JSR $E01E  			;Ìø×ª×Ó³ÌÐò ÑÓÊ±
833A : JSR $810D  			;Ìø×ª×Ó³ÌÐò ×èÖ¹×Ô¶¯¹Ø»ú
833D : LDX $04B9 			;->X
8340 : BNE $833A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8342 : JMP $E021 			;?ÑÓÊ±

;set load byte page $05B4 base $C8 offset Y -> 05B5 program -> 10A0
8345 : LDX #$14 			;->X
8347 : LDA $835C,X 			;->A
834A : STA $109F,X 			;A->MEM  835D load byte page $05B4 base $8 offset Y -> 05B5
834D : DEX 			;X--
834E : BNE $8347 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8350 : RTS 			;×Ó³ÌÐò·µ»Ø
;set load short page $05B4 base $C8 offset Y -> (A4) program -> 10A0
8351 : LDX #$2C 			;->X
8353 : LDA $8370,X 			;->A
8356 : STA $109F,X 			;A->MEM  8371  load short page $05B4 base $C8 offset Y -> (A4)
8359 : DEX 			;X--
835A : BNE $8353 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø 
835C : RTS 			;×Ó³ÌÐò·µ»Ø

;load byte page $05B4 base $C8 offset Y -> 05B5
835D : LDA $00 			;->A
835F : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
8360 : LDA $05B4 			;->A
8363 : STA $00 			;A->MEM
8365 : LDA ($C8),Y 			;->A
8367 : STA $05B5 			;A->MEM
836A : PLA 			;A³öÕ»
836B : STA $00 			;A->MEM
836D : LDA $05B5 			;->A
8370 : RTS 			;×Ó³ÌÐò·µ»Ø
;load short page $05B4 base $C8 offset Y -> (A4)
8371 : LDA $00 			;->A
8373 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
8374 : LDA $05B4 			;->A
8377 : STA $00 			;A->MEM
8379 : LDY #$00 			;->Y
837B : LDA ($C8),Y 			;->A
837D : STA ($A4),Y 			;A->MEM
837F : INY 			;Y++
8380 : BNE $8386 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8382 : INC $C9 			;MEM++
8384 : INC $A5 			;MEM++
8386 : LDA $120F 			;->A
8389 : BNE $838E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
838B : DEC $1210 			;MEM--
838E : DEC $120F 			;MEM--
8391 : LDA $120F 			;->A
8394 : ORA $1210 			;A¡Å($n2n1)¡úA
8397 : BNE $837B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8399 : PLA 			;A³öÕ»
839A : STA $00 			;A->MEM
839C : RTS 			;×Ó³ÌÐò·µ»Ø

;read book
839D : LDA #$6D 			;->A
839F : STA $A6 			;A->MEM
83A1 : LDA #$8C 			;->A
83A3 : STA $A7 			;A->MEM  8C6D Äã»¹ÊÇ¸öÎÄÃ¤
83A5 : LDA #$09 			;->A  ;¶ÁÊéÐ´×Ö
83A7 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
83AA : BCS $83AF 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
83AC : JMP $844C 			;
83AF : LDA #$7A 			;->A
83B1 : STA $A6 			;A->MEM
83B3 : LDA #$8C 			;->A
83B5 : STA $A7 			;A->MEM  8C7A ÄãµÄÊµÕ½¾­Ñé²»×ã
83B7 : LDX #$03 			;->X
83B9 : LDY #$07 			;->Y
83BB : LDA ($80),Y 			;->A
83BD : CMP $2EB0,X 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
83C0 : BNE $83C6 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
83C2 : DEY 			;Y--
83C3 : DEX 			;X--
83C4 : BPL $83BB 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
83C6 : BCC $83CB 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
83C8 : JMP $844C 			;
83CB : LDA #$8B 			;->A
83CD : STA $A6 			;A->MEM
83CF : LDA #$8C 			;->A
83D1 : STA $A7 			;A->MEM  8C8B ÊéÉÏËùËµµÄ¶ÔÄãÌ«Ç³ÁË
83D3 : LDY #$00 			;->Y
83D5 : LDA ($80),Y 			;->A
83D7 : STA $2E8B 			;A->MEM
83DA : JSR $8AA2  			;Ìø×ª×Ó³ÌÐò
83DD : BCS $83E0 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
83DF : RTS 			;×Ó³ÌÐò·µ»Ø
83E0 : LDA $2EDC,Y 			;->A    Skill level
83E3 : STA $76 			;A->MEM
83E5 : LDY #$02 			;->Y
83E7 : LDA ($80),Y 			;->A
83E9 : CMP $76 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
83EB : BCC $844C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
83ED : LDA #$A0 			;->A
83EF : STA $A6 			;A->MEM
83F1 : LDA #$8C 			;->A
83F3 : STA $A7 			;A->MEM  8CA0 ÄãÏÖÔÚÌ«Æ£¾ëÁË,Ã»·¨ÑÐ¶Á
83F5 : LDY #$01 			;->Y
83F7 : LDA ($80),Y 			;->A
83F9 : STA $80 			;A->MEM
83FB : LDA #$00 			;->A
83FD : STA $81 			;A->MEM
83FF : LDA $2EBD 			;->A
8402 : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8404 : BNE $840B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8406 : LDA $2EBC 			;->A
8409 : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
840B : BCC $844C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
840D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
840E : LDA $2EBC 			;->A
8411 : SBC $80 			;A-MEM-C->A
8413 : STA $2EBC 			;A->MEM
8416 : LDA $2EBD 			;->A
8419 : SBC $81 			;A-MEM-C->A
841B : STA $2EBD 			;A->MEM
841E : LDA #$B8 			;->A
8420 : STA $A6 			;A->MEM
8422 : LDA #$8C 			;->A
8424 : STA $A7 			;A->MEM  8CB8 ÄãÂñÍ·ÑÐ¶Á,ËÆºõÓÐµãÐÄµÃ
8426 : LDA #$09 			;->A  ;¶ÁÊéÐ´×Ö
8428 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
842B : LDA $2EDC,Y 			;->A    Skill level
842E : LDX #$05 			;->X
8430 : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
8433 : CLC 			;Çå½øÎ»±êÖ¾
8434 : ADC #$01 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8436 : STA $80 			;A->MEM
8438 : LDA #$00 			;->A
843A : STA $81 			;A->MEM
843C : JSR $85C2  			;Ìø×ª×Ó³ÌÐò  skill point++
843F : BCC $844C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8441 : LDA #$D0 			;->A
8443 : STA $A6 			;A->MEM
8445 : LDA #$8C 			;->A
8447 : STA $A7 			;A->MEM  8CD0  ÄãµÄ$k½ø²½ÁË
8449 : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
844C : LDX #$43 			;->X
844E : LDY $44 			;->Y
8450 : INT $9E31      ;show pt number
8453 : LDX #$00 			;->X
8455 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8456 : LDA #$50 			;->A
8458 : SBC $44 			;A-MEM-C->A
845A : TAY 			;A->Y
845B : JSR $A495  			;Ìø×ª×Ó³ÌÐò
845E : JSR $80DD  			;Ìø×ª×Ó³ÌÐò
8461 : RTS 			;×Ó³ÌÐò·µ»Ø

;Á·¹¦
8462 : LDA #$EB 			;->A
8464 : STA $80 			;A->MEM
8466 : LDA #$06 			;->A
8468 : STA $81 			;A->MEM  06EB
846A : JSR $84FD  			;Ìø×ª×Ó³ÌÐò
846D : LDA $80 			;->A
846F : STA $55 			;A->MEM
8471 : LDA $81 			;->A
8473 : STA $56 			;A->MEM
8475 : LDA #$5D 			;->A
8477 : STA $A8 			;A->MEM
8479 : LDA #$8C 			;->A  8C5D  B688 868E 9A80 B103 9084 868E 9A80 B101 A986 D290
847B : STA $A9 			;A->MEM
847D : LDA $55 			;->A
847F : STA $80 			;A->MEM
8481 : LDA $56 			;->A
8483 : STA $81 			;A->MEM
8485 : LDX #$50 			;->X
8487 : LDY #$0C 			;->Y
8489 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
848C : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
848F : RTS 			;×Ó³ÌÐò·µ»Ø

8490 : LDY $86 			;->Y
8492 : INY 			;Y++
8493 : LDA ($55),Y 			;->A
8495 : AND #$7F 			;A¡Ä$n¡úA
8497 : STA $2E8B 			;A->MEM
849A : LDX #$B5 			;->X
849C : LDY #$84 			;->Y
849E : LDA $3084 			;->A
84A1 : ORA #$80 			;A¡Å$n¡úA
84A3 : STA $3084 			;A->MEM
84A6 : JSR $B0CC  			;Ìø×ª×Ó³ÌÐò
84A9 : LDA $3084 			;->A
84AC : AND #$7F 			;A¡Ä$n¡úA
84AE : STA $3084 			;A->MEM
84B1 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
84B4 : RTS 			;×Ó³ÌÐò·µ»Ø

84B5 : JSR $BF01  			;Ìø×ª×Ó³ÌÐò
84B8 : STY $DF 			;Y->MEM
84BA : STY $2C 			;Y->MEM
84BC : ORA ($F9,X) 			;A¡Å($F9)¡úA

84BE : STY $AD 			;Y->MEM

84C0 : 8B  ;???

84C1 : ROL $F620 			;Ñ­»·×óÒÆ

84C4 : TXA 			;X->A
84C5 : LDA $2EDC,Y 			;->A    Skill level
84C8 : TAX 			;A->X
84C9 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
84CC : LDA $80 			;->A
84CE : STA $82 			;A->MEM
84D0 : LDA $81 			;->A
84D2 : STA $83 			;A->MEM
84D4 : LDA $2EDD,Y 			;->A
84D7 : STA $80 			;A->MEM
84D9 : LDA $2EDE,Y 			;->A
84DC : STA $81 			;A->MEM
84DE : RTS 			;×Ó³ÌÐò·µ»Ø

84DF : LDA $2E8B 			;->A
84E2 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
84E5 : LDA $2EDC,Y 			;->A    Skill level
84E8 : STA $82 			;A->MEM
84EA : LDA #$00 			;->A
84EC : STA $83 			;A->MEM
84EE : LDA $2EDD,Y 			;->A
84F1 : STA $80 			;A->MEM
84F3 : LDA $2EDE,Y 			;->A
84F6 : STA $81 			;A->MEM
84F8 : RTS 			;×Ó³ÌÐò·µ»Ø

84F9 : INT $9E02      ;Á·¹¦
84FC : RTS 			;×Ó³ÌÐò·µ»Ø

84FD : LDY #$00 			;->Y
84FF : LDX #$00 			;->X
8501 : LDA $2ED5,X 			;->A    Selected Skill
8504 : BPL $8509 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8506 : INY 			;Y++
8507 : STA ($80),Y 			;A->MEM
8509 : INX 			;X++
850A : CPX $03 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
850C : BCC $8501 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
850E : TYA 			;Y->A
850F : LDY #$00 			;->Y
8511 : STA ($80),Y 			;A->MEM
8513 : RTS 			;×Ó³ÌÐò·µ»Ø
;´ò×ø
8514 : LDX #$2F 			;->X
8516 : LDY #$85 			;->Y
8518 : LDA $3084 			;->A
851B : ORA #$80 			;A¡Å$n¡úA
851D : STA $3084 			;A->MEM
8520 : JSR $B0CC  			;Ìø×ª×Ó³ÌÐò
8523 : LDA $3084 			;->A
8526 : AND #$7F 			;A¡Ä$n¡úA
8528 : STA $3084 			;A->MEM
852B : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
852E : RTS 			;×Ó³ÌÐò·µ»Ø

852F : JSR $3901  			;Ìø×ª×Ó³ÌÐò
8532 : STA $52 			;A->MEM
8534 : STA $2C 			;A->MEM
8536 : ORA ($67,X) 			;A¡Å($67)¡úA
8538 : STA $AD 			;A->MEM
853A : CPY #$2E 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
853C : STA $80 			;A->MEM
853E : LDA $2EC1 			;->A
8541 : STA $81 			;A->MEM
8543 : LDA $2EC2 			;->A
8546 : STA $82 			;A->MEM
8548 : LDA $2EC3 			;->A
854B : STA $83 			;A->MEM
854D : ASL $82 			;ËãÊõ×óÒÆ
854F : ROL $83 			;Ñ­»·×óÒÆ
8551 : RTS 			;×Ó³ÌÐò·µ»Ø

8552 : LDA $2EC0 			;->A
8555 : STA $80 			;A->MEM
8557 : LDA $2EC1 			;->A
855A : STA $81 			;A->MEM
855C : LDA $2EC2 			;->A
855F : STA $82 			;A->MEM
8561 : LDA $2EC3 			;->A
8564 : STA $83 			;A->MEM
8566 : RTS 			;×Ó³ÌÐò·µ»Ø
;´ò×ø
8567 : INT $9E0A    ;´ò×ø
856A : RTS 			;×Ó³ÌÐò·µ»Ø

;Ú¤Ë¼
856B : LDX #$86 			;->X
856D : LDY #$85 			;->Y
856F : LDA $3084 			;->A
8572 : ORA #$80 			;A¡Å$n¡úA
8574 : STA $3084 			;A->MEM
8577 : JSR $B0CC  			;Ìø×ª×Ó³ÌÐò
857A : LDA $3084 			;->A
857D : AND #$7F 			;A¡Ä$n¡úA
857F : STA $3084 			;A->MEM
8582 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
8585 : RTS 			;×Ó³ÌÐò·µ»Ø

8586 : JSR $9001  			;Ìø×ª×Ó³ÌÐò

8589 : STA $A9 			;A->MEM

858B : STA $E8 			;A->MEM

858D :  3  ;???

858E : LDX $AD85,Y 			;->X
;mp/mplevel*2 -> 80--83
8590 : LDA $318F 			;->A
8593 : STA $80 			;A->MEM
8595 : LDA $3190 			;->A
8598 : STA $81 			;A->MEM
859A : LDA $3191 			;->A
859D : STA $82 			;A->MEM
859F : LDA $3192 			;->A
85A2 : STA $83 			;A->MEM
85A4 : ASL $82 			;ËãÊõ×óÒÆ
85A6 : ROL $83 			;Ñ­»·×óÒÆ
85A8 : RTS 			;×Ó³ÌÐò·µ»Ø
;mp/mplevel -> 80--83
85A9 : LDA $318F 			;->A
85AC : STA $80 			;A->MEM
85AE : LDA $3190 			;->A
85B1 : STA $81 			;A->MEM
85B3 : LDA $3191 			;->A
85B6 : STA $82 			;A->MEM
85B8 : LDA $3192 			;->A
85BB : STA $83 			;A->MEM
85BD : RTS 			;×Ó³ÌÐò·µ»Ø

85BE : INT $3115      ;page2 9862
85C1 : RTS 			;×Ó³ÌÐò·µ»Ø

;skill improve point
85C2 : LDA $2E8B 			;->A			@µ±Ç°¼¼ÄÜ
85C5 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
85C8 : CLC 			;Çå½øÎ»±êÖ¾
85C9 : LDA $2EDD,Y 			;->A    Skill point
85CC : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
85CE : STA $2EDD,Y 			;A->MEM
85D1 : LDA $2EDE,Y 			;->A
85D4 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
85D6 : STA $2EDE,Y 			;A->MEM			@½ÇÉ«¼¼ÄÜ¾­ÑéÀÛ¼Ó±¾Ìø¾­Ñé
85D9 : LDA $2EDC,Y 			;->A    Skill level	
85DC : STA $76 			;A->MEM				@»ñÈ¡¼¼ÄÜµÈ¼¶´æ76
85DE : TAX 			;A->X
85DF : INX 			;X++				@XÎªÏÂÒ»µÈ¼¶µÄ¼¶±ð
85E0 : TXA 			;X->A
85E1 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å8081  (lv*lv+1)		@ºÃÏñÓ¦¸ÃÎª(lv+1)*(lv+1)
85E4 : LDA $2EDD,Y 			;->A
85E7 : STA $82 			;A->MEM
85E9 : LDA $2EDE,Y 			;->A
85EC : STA $83 			;A->MEM
85EE : LDA $83 			;->A
85F0 : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
85F2 : BNE $85F8 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
85F4 : LDA $82 			;->A
85F6 : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
85F8 : BCC $860D 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
85FA : INC $76 			;MEM++
85FC : LDA $76 			;->A
85FE : STA $2EDC,Y 			;A->MEM    Skill level
8601 : LDA #$00 			;->A
8603 : STA $2EDD,Y 			;A->MEM
8606 : STA $2EDE,Y 			;A->MEM
8609 : JSR $860E  			;Ìø×ª×Ó³ÌÐò
860C : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
860D : RTS 			;×Ó³ÌÐò·µ»Ø

;calc ºóÌìëöÁ¦¸ù¹ÇÃô½ÝÎòÐÔ×¤ÑÕ¼Ó³É
860E : LDA #$01 			;->A  »ù±¾È­½Å
8610 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8613 : BCC $8624 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8615 : LDA $2EDC,Y 			;->A    Skill level
8618 : LDX #$0A 			;->X
861A : INT $9E22    ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý
861D : CLC 			;Çå½øÎ»±êÖ¾
861E : ADC $2E95 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8621 : STA $2EB6 			;A->MEM
8624 : LDA #$07 			;->A  »ù±¾Çá¹¦
8626 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8629 : BCC $863A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
862B : LDA $2EDC,Y 			;->A    Skill level
862E : LDX #$0A 			;->X
8630 : INT $9E22  ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý
8633 : CLC 			;Çå½øÎ»±êÖ¾
8634 : ADC $2E96 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8637 : STA $2EB7 			;A->MEM
863A : LDA #$09 			;->A  ¶ÁÊéÐ´×Ö
863C : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
863F : BCC $8650 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8641 : LDA $2EDC,Y 			;->A    Skill level
8644 : LDX #$0A 			;->X
8646 : INT $9E22  ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
8649 : CLC 			;Çå½øÎ»±êÖ¾
864A : ADC $2E97 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
864D : STA $2EB8 			;A->MEM
8650 : LDA #$00 			;->A  »ù±¾ÄÚ¹¦
8652 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8655 : BCC $8666 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8657 : LDA $2EDC,Y 			;->A    Skill level
865A : LDX #$0A 			;->X
865C : INT $9E22  ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
865F : CLC 			;Çå½øÎ»±êÖ¾
8660 : ADC $2E98 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8663 : STA $2EB9 			;A->MEM
8666 : LDA #$0A 			;->A  ×¤ÑÕÊõ
8668 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
866B : BCC $867C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
866D : LDA $2EDC,Y 			;->A    Skill level
8670 : LDX #$0A 			;->X
8672 : INT $9E22  ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý
8675 : CLC 			;Çå½øÎ»±êÖ¾
8676 : ADC $2E99 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8679 : STA $2EBA 			;A->MEM  face
867C : RTS 			;×Ó³ÌÐò·µ»Ø

867D : TSX 			;¶ÑÕ»->X
867E : TXA 			;X->A
867F : LDX #$00 			;->X
8681 : STA $08CA,X 			;A->MEM
8684 : LDA #$EB 			;->A
8686 : STA $80 			;A->MEM
8688 : LDA #$06 			;->A
868A : STA $81 			;A->MEM  06EB
868C : JSR $86B6  			;Ìø×ª×Ó³ÌÐò
868F : LDA $80 			;->A
8691 : STA $55 			;A->MEM
8693 : LDA $81 			;->A
8695 : STA $56 			;A->MEM
8697 : LDA #$65 			;->A
8699 : STA $A8 			;A->MEM
869B : LDA #$8C 			;->A
869D : STA $A9 			;A->MEM  8C65:9A80 B101 A986 D290
869F : LDX #$28 			;->X
86A1 : LDY #$28 			;->Y
86A3 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
86A6 : LDA #$FF 			;->A
86A8 : RTS 			;×Ó³ÌÐò·µ»Ø

86A9 : LDX #$00 			;->X
86AB : LDA $08CA,X 			;->A
86AE : TAX 			;A->X
86AF : TXS 			;X->¶ÑÕ»
86B0 : LDY $86 			;->Y
86B2 : INY 			;Y++
86B3 : LDA ($55),Y 			;->A
86B5 : RTS 			;×Ó³ÌÐò·µ»Ø

86B6 : LDA $80 			;->A
86B8 : STA $82 			;A->MEM
86BA : LDA $81 			;->A
86BC : STA $83 			;A->MEM
86BE : LDY #$00 			;->Y
86C0 : LDA $2ED5 			;->A    Selected Skill
86C3 : BIT $2EC6 			;A¡Ä($n2n1)
86C6 : BPL $86D9 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
86C8 : LDA $2ED6 			;->A
86CB : BPL $86DC 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
86CD : AND #$7F 			;A¡Ä$n¡úA
86CF : JSR $89F9  			;Ìø×ª×Ó³ÌÐò
86D2 : LDY #$00 			;->Y
86D4 : BCC $86DC 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
86D6 : LDA $2ED6 			;->A
86D9 : JSR $86FC  			;Ìø×ª×Ó³ÌÐò
86DC : LDA $2ED7 			;->A
86DF : JSR $86FC  			;Ìø×ª×Ó³ÌÐò
86E2 : LDA $2ED8 			;->A
86E5 : JSR $86FC  			;Ìø×ª×Ó³ÌÐò
86E8 : LDA $3195 			;->A    Selected Skill(·¨Êõ)
86EB : JSR $86FC  			;Ìø×ª×Ó³ÌÐò
86EE : TYA 			;Y->A
86EF : LDY #$00 			;->Y
86F1 : STA ($82),Y 			;A->MEM
86F3 : LDA $82 			;->A
86F5 : STA $80 			;A->MEM
86F7 : LDA $83 			;->A
86F9 : STA $81 			;A->MEM
86FB : RTS 			;×Ó³ÌÐò·µ»Ø
;get magic based skill id
86FC : CMP #$80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
86FE : BCC $871B 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8700 : AND #$7F 			;A¡Ä$n¡úA
8702 : STA $2E8B 			;A->MEM
8705 : LDX #$FF 			;->X
8707 : INX 			;X++
8708 : LDA $921D,X 			;->A  921D 0B0B0C0D1112141719191A1A1D1D1E1E1E1F1F1F1F24FE273434343432323232333333332B2D2C2C26FF
870B : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
870D : BEQ $871B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
870F : CMP $2E8B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8712 : BNE $8707 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8714 : TXA 			;X->A
8715 : INY 			;Y++
8716 : STA ($82),Y 			;A->MEM
8718 : JMP $8707 			;
871B : RTS 			;×Ó³ÌÐò·µ»Ø

871C : LDA #$06 			;->A
871E : STA $A8 			;A->MEM
8720 : LDA #$8C 			;->A
8722 : STA $A9 			;A->MEM  8c06 
8724 : LDX #$30 			;->X
8726 : LDY #$04 			;->Y
8728 : JSR $4A49  			;Ìø×ª×Ó³ÌÐò
872B : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
872E : RTS 			;×Ó³ÌÐò·µ»Ø

872F : TSX 			;¶ÑÕ»->X
8730 : TXA 			;X->A
8731 : LDX #$00 			;->X
8733 : STA $08CA,X 			;A->MEM
8736 : JSR $878A  			;Ìø×ª×Ó³ÌÐò
8739 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
873C : RTS 			;×Ó³ÌÐò·µ»Ø

873D : JSR $8777  			;Ìø×ª×Ó³ÌÐò
8740 : JSR $878A  			;Ìø×ª×Ó³ÌÐò
8743 : JSR $A6F2  			;Ìø×ª×Ó³ÌÐò
8746 : RTS 			;×Ó³ÌÐò·µ»Ø

8747 : TSX 			;¶ÑÕ»->X
8748 : TXA 			;X->A
8749 : LDX #$00 			;->X
874B : STA $08CA,X 			;A->MEM
874E : JSR $87CE  			;Ìø×ª×Ó³ÌÐò
8751 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
8754 : RTS 			;×Ó³ÌÐò·µ»Ø

8755 : JSR $8777  			;Ìø×ª×Ó³ÌÐò
8758 : JSR $87CE  			;Ìø×ª×Ó³ÌÐò
875B : JSR $A6F2  			;Ìø×ª×Ó³ÌÐò
875E : RTS 			;×Ó³ÌÐò·µ»Ø

875F : TSX 			;¶ÑÕ»->X
8760 : TXA 			;X->A
8761 : LDX #$00 			;->X
8763 : STA $08CA,X 			;A->MEM
8766 : JSR $87FE  			;Ìø×ª×Ó³ÌÐò
8769 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
876C : RTS 			;×Ó³ÌÐò·µ»Ø

876D : JSR $8777  			;Ìø×ª×Ó³ÌÐò
8770 : JSR $87FE  			;Ìø×ª×Ó³ÌÐò
8773 : JSR $A6F2  			;Ìø×ª×Ó³ÌÐò
8776 : RTS 			;×Ó³ÌÐò·µ»Ø

8777 : JSR $4A58  			;Ìø×ª×Ó³ÌÐò
877A : CLC 			;Çå½øÎ»±êÖ¾
877B : LDA $0456 			;->A
877E : ADC #$03 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8780 : STA $80 			;A->MEM
8782 : LDX $80 			;->X
8784 : LDY $44 			;->Y
8786 : INT $9E31      ;show pt number
8789 : RTS 			;×Ó³ÌÐò·µ»Ø

878A : LDA $86 			;->A
878C : STA $2E8A 			;A->MEM
878F : LDX $2E8A 			;->X
8792 : LDA $2ED5,X 			;->A    Selected Skill
8795 : BMI $8799 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8797 : LDA #$FF 			;->A
8799 : AND #$7F 			;A¡Ä$n¡úA
879B : STA $2E8B 			;A->MEM
879E : LDA #$EB 			;->A
87A0 : STA $80 			;A->MEM
87A2 : LDA #$06 			;->A
87A4 : STA $81 			;A->MEM  06EB
87A6 : JSR $8866  			;Ìø×ª×Ó³ÌÐò
87A9 : LDA $80 			;->A
87AB : STA $55 			;A->MEM
87AD : LDA $81 			;->A
87AF : STA $56 			;A->MEM
87B1 : LDA $2E8A 			;->A
87B4 : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
87B6 : BNE $87BB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
87B8 : JSR $8835  			;Ìø×ª×Ó³ÌÐò
87BB : LDA #$49 			;->A
87BD : STA $A8 			;A->MEM
87BF : LDA #$8C 			;->A
87C1 : STA $A9 			;A->MEM  8C49 
87C3 : CLC 			;Çå½øÎ»±êÖ¾
87C4 : LDA $0453 			;->A
87C7 : ADC #$05 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
87C9 : TAX 			;A->X
87CA : LDY $0454 			;->Y
87CD : RTS 			;×Ó³ÌÐò·µ»Ø

87CE : LDA $86 			;->A
87D0 : STA $2E8A 			;A->MEM
87D3 : LDA #$FF 			;->A
87D5 : STA $2E8B 			;A->MEM
87D8 : LDA #$EB 			;->A
87DA : STA $80 			;A->MEM
87DC : LDA #$06 			;->A
87DE : STA $81 			;A->MEM
87E0 : JSR $8866  			;Ìø×ª×Ó³ÌÐò
87E3 : LDA $80 			;->A
87E5 : STA $55 			;A->MEM
87E7 : LDA $81 			;->A
87E9 : STA $56 			;A->MEM
87EB : LDA #$53 			;->A
87ED : STA $A8 			;A->MEM
87EF : LDA #$8C 			;->A
87F1 : STA $A9 			;A->MEM  8C53
87F3 : CLC 			;Çå½øÎ»±êÖ¾
87F4 : LDA $0453 			;->A
87F7 : ADC #$05 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
87F9 : TAX 			;A->X
87FA : LDY $0454 			;->Y
87FD : RTS 			;×Ó³ÌÐò·µ»Ø

87FE : LDA #$06 			;->A
8800 : STA $2E8A 			;A->MEM
8803 : LDA $3195 			;->A    Selected Skill(·¨Êõ)
8806 : BMI $880A 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8808 : LDA #$FF 			;->A
880A : AND #$7F 			;A¡Ä$n¡úA
880C : STA $2E8B 			;A->MEM
880F : LDA #$EB 			;->A
8811 : STA $80 			;A->MEM
8813 : LDA #$06 			;->A
8815 : STA $81 			;A->MEM
8817 : JSR $8866  			;Ìø×ª×Ó³ÌÐò
881A : LDA $80 			;->A
881C : STA $55 			;A->MEM
881E : LDA $81 			;->A
8820 : STA $56 			;A->MEM
8822 : LDA #$49 			;->A
8824 : STA $A8 			;A->MEM
8826 : LDA #$8C 			;->A
8828 : STA $A9 			;A->MEM  8C49
882A : CLC 			;Çå½øÎ»±êÖ¾
882B : LDA $0453 			;->A
882E : ADC #$05 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8830 : TAX 			;A->X
8831 : LDY $0454 			;->Y
8834 : RTS 			;×Ó³ÌÐò·µ»Ø

8835 : LDA #$FF 			;->A
8837 : STA $86 			;A->MEM
8839 : LDY #$00 			;->Y
883B : LDA ($80),Y 			;->A
883D : TAY 			;A->Y
883E : LDA $2ED5 			;->A    Selected Skill
8841 : BPL $884F 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8843 : CMP $2ED9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8846 : BNE $884A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8848 : STY $86 			;Y->MEM
884A : AND #$7F 			;A¡Ä$n¡úA
884C : INY 			;Y++
884D : STA ($80),Y 			;A->MEM
884F : LDA $2ED6 			;->A
8852 : BPL $8860 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8854 : CMP $2ED9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8857 : BNE $885B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8859 : STY $86 			;Y->MEM
885B : AND #$7F 			;A¡Ä$n¡úA
885D : INY 			;Y++
885E : STA ($80),Y 			;A->MEM
8860 : TYA 			;Y->A
8861 : LDY #$00 			;->Y
8863 : STA ($80),Y 			;A->MEM
8865 : RTS 			;×Ó³ÌÐò·µ»Ø

8866 : LDA $80 			;->A
8868 : STA $82 			;A->MEM
886A : LDA $81 			;->A
886C : STA $83 			;A->MEM
886E : LDA $2E8B 			;->A
8871 : STA $58 			;A->MEM
8873 : LDY #$00 			;->Y
8875 : LDX #$FF 			;->X
8877 : STX $86 			;X->MEM
8879 : STX $59 			;X->MEM
887B : INC $59 			;MEM++
887D : LDA $59 			;->A
887F : CMP $2EDA 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  SkillNumber
8882 : BCS $88A8 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8884 : ASL 			;ËãÊõ×óÒÆ
8885 : ASL 			;ËãÊõ×óÒÆ
8886 : TAX 			;A->X
8887 : LDA $2EDB,X 			;->A    SkillID
888A : STA $2E8B 			;A->MEM
888D : JSR $8ADE  			;Ìø×ª×Ó³ÌÐò
8890 : LDA $2E8A 			;->A
8893 : LDX #$00 			;->X
8895 : CMP ($80,X) 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8897 : BNE $887B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8899 : LDA $2E8B 			;->A
889C : CMP $58 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
889E : BNE $88A2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
88A0 : STY $86 			;Y->MEM
88A2 : INY 			;Y++
88A3 : STA ($82),Y 			;A->MEM
88A5 : JMP $887B 			;

88A8 : TYA 			;Y->A
88A9 : LDY #$00 			;->Y
88AB : STA ($82),Y 			;A->MEM
88AD : LDA $82 			;->A
88AF : STA $80 			;A->MEM
88B1 : LDA $83 			;->A
88B3 : STA $81 			;A->MEM
88B5 : RTS 			;×Ó³ÌÐò·µ»Ø
;draw skill level name level / point
88B6 : LDY $86 			;->Y
88B8 : INY 			;Y++
88B9 : LDA ($55),Y 			;->A
88BB : STA $2E8B 			;A->MEM
88BE : JSR $890F  			;Ìø×ª×Ó³ÌÐò
88C1 : LDA $80 			;->A
88C3 : STA $05FC 			;A->MEM
88C6 : LDA $81 			;->A
88C8 : STA $05FD 			;A->MEM
88CB : LDA $2E8B 			;->A
88CE : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
88D1 : LDA $2EDC,Y 			;->A    Skill level
88D4 : STA $05FE 			;A->MEM
88D7 : LDA $2EDD,Y 			;->A
88DA : STA $05FF 			;A->MEM    Skill point
88DD : LDA $2EDE,Y 			;->A
88E0 : STA $0600 			;A->MEM    Skill point
88E3 : LDA #$FA 			;->A
88E5 : STA $A6 			;A->MEM
88E7 : LDA #$88 			;->A
88E9 : STA $A7 			;A->MEM  88FA 
88EB : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
88EE : LDX #$08 			;->X
88F0 : LDY $0456 			;->Y
88F3 : INY 			;Y++
88F4 : INY 			;Y++
88F5 : INY 			;Y++
88F6 : JSR $A495  			;Ìø×ª×Ó³ÌÐò
88F9 : RTS 			;×Ó³ÌÐò·µ»Ø
;skill level name level / point
88FA : 09 0C89 0A00 20 03FE05 0A00 2F(/) 05FF05 0000 00
890C : 08 FC05

890F : LDA $2E8B 			;->A
8912 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find skill loaction
8915 : LDA $2EDC,Y 			;->A  skill level
8918 : LDX #$05 			;->X
891A : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
891D : CMP #$32 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
891F : BCC $8923 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8921 : LDA #$31 			;->A
8923 : STA $80 			;A->MEM
8925 : LDA #$00 			;->A
8927 : STA $81 			;A->MEM
8929 : ASL $80 			;ËãÊõ×óÒÆ
892B : ROL $81 			;Ñ­»·×óÒÆ
892D : ASL $80 			;ËãÊõ×óÒÆ
892F : ROL $81 			;Ñ­»·×óÒÆ
8931 : ASL $80 			;ËãÊõ×óÒÆ
8933 : ROL $81 			;Ñ­»·×óÒÆ
8935 : CLC 			;Çå½øÎ»±êÖ¾
8936 : LDA $80 			;->A
8938 : ADC #$DE 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
893A : STA $80 			;A->MEM
893C : LDA $81 			;->A
893E : ADC #$8C 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8940 : STA $81 			;A->MEM
8942 : RTS 			;×Ó³ÌÐò·µ»Ø

8943 : LDA $2E8B 			;->A
8946 : CMP #$09 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8948 : BCS $894B 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
894A : RTS 			;×Ó³ÌÐò·µ»Ø
894B : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
894E : BCS $8955 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8950 : LDA #$04 			;->A
8952 : JMP $B0BE 			;
8955 : LDX $2E8A 			;->X
8958 : CPX $06 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
895A : BNE $895F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
895C : JMP $8988 			;
895F : LDA $2ED5,X 			;->A    Selected Skill
8962 : BPL $896B 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8964 : AND #$7F 			;A¡Ä$n¡úA
8966 : CMP $2E8B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8969 : BEQ $897B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
896B : LDA $2E8B 			;->A
896E : ORA #$80 			;A¡Å$n¡úA
8970 : STA $2ED5,X 			;A->MEM    Selected Skill
8973 : LDX #$00 			;->X
8975 : LDA $08CA,X 			;->A
8978 : TAX 			;A->X
8979 : TXS 			;X->¶ÑÕ»
897A : RTS 			;×Ó³ÌÐò·µ»Ø
897B : LDA #$00 			;->A
897D : STA $2ED5,X 			;A->MEM    Selected Skill
8980 : LDX #$00 			;->X
8982 : LDA $08CA,X 			;->A
8985 : TAX 			;A->X
8986 : TXS 			;X->¶ÑÕ»
8987 : RTS 			;×Ó³ÌÐò·µ»Ø
8988 : LDA $3195 			;->A  Selected Skill(·¨Êõ)
898B : BPL $8994 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
898D : AND #$7F 			;A¡Ä$n¡úA
898F : CMP $2E8B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8992 : BEQ $89A4 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8994 : LDA $2E8B 			;->A
8997 : ORA #$80 			;A¡Å$n¡úA
8999 : STA $3195 			;A->MEM    Selected Skill(·¨Êõ)
899C : LDX #$00 			;->X
899E : LDA $08CA,X 			;->A
89A1 : TAX 			;A->X
89A2 : TXS 			;X->¶ÑÕ»
89A3 : RTS 			;×Ó³ÌÐò·µ»Ø
89A4 : LDA #$00 			;->A
89A6 : STA $3195 			;A->MEM   Selected Skill(·¨Êõ)
89A9 : LDX #$00 			;->X
89AB : LDA $08CA,X 			;->A
89AE : TAX 			;A->X
89AF : TXS 			;X->¶ÑÕ»
89B0 : RTS 			;×Ó³ÌÐò·µ»Ø

89B1 : LDA #$00 			;->A
89B3 : STA $2E84 			;A->MEM
89B6 : LDA #$00 			;->A
89B8 : STA $2E85 			;A->MEM
89BB : LDA $2E8A 			;->A
89BE : JSR $8A5E  			;Ìø×ª×Ó³ÌÐò get ? type
89C1 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
89C4 : BCC $89F8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
89C6 : LDA $2EDC,Y 			;->A    skill level
89C9 : LSR 			;AÂß¼­ÓÒÒÆ
89CA : STA $2E84 			;A->MEM
89CD : LDY $2E8A 			;->Y
89D0 : LDA $2ED5,Y 			;->A    Selected Skill
89D3 : BPL $89F8 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
89D5 : AND #$7F 			;A¡Ä$n¡úA
89D7 : JSR $89F9  			;Ìø×ª×Ó³ÌÐò
89DA : BCC $89F8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
89DC : LDY $2E8A 			;->Y  
89DF : LDA $2ED5,Y 			;->A    Selected Skill
89E2 : AND #$7F 			;A¡Ä$n¡úA
89E4 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
89E7 : BCC $89F8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
89E9 : LDA $2EDC,Y 			;->A    skill level
89EC : CLC 			;Çå½øÎ»±êÖ¾
89ED : ADC $2E84 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
89F0 : STA $2E84 			;A->MEM
89F3 : BCC $89F8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
89F5 : INC $2E85 			;MEM++
89F8 : RTS 			;×Ó³ÌÐò·µ»Ø

89F9 : JSR $8ADE  			;Ìø×ª×Ó³ÌÐò
89FC : LDY #$00 			;->Y
89FE : LDA ($80),Y 			;->A
8A00 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8A02 : BEQ $8A12 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A04 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8A06 : BEQ $8A20 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A08 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8A0A : BEQ $8A44 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A0C : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8A0E : BEQ $8A4D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A10 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8A11 : RTS 			;×Ó³ÌÐò·µ»Ø

8A12 : BIT $2EC6 			;A¡Ä($n2n1)
8A15 : BMI $8A56 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A17 : LDA #$01 			;->A  »ù±¾È­½Å
8A19 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8A1C : BCC $8A5A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A1E : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8A1F : RTS 			;×Ó³ÌÐò·µ»Ø

8A20 : BIT $2EC6 			;A¡Ä($n2n1)
8A23 : BPL $8A56 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A25 : LDY #$01 			;->Y
8A27 : LDA ($80),Y 			;->A
8A29 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
8A2A : LDA $2EC6 			;->A
8A2D : AND #$7F 			;A¡Ä$n¡úA
8A2F : JSR $9889  			;Ìø×ª×Ó³ÌÐò;load item attrib
8A32 : PLA 			;A³öÕ»

8A33 : LDY #$01 			;->Y
8A35 : CMP ($80),Y 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8A37 : BNE $8A56 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

8A39 : TAX 			;A->X
8A3A : LDA $8A87,X 			;->A
8A3D : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8A40 : BCC $8A5A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A42 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8A43 : RTS 			;×Ó³ÌÐò·µ»Ø

8A44 : LDA #$07 			;->A  »ù±¾Çá¹¦
8A46 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8A49 : BCC $8A5A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A4B : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8A4C : RTS 			;×Ó³ÌÐò·µ»Ø

8A4D : LDA #$00 			;->A  »ù±¾ÄÚ¹¦
8A4F : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8A52 : BCC $8A5A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A54 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8A55 : RTS 			;×Ó³ÌÐò·µ»Ø

8A56 : LDA #$01 			;->A
8A58 : CLC 			;Çå½øÎ»±êÖ¾
8A59 : RTS 			;×Ó³ÌÐò·µ»Ø
8A5A : LDA #$00 			;->A
8A5C : CLC 			;Çå½øÎ»±êÖ¾
8A5D : RTS 			;×Ó³ÌÐò·µ»Ø
;get ? type
8A5E : LDY $2EC6 			;->Y
8A61 : CMP #$80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8A63 : BCC $8A6A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A65 : LDY $2FAE 			;->Y NPC Equip weapon
8A68 : AND #$7F 			;A¡Ä$n¡úA
8A6A : TAX 			;A->X
8A6B : TYA 			;Y->A
8A6C : CPX $01 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
8A6E : BEQ $8A74 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8A70 : LDA $8A82,X 			;->A
8A73 : RTS 			;×Ó³ÌÐò·µ»Ø
8A74 : AND #$7F 			;A¡Ä$n¡úA
8A76 : JSR $9889  			;Ìø×ª×Ó³ÌÐò;load item attrib
8A79 : LDY #$01 			;->Y
8A7B : LDA ($80),Y 			;->A
8A7D : TAX 			;A->X
8A7E : LDA $8A87,X 			;->A
8A81 : RTS 			;×Ó³ÌÐò·µ»Ø
8A82 : 0102070008FF
8A87 : 03FFFFFFFF0205FF06

8A91 : LDA #$02 			;->A
8A93 : STA $76 			;A->MEM
8A95 : LDA $2E8B 			;->A
8A98 : STA $75 			;A->MEM
8A9A : LDA #$A0 			;->A
8A9C : STA $80 			;A->MEM
8A9E : JSR $A4E6  			;Ìø×ª×Ó³ÌÐò
8AA1 : RTS 			;×Ó³ÌÐò·µ»Ø

;add new Skill
8AA2 : LDA $2E8B 			;->A
8AA5 : JSR $8AF6  			;Ìø×ª×Ó³ÌÐò  find Skill loaction
8AA8 : BCS $8AC4 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8AAA : CPX $14 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
8AAC : BCC $8AB0 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8AAE : CLC 			;Çå½øÎ»±êÖ¾
8AAF : RTS 			;×Ó³ÌÐò·µ»Ø
8AB0 : LDA $2E8B 			;->A
8AB3 : STA $2EDB,Y 			;A->MEM  SkillID
8AB6 : LDA #$00 			;->A
8AB8 : STA $2EDC,Y 			;A->MEM    skill level
8ABB : STA $2EDD,Y 			;A->MEM
8ABE : STA $2EDE,Y 			;A->MEM
8AC1 : INC $2EDA 			;MEM++
8AC4 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8AC5 : RTS 			;×Ó³ÌÐò·µ»Ø

;get skill name addr
8AC6 : LDX #$86 			;->X
8AC8 : STX $80 			;X->MEM
8ACA : LDX #$8E 			;->X
8ACC : STX $81 			;X->MEM  8E86  »ù±¾ÄÚ¹¦
8ACE : JSR $B0A1  			;Ìø×ª×Ó³ÌÐò
8AD1 : RTS 			;×Ó³ÌÐò·µ»Ø
;get magic name addr
8AD2 : LDX #$D2 			;->X
8AD4 : STX $80 			;X->MEM
8AD6 : LDX #$90 			;->X
8AD8 : STX $81 			;X->MEM  90D2 °ËØÔµ¶Ó°ÕÆ
8ADA : JSR $B0A1  			;Ìø×ª×Ó³ÌÐò
8ADD : RTS 			;×Ó³ÌÐò·µ»Ø

8ADE : STA $80 			;A->MEM
8AE0 : LDA #$00 			;->A
8AE2 : STA $81 			;A->MEM
8AE4 : ASL $80 			;ËãÊõ×óÒÆ
8AE6 : ROL $81 			;Ñ­»·×óÒÆ
8AE8 : CLC 			;Çå½øÎ»±êÖ¾
8AE9 : LDA $80 			;->A
8AEB : ADC #$66 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8AED : STA $80 			;A->MEM
8AEF : LDA $81 			;->A
8AF1 : ADC #$90 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8AF3 : STA $81 			;A->MEM
8AF5 : RTS 			;×Ó³ÌÐò·µ»Ø

;find Skill loaction
8AF6 : LDY #$00 			;->Y
8AF8 : LDX #$00 			;->X
8AFA : CPX $2EDA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
8AFD : BEQ $8B0E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8AFF : CMP $2EDB,Y 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)  SkillID
8B02 : BEQ $8B10 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø find out
8B04 : INY 			;Y++
8B05 : INY 			;Y++
8B06 : INY 			;Y++
8B07 : INY 			;Y++
8B08 : INX 			;X++
8B09 : CPX $2EDA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
8B0C : BCC $8AFF 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8B0E : CLC 			;Çå½øÎ»±êÖ¾
8B0F : RTS 			;×Ó³ÌÐò·µ»Ø
8B10 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
8B11 : RTS 			;×Ó³ÌÐò·µ»Ø

8B12 : LDX #$00 			;->X
8B14 : LDY #$27 			;->Y
8B16 : LDA ($AA),Y 			;->A
8B18 : BPL $8B1C 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
8B1A : LDX #$01 			;->X
8B1C : TXA 			;X->A
8B1D : STA $2E8A 			;A->MEM
8B20 : JSR $3018  			;Ìø×ª×Ó³ÌÐò
8B23 : LDA $2E84 			;->A
8B26 : STA $90 			;A->MEM
8B28 : LDA $2E85 			;->A
8B2B : STA $91 			;A->MEM
8B2D : LDA #$02 			;->A
8B2F : STA $2E8A 			;A->MEM
8B32 : JSR $3018  			;Ìø×ª×Ó³ÌÐò
8B35 : LDA $2E84 			;->A
8B38 : STA $8E 			;A->MEM
8B3A : LDA $2E85 			;->A
8B3D : STA $8F 			;A->MEM
8B3F : LDA #$04 			;->A
8B41 : STA $2E8A 			;A->MEM
8B44 : JSR $3018  			;Ìø×ª×Ó³ÌÐò
8B47 : CLC 			;Çå½øÎ»±êÖ¾
8B48 : LDA $8E 			;->A
8B4A : ADC $2E84 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8B4D : STA $8E 			;A->MEM
8B4F : LDA $8F 			;->A
8B51 : ADC $2E85 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8B54 : STA $8F 			;A->MEM
8B56 : LSR $8F 			;Âß¼­ÓÒÒÆ
8B58 : ROR $8E 			;Ñ­»·ÓÒÒÆ
8B5A : CLC 			;Çå½øÎ»±êÖ¾
8B5B : LDA $90 			;->A
8B5D : ADC $8E 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8B5F : STA $80 			;A->MEM
8B61 : LDA $91 			;->A
8B63 : ADC $8F 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8B65 : STA $81 			;A->MEM
8B67 : LDA #$03 			;->A
8B69 : STA $82 			;A->MEM
8B6B : LDA #$00 			;->A
8B6D : STA $83 			;A->MEM
8B6F : INT $9E23      ;80-81³ý82-83 ÉÌ80
8B72 : LDA #$05 			;->A
8B74 : STA $82 			;A->MEM
8B76 : LDA #$00 			;->A
8B78 : STA $83 			;A->MEM
8B7A : INT $9E23      ;80-81³ý82-83 ÉÌ80
8B7D : ASL $80 			;ËãÊõ×óÒÆ
8B7F : ROL $81 			;Ñ­»·×óÒÆ
8B81 : ASL $80 			;ËãÊõ×óÒÆ
8B83 : ROL $81 			;Ñ­»·×óÒÆ
8B85 : ASL $80 			;ËãÊõ×óÒÆ
8B87 : ROL $81 			;Ñ­»·×óÒÆ
8B89 : CLC 			;Çå½øÎ»±êÖ¾
8B8A : LDA $80 			;->A
8B8C : ADC #$DE 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8B8E : STA $80 			;A->MEM
8B90 : LDA $81 			;->A
8B92 : ADC #$8C 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8B94 : STA $81 			;A->MEM
8B96 : LDA $80 			;->A
8B98 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
8B99 : LDA $81 			;->A
8B9B : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
8B9C : LDY #$17 			;->Y
8B9E : LDA ($AA),Y 			;->A
8BA0 : STA $308A 			;A->MEM
8BA3 : LDA #$00 			;->A
8BA5 : STA $308B 			;A->MEM
8BA8 : LDY #$0F 			;->Y
8BAA : LDA ($AA),Y 			;->A
8BAC : CLC 			;Çå½øÎ»±êÖ¾
8BAD : ADC $308A 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8BB0 : STA $308A 			;A->MEM
8BB3 : BCC $8BB8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8BB5 : INC $308B 			;MEM++
8BB8 : LDY #$15 			;->Y
8BBA : LDA ($AA),Y 			;->A
8BBC : LSR 			;AÂß¼­ÓÒÒÆ
8BBD : CLC 			;Çå½øÎ»±êÖ¾
8BBE : ADC $308A 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8BC1 : STA $308A 			;A->MEM
8BC4 : BCC $8BC9 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8BC6 : INC $308B 			;MEM++
8BC9 : LDA $308A 			;->A
8BCC : STA $80 			;A->MEM
8BCE : LDA $308B 			;->A
8BD1 : STA $81 			;A->MEM
8BD3 : LDA #$14 			;->A
8BD5 : STA $82 			;A->MEM
8BD7 : LDA #$00 			;->A
8BD9 : STA $83 			;A->MEM
8BDB : INT $9E23      ;80-81³ý82-83 ÉÌ80
8BDE : LDA $80 			;->A
8BE0 : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
8BE2 : BCC $8BE6 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
8BE4 : LDA #$05 			;->A
8BE6 : ASL 			;ËãÊõ×óÒÆ
8BE7 : ASL 			;ËãÊõ×óÒÆ
8BE8 : STA $80 			;A->MEM
8BEA : CLC 			;Çå½øÎ»±êÖ¾
8BEB : LDA $80 			;->A
8BED : ADC #$6E 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8BEF : STA $80 			;A->MEM
8BF1 : LDA $81 			;->A
8BF3 : ADC #$8E 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
8BF5 : STA $81 			;A->MEM
8BF7 : LDA $80 			;->A
8BF9 : STA $82 			;A->MEM
8BFB : LDA $81 			;->A
8BFD : STA $83 			;A->MEM
8BFF : PLA 			;A³öÕ»
8C00 : STA $81 			;A->MEM
8C02 : PLA 			;A³öÕ»
8C03 : STA $80 			;A->MEM
8C05 : RTS 			;×Ó³ÌÐò·µ»Ø

8C07 : 40 07 51 00 2f87 3d87 2F87
8c10 £º3D87 2f87 3d87 2f87 3d87 2f87 3d87 4787 5587 5f87 6d87
8C26 : È­½Åÿ±øÈÐÿÇá¹¦ÿÄÚ¹¦ÿÕÐ¼ÜÿÖªÊ¶ÿ·¨Êõ

8C49 : DA80 5906 4389 B688 868E DA80 5102 0000 B688 868E 9A80 B103 9084 868E 9A80 B101 A986 D290

8C6d : Äã»¹ÊÇ¸öÎÄÃ¤
8C7A : ÄãµÄÊµÕ½¾­Ñé²»×ã
8C8A : ÊéÉÏËùËµµÄ¶ÔÄãÌ«Ç³ÁË
8CA0 : ÄãÏÖÔÚÌ«Æ£¾ëÁË,Ã»·¨ÑÐ¶Á
8CB8 : ÄãÂñÍ·ÑÐ¶Á,ËÆºõÓÐµãÐÄµÃ
8CD0 : ÄãµÄ$k½ø²½ÁË
8CDE : ²»¿°Ò»»÷ºÁ²»×ãÂÇ²»×ã¹Ò³Ý³õÑ§Õ§Á·ÃãÃãÇ¿Ç¿³õ¿úÃÅ¾¶³õ³öÃ©Â®ÂÔÖªÒ»¶þÆÕÆÕÍ¨Í¨Æ½Æ½³£³£Æ½µ­ÎÞÆæ´ÖÍ¨Æ¤Ã«°ëÉú²»ÊìµÇÌÃÈëÊÒÂÔÓÐÐ¡³ÉÒÑÓÐÐ¡³Éº×Á¢¼¦Èº¼ÝÇá¾ÍÊìÇà³öì¶À¶ÈÚ»á¹áÍ¨ÐÄÁìÉñ»áÂ¯»ð´¿ÇàÁËÈ»ì¶ÐØÂÔÓÐ´ó³ÉÒÑÓÐ´ó³É»íÈ»¹áÍ¨·Ç±ÈÑ°³£³öÀà°ÎÝÍº±ÓÐµÐÊÖ¼¼¹ÚÈºÐÛÉñºõÆä¼¼³öÉñÈë»¯°ÁÊÓÈºÐÛµÇ·åÔì¼«ÎÞÓëÂ×±ÈËùÏòÅûÃÒÒ»´ú×ÚÊ¦¾«Éî°ÂÃîÉñ¹¦¸ÇÊÀ¾ÙÊÀÎÞË«¾ªÊÀº§Ë×º³Ìì¶¯µØÕð¹Åîå½ñ³¬·²ÈëÊ¥ÍþÕòå¾Óî¿ÕÇ°¾øºóÌìÈËºÏÒ»Éî²Ø²»Â¶Éî²»¿É²â·µè±¹éÕæ
8E6E : ¼«ÇáºÜÇá²»Çá²»ÖØºÜÖØ¼«ÖØ

8E85 : »ù±¾ÄÚ¹¦ÿ»ù±¾È­½Åÿ»ù±¾½£Êõÿ»ù±¾µ¶·¨ÿ»ù±¾·¨Êõÿ»ù±¾ÕÈ·¨ÿ»ù±¾±Þ·¨ÿ»ù±¾Çá¹¦ÿ»ù±¾ÕÐ¼Üÿ¶ÁÊéÊ¶×Öÿ×¤ÑÕÊõÿ°ËØÔµ¶ÿ°ËØÔÓÎÉíÕÆÿ°ËÕó°ËØÔÕÆÿ»ìÔªÒ»Æø¹¦ÿÓÎÁúÉí·¨ÿ·ÉµûÉí·¨ÿ»¨ÍÅ±Þ·¨ÿÁøÒ¶µ¶·¨ÿÒ»¼ôÃ·»¨ÊÖÿÈý»¨¾Û¶¥ÿº×ÏèÉí·¨ÿºìÁ«½ÌÒåÿÂÒÅû·çÕÈ·¨ÿÌ«×æ³¤È­ÿÆÕÌìÍ¬¼Ãÿ·öÉ£ÈÌÊõÿÎÞ·¨È­ÿÎÞÓ°¶ÝÐÎÿ´¨·ãÒ»µ¶Á÷ÿÌ«¼«½£ÿÌ«¼«È­ÿÌ«¼«Éñ¹¦ÿÍòÁ÷¹éÒ»ÿÐþÐéµ¶·¨ÿÌ¤Ñ©ÎÞºÛÿÑ©É½ÄÚ¹¦ÿÈëÃÅÊ®ÈýÊ½ÿÑ©É½½£·¨ÿÑ©Ó°ÇÜÄÃÊÖÿÎåÇÝÏ·ÿöùÁéµ¶ÿ³àåêÁ¬È­ÿÃÍ»¢È­ÿÓ¥×¦¹¦ÿÁúÏó°ãÈô¹¦ÿÁé·ûÉí·¨ÿÌìÊ¦ÕÆ·¨ÿ¹ÈÒÂÐÄ·¨ÿÌìÊ¦ÕýµÀÿÍòÑ»ÖäÿÐþ±ùÖäÿÎåÀ×ÖäÿÁéÍ¨ÐÄ¾÷
;Skill type,weapon type(type 00È­½Å 01±øÈÐ 02Çá¹¦ 03ÄÚ¹¦ 04ÕÐ¼Ü 05ÖªÊ¶ 06·¨Êõ)(weapontype 00X 01µ¶ 06½£ 07ÕÈ 09±Þ)
9066 : 0300 0000 0106 0101 0600 0102 0109 0200 0400 0500 0500 0101 0000 0000 0300 0200 0200 0109 0101 0000 0300 0200 0500 0107 0000 0300 0300 0000 0200 0101 0106 0000 0300 0200 0101 0200 0300 0106 0106 0000 0200 0101 0000 0000 0000 0300 0200 0000 0300 0500 0600 0600 0600 0500

90D2 : °ËØÔµ¶Ó°ÕÆÿ°ËÕóµ¶Ó°ÕÆÿ»¯ÕÆÎªµ¶ÿ»¯ÕÆÎªµ¶ÿÂäÓ¢çÍ·×ÿÁøÀËÎÅÝºÿÈý»¨ÿÁ÷ÐÇ·ÉÖÀÿºìÁ«³öÊÀÿÀ×¶¯¾ÅÌì
 ÿÈÌ·¨Ó°·ÖÉíÿÈÌÊõÑÌÄ»ÿÐý·çÈýÁ¬Õ¶ÿÓ­·çÒ»µ¶Õ¶ÿ²ø×Ö¾öÿÁ¬×Ö¾öÿÈý»·Ì×ÔÂÿ¼·×Ö¾÷ÿÂÒ»·¾÷ÿÒõÑô¾÷
 ÿÕð×Ö¾÷ÿ±ùÐÄ¾öÿÑ©»¨Áù³öÿÉñµ¹¹íµøÿÉÁ¹âµ¯ÿÀ×»ðµ¯ÿÕÆÐÄÀ×ÿÁ¬ÖéÀ×ÿ»ðÑæµ¯ÿÁÒÑæÇò
 ÿÈýÃÁ»ðÿ»ð·ç±©ÿº®±ùµ¯ÿÎíÀâïÚÿ±©·çÑ©ÿ±ùÁè½£ÿ¶ñ»¢Ð¥ÿ±äÐÜÊõÿ±äÓ¥Êõÿ·ÉÓ¥ÕÙ»½
 ÿÑ©»¨Áù³ö
;Magic Base skill
921D : 0B 0B 0C 0D 11 12 14 17 19 19
 1A 1A 1D 1D 1E 1E 1E 1F 1F 1F
 1F 24 FE 27 34 34 34 34 32 32
 32 32 33 33 33 33 2B 2D 2C 2C
 26

9247 : LDA #$D1 			;->A
9249 : STA $A8 			;A->MEM
924B : LDA #$98 			;->A
924D : STA $A9 			;A->MEM
924F : LDX #$30 			;->X
9251 : LDY #$04 			;->Y
9253 : JSR $4A49  			;Ìø×ª×Ó³ÌÐò
9256 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
9259 : RTS 			;×Ó³ÌÐò·µ»Ø

925A : TSX 			;¶ÑÕ»->X
925B : TXA 			;X->A
925C : LDX #$00 			;->X
925E : STA $08CA,X 			;A->MEM
9261 : LDA #$EB 			;->A
9263 : STA $80 			;A->MEM
9265 : LDA #$06 			;->A
9267 : STA $81 			;A->MEM
9269 : JSR $9425  			;Ìø×ª×Ó³ÌÐò
926C : LDA $80 			;->A
926E : STA $55 			;A->MEM
9270 : LDA $81 			;->A
9272 : STA $56 			;A->MEM
9274 : LDA #$42 			;->A
9276 : STA $A8 			;A->MEM
9278 : LDA #$99 			;->A
927A : STA $A9 			;A->MEM  9942 
927C : LDX $4C 			;->X  playerX
927E : CPX $5A 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
9280 : BCC $9284 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9282 : LDX #$5A 			;->X
9284 : LDY #$0A 			;->Y
9286 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
9289 : LDA #$FF 			;->A
928B : RTS 			;×Ó³ÌÐò·µ»Ø

928C : LDX #$00 			;->X
928E : LDA $08CA,X 			;->A
9291 : TAX 			;A->X
9292 : TXS 			;X->¶ÑÕ»
9293 : LDA $86 			;->A
9295 : ASL 			;ËãÊõ×óÒÆ
9296 : TAY 			;A->Y
9297 : INY 			;Y++
9298 : LDA ($55),Y 			;->A
929A : RTS 			;×Ó³ÌÐò·µ»Ø

929B : JSR $934D  			;Ìø×ª×Ó³ÌÐò
929E : LDA $86 			;->A
92A0 : STA $2E8A 			;A->MEM
92A3 : LDA #$EB 			;->A
92A5 : STA $80 			;A->MEM
92A7 : LDA #$06 			;->A
92A9 : STA $81 			;A->MEM
92AB : JSR $93C8  			;Ìø×ª×Ó³ÌÐò
92AE : LDA $80 			;->A
92B0 : STA $55 			;A->MEM
92B2 : LDA $81 			;->A
92B4 : STA $56 			;A->MEM
92B6 : JSR $9398  			;Ìø×ª×Ó³ÌÐò
92B9 : JSR $A6F2  			;Ìø×ª×Ó³ÌÐò
92BC : RTS 			;×Ó³ÌÐò·µ»Ø

92BD : TSX 			;¶ÑÕ»->X
92BE : TXA 			;X->A
92BF : LDX #$00 			;->X
92C1 : STA $08CA,X 			;A->MEM
92C4 : JSR $9398  			;Ìø×ª×Ó³ÌÐò
92C7 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
92CA : RTS 			;×Ó³ÌÐò·µ»Ø

92CB : JSR $934D  			;Ìø×ª×Ó³ÌÐò
92CE : LDA $86 			;->A
92D0 : STA $2E8A 			;A->MEM
92D3 : LDA #$EB 			;->A
92D5 : STA $80 			;A->MEM
92D7 : LDA #$06 			;->A
92D9 : STA $81 			;A->MEM
92DB : JSR $93C8  			;Ìø×ª×Ó³ÌÐò
92DE : LDA $80 			;->A
92E0 : STA $55 			;A->MEM
92E2 : LDA $81 			;->A
92E4 : STA $56 			;A->MEM
92E6 : JSR $9398  			;Ìø×ª×Ó³ÌÐò
92E9 : LDA #$2E 			;->A
92EB : STA $A8 			;A->MEM
92ED : LDA #$99 			;->A
92EF : STA $A9 			;A->MEM  992E
92F1 : JSR $A6F2  			;Ìø×ª×Ó³ÌÐò
92F4 : RTS 			;×Ó³ÌÐò·µ»Ø

92F5 : TSX 			;¶ÑÕ»->X
92F6 : TXA 			;X->A
92F7 : LDX #$00 			;->X
92F9 : STA $08CA,X 			;A->MEM
92FC : JSR $9398  			;Ìø×ª×Ó³ÌÐò
92FF : LDA #$2E 			;->A
9301 : STA $A8 			;A->MEM
9303 : LDA #$99 			;->A
9305 : STA $A9 			;A->MEM  992E 
9307 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
930A : RTS 			;×Ó³ÌÐò·µ»Ø

930B : JSR $934D  			;Ìø×ª×Ó³ÌÐò
930E : LDA #$EB 			;->A
9310 : STA $80 			;A->MEM
9312 : LDA #$06 			;->A
9314 : STA $81 			;A->MEM
9316 : JSR $93B3  			;Ìø×ª×Ó³ÌÐò
9319 : LDA $80 			;->A
931B : STA $55 			;A->MEM
931D : LDA $81 			;->A
931F : STA $56 			;A->MEM
9321 : JSR $9398  			;Ìø×ª×Ó³ÌÐò
9324 : LDA #$38 			;->A
9326 : STA $A8 			;A->MEM
9328 : LDA #$99 			;->A
932A : STA $A9 			;A->MEM  9938 
932C : JSR $A6F2  			;Ìø×ª×Ó³ÌÐò
932F : RTS 			;×Ó³ÌÐò·µ»Ø

9330 : TSX 			;¶ÑÕ»->X
9331 : TXA 			;X->A
9332 : LDX #$00 			;->X
9334 : STA $08CA,X 			;A->MEM
9337 : JSR $9398  			;Ìø×ª×Ó³ÌÐò
933A : LDA #$38 			;->A
933C : STA $A8 			;A->MEM
933E : LDA #$99 			;->A
9340 : STA $A9 			;A->MEM  9938
9342 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
9345 : LDX #$44 			;->X
9347 : LDY $44 			;->Y
9349 : INT $9E31      ;show pt number
934C : RTS 			;×Ó³ÌÐò·µ»Ø

934D : JSR $4A58  			;Ìø×ª×Ó³ÌÐò
9350 : CLC 			;Çå½øÎ»±êÖ¾
9351 : LDA $0456 			;->A
9354 : ADC #$03 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
9356 : STA $80 			;A->MEM
9358 : LDX $80 			;->X
935A : LDY $44 			;->Y
935C : INT $9E31      ;show pt number
935F : RTS 			;×Ó³ÌÐò·µ»Ø
;item ½ÓÊÕ
9360 : INT $320F      ;ºìÍâinit
9363 : LDA #$AD 			;->A
9365 : STA $A6 			;A->MEM
9367 : LDA #$77 			;->A
9369 : STA $A7 			;A->MEM
936B : LDA #$8B 			;->A
936D : STA $A4 			;A->MEM
936F : LDA #$2E 			;->A
9371 : STA $A5 			;A->MEM
9373 : LDA #$01 			;->A
9375 : STA $302F 			;A->MEM
9378 : INT $320E      ;ºìÍâ?
937B : BCS $938D 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
937D : LDA $2E8B 			;->A
9380 : JSR $982F  			;Ìø×ª×Ó³ÌÐò;add item
9383 : BCC $938D 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9385 : LDA #$BC 			;->A
9387 : STA $A6 			;A->MEM
9389 : LDA #$77 			;->A
938B : STA $A7 			;A->MEM
938D : JSR $94A2  			;Ìø×ª×Ó³ÌÐò
9390 : INT $3210      ;ºìÍâshutdown
9393 : RTS 			;×Ó³ÌÐò·µ»Ø

9394 : JSR $4A58  			;Ìø×ª×Ó³ÌÐò
9397 : RTS 			;×Ó³ÌÐò·µ»Ø

9398 : LDA $55 			;->A
939A : STA $80 			;A->MEM
939C : LDA $56 			;->A
939E : STA $81 			;A->MEM
93A0 : LDA #$24 			;->A
93A2 : STA $A8 			;A->MEM
93A4 : LDA #$99 			;->A
93A6 : STA $A9 			;A->MEM
93A8 : CLC 			;Çå½øÎ»±êÖ¾
93A9 : LDA $0453 			;->A
93AC : ADC #$05 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
93AE : TAX 			;A->X
93AF : LDY $0454 			;->Y
93B2 : RTS 			;×Ó³ÌÐò·µ»Ø

93B3 : LDA #$04 			;->A
93B5 : STA $2E8A 			;A->MEM
93B8 : JSR $93C8  			;Ìø×ª×Ó³ÌÐò
93BB : LDA #$05 			;->A
93BD : STA $2E8A 			;A->MEM
93C0 : LDA #$00 			;->A
93C2 : STA $58 			;A->MEM
93C4 : JSR $93D7  			;Ìø×ª×Ó³ÌÐò
93C7 : RTS 			;×Ó³ÌÐò·µ»Ø

93C8 : LDA $80 			;->A
93CA : STA $82 			;A->MEM
93CC : LDA $81 			;->A
93CE : STA $83 			;A->MEM
93D0 : LDA #$00 			;->A
93D2 : STA $58 			;A->MEM
93D4 : STA $59 			;A->MEM
93D6 : TAY 			;A->Y
93D7 : LDX $58 			;->X
93D9 : LDA $2F5E,X 			;->A
93DC : BEQ $940C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
93DE : LDA $2F5D,X 			;->A
93E1 : AND #$7F 			;A¡Ä$n¡úA
93E3 : JSR $9889  			;Ìø×ª×Ó³ÌÐò;load item attrib
93E6 : LDA $2E8A 			;->A
93E9 : LDX #$00 			;->X
93EB : CMP ($80,X) 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
93ED : BNE $940C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
93EF : INC $59 			;MEM++
93F1 : LDX $58 			;->X
93F3 : LDA $2F5D,X 			;->A
93F6 : INY 			;Y++
93F7 : STA ($82),Y 			;A->MEM
93F9 : LDA $2E8A 			;->A
93FC : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
93FE : BEQ $9406 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9400 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9402 : BEQ $9406 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9404 : BNE $940C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9406 : LDA $2F5E,X 			;->A
9409 : INY 			;Y++
940A : STA ($82),Y 			;A->MEM
940C : INC $58 			;MEM++
940E : INC $58 			;MEM++
9410 : LDA $58 			;->A
9412 : CMP #$28 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9414 : BCC $93D7 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9416 : LDA $59 			;->A
9418 : LDX #$00 			;->X
941A : STA ($82,X)  			;A->MEM
941C : LDA $82 			;->A
941E : STA $80 			;A->MEM
9420 : LDA $83 			;->A
9422 : STA $81 			;A->MEM
9424 : RTS 			;×Ó³ÌÐò·µ»Ø

9425 : LDA #$00 			;->A
9427 : TAX 			;A->X
9428 : TAY 			;A->Y
9429 : LDA $2F5E,X 			;->A
942C : BEQ $943A 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
942E : LDA $2F5D,X 			;->A
9431 : INY 			;Y++
9432 : STA ($80),Y 			;A->MEM
9434 : LDA $2F5E,X 			;->A
9437 : INY 			;Y++
9438 : STA ($80),Y 			;A->MEM
943A : INX 			;X++
943B : INX 			;X++
943C : CPX $28 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
943E : BCC $9429 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9440 : TYA 			;Y->A
9441 : LSR 			;AÂß¼­ÓÒÒÆ
9442 : LDY #$00 			;->Y
9444 : STA ($80),Y 			;A->MEM
9446 : RTS 			;×Ó³ÌÐò·µ»Ø

9447 : LDA $86 			;->A
9449 : JMP $944F 			;

944C : LDA $86 			;->A
944E : ASL 			;ËãÊõ×óÒÆ
944F : TAY 			;A->Y
9450 : INY 			;Y++
9451 : LDA ($55),Y 			;->A
9453 : STA $2E8B 			;A->MEM
9456 : AND #$7F 			;A¡Ä$n¡úA
9458 : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
945A : BNE $9462 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
945C : INT $3116      ;×ÔÖÆÎäÆ÷ÃèÊö
945F : JMP $94A2 			;
9462 : CMP #$4E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9464 : BNE $9467 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9466 : RTS 			;×Ó³ÌÐò·µ»Ø

;item desc
9467 : CMP #$4F 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9469 : BCC $949F 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø <79
946B : CMP #$57 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
946D : BCS $948A 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø <87
946F : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9470 : LDX #$31 			;->X
9472 : LDA $9516,X 			;->A
9475 : STA $2D7F,X 			;A->MEM
9478 : DEX 			;X--
9479 : BNE $9472 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
947B : PLA 			;A³öÕ»
947C : JSR $94E9  			;Ìø×ª×Ó³ÌÐò load mapitem desc
947F : LDA #$80 			;->A
9481 : STA $A6 			;A->MEM
9483 : LDA #$2D 			;->A
9485 : STA $A7 			;A->MEM  2D80
9487 : JMP $94A2 			;
948A : LDX #$04 			;->X
948C : LDA #$00 			;->A
948E : STA $2D7F,X 			;A->MEM
9491 : DEX 			;X--
9492 : BNE $948C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9494 : LDA #$80 			;->A
9496 : STA $A6 			;A->MEM
9498 : LDA #$2D 			;->A
949A : STA $A7 			;A->MEM
949C : JMP $94A2 			;
949F : INT $9F0F      ;load item desc
94A2 : CLC 			;Çå½øÎ»±êÖ¾
94A3 : LDA $0456 			;->A
94A6 : ADC #$03 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
94A8 : STA $80 			;A->MEM
94AA : LDX $80 			;->X
94AC : LDY $44 			;->Y
94AE : INT $9E31        ;show pt number
94B1 : LDX #$00 			;->X
94B3 : LDY $0456 			;->Y
94B6 : INY 			;Y++
94B7 : INY 			;Y++
94B8 : INY 			;Y++
94B9 : DEC $42 			;MEM--
94BB : JSR $A495  			;Ìø×ª×Ó³ÌÐò
94BE : INC $42 			;MEM++
94C0 : LDA ($A6),Y 			;->A
94C2 : BEQ $94E8 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
94C4 : TYA 			;Y->A
94C5 : CLC 			;Çå½øÎ»±êÖ¾
94C6 : ADC $A6 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
94C8 : STA $A6 			;A->MEM
94CA : BCC $94CE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
94CC : INC $A7 			;MEM++
94CE : LDA #$3E 			;->A
94D0 : STA $92 			;A->MEM
94D2 : LDX #$19 			;->X
94D4 : LDY $0442 			;->Y
94D7 : INY 			;Y++
94D8 : INY 			;Y++
94D9 : INY 			;Y++
94DA : JSR $AF97  			;Ìø×ª×Ó³ÌÐò
94DD : JSR $80DD  			;Ìø×ª×Ó³ÌÐò
94E0 : CMP #$16 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
94E2 : BEQ $94A2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
94E4 : ORA #$80 			;A¡Å$n¡úA
94E6 : STA $C7 			;A->MEM
94E8 : RTS 			;×Ó³ÌÐò·µ»Ø

;load mapitem desc
94E9 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
94EA : SBC #$4F 			;A-MEM-C->A
94EC : BNE $94EF 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
94EE : RTS 			;×Ó³ÌÐò·µ»Ø

;load mapitem desc
94EF : ASL 			;AËãÊõ×óÒÆ
94F0 : ASL 			;AËãÊõ×óÒÆ
94F1 : TAX 			;A->X
94F2 : LDA $9548,X 			;->A
94F5 : STA $2D88 			;A->MEM
94F8 : STA $2DA3 			;A->MEM
94FB : LDA $9549,X 			;->A
94FE : STA $2D89 			;A->MEM
9501 : STA $2DA4 			;A->MEM
9504 : LDA $954A,X 			;->A
9507 : STA $2D8A 			;A->MEM
950A : STA $2DA5 			;A->MEM
950D : LDA $954B,X 			;->A
9510 : STA $2D8B 			;A->MEM
9513 : STA $2DA6 			;A->MEM
9516 : RTS 			;×Ó³ÌÐò·µ»Ø
9517 : ÕâÊÇÒ»ÕÅÇàÁúÌ³µÄµØÍ¼,ÓÐÁËËü²ÅÄÜµ½´ïÇàÁúÌ³µÄËùÔÚ
9547 : ÇàÁúµØî¸ÖìÈ¸É½á°ÐþÎä×ÏÉ·Ìì»Õ°×»¢

9569 : ORA ($A2,X) 			;A¡Å($A2)¡úA

956B :  C  ;???

956C : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
956F : LDA $80 			;->A
9571 : CLC 			;Çå½øÎ»±êÖ¾
9572 : ADC #$05 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
9574 : TAY 			;A->Y
9575 : LDX #$64 			;->X
9577 : LDA #$0B 			;->A
9579 : STA $A8 			;A->MEM
957B : LDA #$99 			;->A
957D : STA $A9 			;A->MEM  990B Ê¹ÓÃ¶ªÆú·¢ËÍ
957F : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
9582 : BCS $9587 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9584 : JMP $962E 			;use item
9587 : LDX #$00 			;->X
9589 : LDA $08CA,X 			;->A
958C : TAX 			;A->X
958D : TXS 			;X->¶ÑÕ»
958E : RTS 			;×Ó³ÌÐò·µ»Ø
;delete item
958F : LDA #$4A 			;->A
9591 : STA $A6 			;A->MEM
9593 : LDA #$99 			;->A
9595 : STA $A7 			;A->MEM  994A É¾³ýÂð?y/n
9597 : LDA #$55 			;->A
9599 : STA $043F 			;A->MEM
959C : LDA #$1E 			;->A
959E : STA $0440 			;A->MEM
95A1 : LDA #$91 			;->A
95A3 : STA $0441 			;A->MEM
95A6 : LDA #$2E 			;->A
95A8 : STA $0442 			;A->MEM
95AB : JSR $A408  			;Ìø×ª×Ó³ÌÐò draw
95AE : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
95B1 : CMP #$79 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1) Y
95B3 : BNE $95C4 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
95B5 : LDA $2E8B 			;->A
95B8 : BMI $95C4 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
95BA : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
95BC : BEQ $95C4 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
95BE : JSR $98BB  			;Ìø×ª×Ó³ÌÐò item exist&get item package id->X
95C1 : DEC $2F5E,X 			;MEM--
95C4 : LDX #$00 			;->X
95C6 : LDA $08CA,X 			;->A
95C9 : TAX 			;A->X
95CA : TXS 			;X->¶ÑÕ»
95CB : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
95CC : RTS 			;×Ó³ÌÐò·µ»Ø

;·¢ËÍÎïÆ·
95CD : INT $320F      ;ºìÍâinit
95D0 : LDA #$56 			;->A
95D2 : STA $A6 			;A->MEM
95D4 : LDA #$99 			;->A
95D6 : STA $A7 			;A->MEM  9956ÎïÆ·´«ËÍÖÐ
95D8 : JSR $94A2  			;Ìø×ª×Ó³ÌÐò
95DB : LDA $2E8B 			;->A
95DE : BMI $960F 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
95E0 : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
95E2 : BEQ $960F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
95E4 : LDA #$8B 			;->A
95E6 : STA $A4 			;A->MEM
95E8 : LDA #$2E 			;->A  2E8B
95EA : STA $A5 			;A->MEM
95EC : LDA #$01 			;->A  01
95EE : STA $302F 			;A->MEM
95F1 : INT $320D      ;ºìÍâ?
95F4 : LDA #$65 			;->A
95F6 : STA $A6 			;A->MEM
95F8 : LDA #$99 			;->A
95FA : STA $A7 			;A->MEM  9965ÎïÆ·´«ËÍÊ§°Ü
95FC : BCS $960F 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
95FE : LDA #$73 			;->A
9600 : STA $A6 			;A->MEM
9602 : LDA #$99 			;->A
9604 : STA $A7 			;A->MEM  9973ÎïÆ·´«ËÍ³É¹¦
9606 : LDA $2E8B 			;->A
9609 : JSR $98BB  			;Ìø×ª×Ó³ÌÐò item exist&get item package id->X
960C : DEC $2F5E,X 			;MEM--
960F : JSR $94A2  			;Ìø×ª×Ó³ÌÐò
9612 : INT $3210      ;ºìÍâshutdown
9615 : LDX #$00 			;->X
9617 : LDA $08CA,X 			;->A
961A : TAX 			;A->X
961B : TXS 			;X->¶ÑÕ»
961C : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
961D : RTS 			;×Ó³ÌÐò·µ»Ø

961E : PLA 			;A³öÕ»
961F : PLA 			;A³öÕ»
9620 : PLA 			;A³öÕ»
9621 : PLA 			;A³öÕ»
9622 : PLA 			;A³öÕ»
9623 : PLA 			;A³öÕ»
9624 : PLA 			;A³öÕ»
9625 : PLA 			;A³öÕ»
9626 : PLA 			;A³öÕ»
9627 : PLA 			;A³öÕ»
9628 : PLA 			;A³öÕ»
9629 : PLA 			;A³öÕ»
962A : PLA 			;A³öÕ»
962B : PLA 			;A³öÕ»
962C : CLC 			;Çå½øÎ»±êÖ¾
962D : RTS 			;×Ó³ÌÐò·µ»Ø
;use item
962E : LDA $2E8B 			;->A
9631 : JSR $98BB  			;Ìø×ª×Ó³ÌÐò item exist&get item package id->X
9634 : LDA $2E8B 			;->A
9637 : AND #$7F 			;A¡Ä$n¡úA
9639 : JSR $9889  			;Ìø×ª×Ó³ÌÐò ;load item attrib
963C : LDY #$00 			;->Y
963E : LDA ($80),Y 			;->A
9640 : STA $2E8A 			;A->MEM ÅÐ¶ÏÎïÆ·ÀàÐÍ
9643 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9645 : BEQ $9660 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9647 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9649 : BEQ $966B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
964B : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
964D : BEQ $9676 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
964F : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9651 : BEQ $9681 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9653 : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9655 : BEQ $968C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9657 : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9659 : BEQ $9697 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
965B : LDA #$07 			;->A
965D : JMP $B0BE 			;RTS return
9660 : JSR $969F  			;Ìø×ª×Ó³ÌÐò  eat item
9663 : LDX #$00 			;->X
9665 : LDA $08CA,X 			;->A
9668 : TAX 			;A->X
9669 : TXS 			;X->¶ÑÕ»
966A : RTS 			;×Ó³ÌÐò·µ»Ø
;use item
966B : JSR $96D2  			;Ìø×ª×Ó³ÌÐò
966E : LDX #$00 			;->X
9670 : LDA $08CA,X 			;->A
9673 : TAX 			;A->X
9674 : TXS 			;X->¶ÑÕ»
9675 : RTS 			;×Ó³ÌÐò·µ»Ø
;use item
9676 : JSR $9731  			;Ìø×ª×Ó³ÌÐò
9679 : LDX #$00 			;->X
967B : LDA $08CA,X 			;->A
967E : TAX 			;A->X
967F : TXS 			;X->¶ÑÕ»
9680 : RTS 			;×Ó³ÌÐò·µ»Ø
;use item
9681 : JSR $978D  			;Ìø×ª×Ó³ÌÐò
9684 : LDX #$00 			;->X
9686 : LDA $08CA,X 			;->A
9689 : TAX 			;A->X
968A : TXS 			;X->¶ÑÕ»
968B : RTS 			;×Ó³ÌÐò·µ»Ø
;use item
968C : JSR $981F  			;Ìø×ª×Ó³ÌÐò
968F : LDX #$00 			;->X
9691 : LDA $08CA,X 			;->A
9694 : TAX 			;A->X
9695 : TXS 			;X->¶ÑÕ»
9696 : RTS 			;×Ó³ÌÐò·µ»Ø
;use item
9697 : LDX #$00 			;->X
9699 : LDA $08CA,X 			;->A
969C : TAX 			;A->X
969D : TXS 			;X->¶ÑÕ»
969E : RTS 			;×Ó³ÌÐò·µ»Ø
;eat item
969F : LDA $2EC8 			;->A
96A2 : CMP $2ECA 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1) foodFull
96A5 : BNE $96AD 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
96A7 : LDA $2EC7 			;->A
96AA : CMP $2EC9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1) foodFull
96AD : BCS $96D1 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
96AF : DEC $2F5E,X 			;MEM--
96B2 : LDY #$02 			;->Y
96B4 : LDA ($80),Y 			;->A
96B6 : CLC 			;Çå½øÎ»±êÖ¾
96B7 : ADC $2EC7 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA food
96BA : STA $2EC7 			;A->MEM food
96BD : BCC $96C2 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
96BF : INC $2EC8 			;MEM++
96C2 : INY 			;Y++
96C3 : LDA ($80),Y 			;->A
96C5 : CLC 			;Çå½øÎ»±êÖ¾
96C6 : ADC $2ECB 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA water
96C9 : STA $2ECB 			;A->MEM water
96CC : BCC $96D1 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
96CE : INC $2ECC 			;MEM++
96D1 : RTS 			;×Ó³ÌÐò·µ»Ø
;eat Ò©Îï
96D2 : LDY #$01 			;->Y
96D4 : LDA ($80),Y 			;->A
96D6 : BEQ $96DD 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
96D8 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
96DA : BEQ $971D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
96DC : RTS 			;×Ó³ÌÐò·µ»Ø
;eat Ò©ÎïHP
96DD : LDA $2EC5 			;->A
96E0 : CMP $2EBF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
96E3 : BNE $96EB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
96E5 : LDA $2EC4 			;->A
96E8 : CMP $2EBE 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
96EB : BCS $971C 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
96ED : DEC $2F5E,X 			;MEM--
96F0 : LDY #$02 			;->Y
96F2 : LDA ($80),Y 			;->A
96F4 : CLC 			;Çå½øÎ»±êÖ¾
96F5 : ADC $2EC4 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA hpfull
96F8 : STA $2EC4 			;A->MEM hpfull
96FB : BCC $9700 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
96FD : INC $2EC5 			;MEM++ hpfull
9700 : LDA $2EBF 			;->A
9703 : CMP $2EC5 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9706 : BNE $970E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9708 : LDA $2EBE 			;->A
970B : CMP $2EC4 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
970E : BCS $971C 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9710 : LDA $2EBE 			;->A
9713 : STA $2EC4 			;A->MEM
9716 : LDA $2EBF 			;->A
9719 : STA $2EC5 			;A->MEM
971C : RTS 			;×Ó³ÌÐò·µ»Ø
;eat Ò©ÎïFP
971D : DEC $2F5E,X 			;MEM--
9720 : LDY #$02 			;->Y
9722 : LDA ($80),Y 			;->A
9724 : CLC 			;Çå½øÎ»±êÖ¾
9725 : ADC $2EC2 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA fplevel
9728 : STA $2EC2 			;A->MEM
972B : BCC $9730 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
972D : INC $2EC3 			;MEM++ fplevel
9730 : RTS 			;×Ó³ÌÐò·µ»Ø

9731 : LDA $2E8B 			;->A
9734 : AND #$7F 			;A¡Ä$n¡úA
9736 : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9738 : BNE $973D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
973A : JMP $9782 			;

973D : BIT $2EC6 			;A¡Ä($n2n1)
9740 : BPL $9748 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9742 : BIT $2E8B 			;A¡Ä($n2n1)
9745 : BMI $9765 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9747 : RTS 			;×Ó³ÌÐò·µ»Ø

9748 : LDA $2E8B 			;->A
974B : EOR #$80 			;AÒì»ò($n)¡úA
974D : STA $2F5D,X 			;A->MEM
9750 : STA $2EC6 			;A->MEM
9753 : LDY #$02 			;->Y
9755 : CLC 			;Çå½øÎ»±êÖ¾
9756 : LDA $2EAE 			;->A   ÃüÖÐ
9759 : ADC ($80),Y 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
975B : BCC $975F 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
975D : LDA #$FF 			;->A
975F : STA $2EAE 			;A->MEM   ÃüÖÐ
9762 : JMP $97D7 			;

9765 : LDA $2E8B 			;->A
9768 : EOR #$80 			;AÒì»ò($n)¡úA
976A : STA $2F5D,X 			;A->MEM
976D : STA $2EC6 			;A->MEM
9770 : LDY #$02 			;->Y
9772 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
9773 : LDA $2EAE 			;->A   ÃüÖÐ
9776 : SBC ($80),Y 			;A-MEM-C->A
9778 : BCS $977C 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
977A : LDA #$00 			;->A
977C : STA $2EAE 			;A->MEM   ÃüÖÐ
977F : JMP $97FB 			;

9782 : INT $3117      ;page2 6D54
9785 : LDX #$00 			;->X
9787 : LDA $08CA,X 			;->A
978A : TAX 			;A->X
978B : TXS 			;X->¶ÑÕ»
978C : RTS 			;×Ó³ÌÐò·µ»Ø

978D : LDY #$01 			;->Y
978F : LDA ($80),Y 			;->A
9791 : TAY 			;A->Y
9792 : LDA $2F52,Y 			;->A
9795 : BPL $979D 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9797 : BIT $2E8B 			;A¡Ä($n2n1)
979A : BMI $97BA 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
979C : RTS 			;×Ó³ÌÐò·µ»Ø

979D : LDA $2E8B 			;->A
97A0 : EOR #$80 			;AÒì»ò($n)¡úA
97A2 : STA $2F5D,X 			;A->MEM
97A5 : STA $2F52,Y 			;A->MEM
97A8 : LDY #$02 			;->Y
97AA : CLC 			;Çå½øÎ»±êÖ¾
97AB : LDA $2EAF 			;->A   ÉÁ±Ü
97AE : ADC ($80),Y 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
97B0 : BCC $97B4 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
97B2 : LDA #$FF 			;->A
97B4 : STA $2EAF 			;A->MEM   ÉÁ±Ü
97B7 : JMP $97D7 			;

97BA : LDA $2E8B 			;->A
97BD : EOR #$80 			;AÒì»ò($n)¡úA
97BF : STA $2F5D,X 			;A->MEM
97C2 : STA $2F52,Y 			;A->MEM
97C5 : LDY #$02 			;->Y
97C7 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
97C8 : LDA $2EAF 			;->A   ÉÁ±Ü
97CB : SBC ($80),Y 			;A-MEM-C->A
97CD : BCS $97D1 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
97CF : LDA #$00 			;->A
97D1 : STA $2EAF 			;A->MEM  ÉÁ±Ü
97D4 : JMP $97FB 			;

97D7 : INY 			;Y++
97D8 : CLC 			;Çå½øÎ»±êÖ¾
97D9 : LDA $2EAC 			;->A  ¹¥»÷
97DC : ADC ($80),Y 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
97DE : BPL $97E2 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
97E0 : LDA #$00 			;->A  ¹¥»÷
97E2 : STA $2EAC 			;A->MEM
97E5 : INY 			;Y++
97E6 : CLC 			;Çå½øÎ»±êÖ¾

97E7 : LDA $2EAD 			;->A  ·ÀÓù
97EA : ADC ($80),Y 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
97EC : BPL $97F0 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
97EE : LDA #$00 			;->A
97F0 : STA $2EAD 			;A->MEM   ·ÀÓù
97F3 : LDX #$00 			;->X
97F5 : LDA $08CA,X 			;->A
97F8 : TAX 			;A->X
97F9 : TXS 			;X->¶ÑÕ»
97FA : RTS 			;×Ó³ÌÐò·µ»Ø

97FB : INY 			;Y++
97FC : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
97FD : LDA $2EAC 			;->A  ¹¥»÷
9800 : SBC ($80),Y 			;A-MEM-C->A
9802 : BPL $9806 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9804 : LDA #$00 			;->A
9806 : STA $2EAC 			;A->MEM  ¹¥»÷
9809 : INY 			;Y++
980A : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
980B : LDA $2EAD 			;->A   ·ÀÓù
980E : SBC ($80),Y 			;A-MEM-C->A
9810 : BPL $9814 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9812 : LDA #$00 			;->A
9814 : STA $2EAD 			;A->MEM   ·ÀÓù
9817 : LDX #$00 			;->X
9819 : LDA $08CA,X 			;->A
981C : TAX 			;A->X
981D : TXS 			;X->¶ÑÕ»
981E : RTS 			;×Ó³ÌÐò·µ»Ø

;read book
981F : LDY #$02 			;->Y
9821 : LDA ($80),Y 			;->A
9823 : TAX 			;A->X
9824 : INY 			;Y++
9825 : LDA ($80),Y 			;->A
9827 : STX $80 			;X->MEM
9829 : STA $81 			;A->MEM
982B : JSR $839D  			;Ìø×ª×Ó³ÌÐò  ReadBook
982E : RTS 			;×Ó³ÌÐò·µ»Ø
;add item
982F : LDA $2E8B 			;->A
9832 : JSR $98BB  			;Ìø×ª×Ó³ÌÐò item exist&get item package id->X
9835 : BCC $9849 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9837 : LDA $2E8B 			;->A
983A : JSR $9889  			;Ìø×ª×Ó³ÌÐò  ;load item attrib
983D : LDY #$00 			;->Y
983F : LDA ($80),Y 			;->A
9841 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9843 : BEQ $985E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9845 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9847 : BEQ $985E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9849 : LDA $2E8B 			;->A
984C : LDX #$00 			;->X
984E : LDY $2F5E,X 			;->Y
9851 : BEQ $985B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø gain one item
9853 : INX 			;X++
9854 : INX 			;X++
9855 : CPX $28 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
9857 : BCC $984E 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9859 : CLC 			;Çå½øÎ»±êÖ¾
985A : RTS 			;×Ó³ÌÐò·µ»Ø
;gain one item
985B : STA $2F5D,X 			;A->MEM
985E : INC $2F5E,X 			;MEM++
9861 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
9862 : RTS 			;×Ó³ÌÐò·µ»Ø
;get item name
9863 : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9865 : BEQ $9877 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9867 : CMP #$4E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9869 : BEQ $9880 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
986B : LDX #$81 			;->X
986D : STX $80 			;X->MEM
986F : LDX #$99 			;->X
9871 : STX $81 			;X->MEM  9981
9873 : JSR $B0A1  			;Ìø×ª×Ó³ÌÐò
9876 : RTS 			;×Ó³ÌÐò·µ»Ø
;×ÔÖÆÎäÆ÷name
9877 : LDA #$99 			;->A
9879 : STA $80 			;A->MEM
987B : LDA #$31 			;->A
987D : STA $81 			;A->MEM  3199
987F : RTS 			;×Ó³ÌÐò·µ»Ø
;×ÔÖÆ×°±¸name
9880 : LDA #$A2 			;->A 
9882 : STA $80 			;A->MEM
9884 : LDA #$31 			;->A
9886 : STA $81 			;A->MEM  31A2
9888 : RTS 			;×Ó³ÌÐò·µ»Ø
;load item attrib ->80
9889 : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
988B : BEQ $98B1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø ×ÔÖÆÎäÆ÷
988D : CMP #$4E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
988F : BEQ $98BA 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø ×ÔÖÆ×°±¸
9891 : STA $80 			;A->MEM
9893 : LDA #$00 			;->A
9895 : STA $81 			;A->MEM
9897 : ASL $80 			;ËãÊõ×óÒÆ
9899 : ROL $81 			;Ñ­»·×óÒÆ
989B : ASL $80 			;ËãÊõ×óÒÆ
989D : ROL $81 			;Ñ­»·×óÒÆ
989F : ASL $80 			;ËãÊõ×óÒÆ
98A1 : ROL $81 			;Ñ­»·×óÒÆ addr * 8
98A3 : CLC 			;Çå½øÎ»±êÖ¾
98A4 : LDA $80 			;->A
98A6 : ADC #$07 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
98A8 : STA $80 			;A->MEM
98AA : LDA $81 			;->A
98AC : ADC #$9C 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
98AE : STA $81 			;A->MEM
98B0 : RTS 			;×Ó³ÌÐò·µ»Ø
;×ÔÖÆÎäÆ÷attrib
98B1 : LDA #$AB 			;->A
98B3 : STA $80 			;A->MEM
98B5 : LDA #$31 			;->A
98B7 : STA $81 			;A->MEM  31AB
98B9 : RTS 			;×Ó³ÌÐò·µ»Ø
98BA : RTS 			;×Ó³ÌÐò·µ»Ø

; item exist&get item package id->X A:ItemID
98BB : LDX #$00 			;->X
98BD : LDY $2F5E,X 			;->Y ItemNum
98C0 : BEQ $98C7 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
98C2 : CMP $2F5D,X 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1) ItemID
98C5 : BEQ $98CF 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
98C7 : INX 			;X++
98C8 : INX 			;X++
98C9 : CPX $28 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
98CB : BCC $98BD 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
98CD : CLC 			;Çå½øÎ»±êÖ¾
98CE : RTS 			;×Ó³ÌÐò·µ»Ø
98CF : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
98D0 : RTS 			;×Ó³ÌÐò·µ»Ø

98D1 : RTI 			;ÖÐ¶Ï·µ»Ø

98D2 : 06 51 00 BD 92 9B 92 BD 92 9B 92 F5 92 CB
98E0 : 92 F5 92 CB 92 30 93 0B 93 60 93 94 93
98ED : Ê³ÎïÿÒ©ÎïÿÎäÆ÷ÿ×°±¸ÿÆäËüÿ½ÓÊÕ

990B : 00 03 81 02 1E 96 8F 95 CD 95
9915 : Ê¹ÓÃÿ¶ªÆúÿ·¢ËÍ

9924 : FA80510268954C948199D8805107689547948199D8805102689547948199BA80B1018C92

9948 : 81 99

994a : É¾³ýÂð?y/n
9956 : ÎïÆ·´«ËÍÖÐ...
9965 : ÎïÆ·´«ËÍÊ§°Ü
9973 : ÎïÆ·´«ËÍ³É¹¦
;Item names
9981 : noneÿ¿¾¼¦ÍÈÿ°ü×ÓÿËÖÓÍ²èÿôä´ä¶¹¸¯ÿÖíÈâÿÌÇºùÂ«ÿ°×Óñ¶¹¸¯ÿ½ð´´Ò©
ÿÉú¼¡¸àÿº£ÍâÏÉµ¤ÿ¸Öµ¶ÿ²Ëµ¶ÿØ°Ê×ÿÌ´ÏãÉÈÿ»¤ÊÖ¹³ÿÉ±Öíµ¶ÿ³¤½£ÿ·ìÒÂÕë
ÿÂéÉþÿÔ°¹¤¼ôÿ¸ÖÕÈÿ³¤±Þÿ¹íÍ·µ¶ÿ×Ï½ðµ¶ÿÀæ»¨±Þÿ·÷³¾ÿÁøÓñµ¶ÿºì·÷
ÿ°×ÓñÏôÿ»¨µûÉÈÿºÓëà¶¾ÿ¾«¸ÖÕÈÿÇà·æ½£ÿÌú¹ÕÿÌú½£ÿ³þåú½£ÿÄý±Ì½£ÿÏ¸½£
ÿºÚÒÂÿÀÏ»¨¾µÿÂÌÄµµ¤ÿ²¼ÒÂÿ¾«ÖÆ²¼ÒÂÿÆ¤±³ÐÄÿ·Ûºì³ñÉÀÿºì¶Å¾éÿÐå»¨Ð¡Ð¬ÿ°×Ãµ¹å
ÿ²è»¨ÿÇá»¨³ñÉÀÿÈ÷»¨¶ÐÐ¬ÿ±¦À¶¶ÐÉÀÿÒ¹ÐÐÒÂÿäËË®ÂÞÒÂÿÇáÉ´³¤È¹ÿºÚÑÛÕÖÿÅû·çÿÎäµÀ·þ
ÿµÀÅÛÿ°×ÂÞÅÛÿ³ñÅÛÿ½ðËø×Ó¼×ÿ½µÄ§ÅÛÿÄÞºçÓðÒÂÿÑ©É½°×ÅÛÿÁÁÒø¼×ÿ±ªÆ¤ÿÈ­¾­
ÿ½¹»ÆÖ½Ò³ÿ¾ªÌìµ¶Æ×ÿÊÖ³­±¾ÿÃ«±Êÿµö¸ËÿÀðÓãÿÅ£Æ¤Êø´øÿÓãÂ¨ÿ_ÿ_ÿÇàÁúÌ³µØÍ¼ÿµØî¸Ì³µØÍ¼
ÿÖìÈ¸Ì³µØÍ¼ÿÉ½á°Ì³µØÍ¼ÿÐþÎäÌ³µØÍ¼ÿ×ÏÉ·Ì³µØÍ¼ÿÌì»ÕÌ³µØÍ¼ÿ°×»¢Ì³µØÍ¼ÿÊ¯ÁÏÿÍõÉßµ¨ÿÍõÉßÆ¤ÿÊÞÍõÁîÅÆ
ÿÃ©É½ÁîÅÆ
9C06 : ff
;Item attributes
;type£¬£¬£¬£¬£¬£¬cost(2Bytes low high)
9C07 : 00 00 00 00 00 00 00 00
9C0E : 00 00 A0 00 00 00 1e 00
9c17 : 00 00 78 00 00 00 14 00
9c1F : 00 00 B4 C8 00 00 96 00
       00 00 A0 00 00 00 37 00
       00 00 F0 00 00 00 64 00
       00 00 3C 00 00 00 32 00
       00 00 50 00 00 00 23 00
       01 00 32 00 00 00 D0 07
       01 00 50 00 00 00 B8 0B
       01 01 01 00 00 00 B8 0B
       02 01 19 00 FF 00 58 02
       02 01 11 00 00 00 64 00
       02 06 05 00 00 00 32 00
       02 06 0F 00 00 00 DC 05
       02 01 37 05 FD 00 30 75
       02 01 19 00 00 00 E8 03
       02 06 19 00 FF 00 58 02
       02 06 0A 00 00 00 46 00
       02 09 01 00 00 00 0A 00
       02 06 0F 00 00 00 E8 03
       02 07 1C 00 FE 00 BC 02
       02 09 14 00 00 00 F4 01
       02 01 23 03 00 00 20 03
       02 01 37 00 FE 00 20 4E
       02 09 46 00 FE 00 A0 86
       02 09 23 00 00 00 20 4E
       02 01 28 00 FF 00 20 4E
       02 09 37 00 FF 00 40 9C
       02 06 0F 00 00 00 7C 15
       020123000000F824
       02013700FE0050C3
       0207230000008813
       020641000000581B
       020714000000E803
       02061E000000E803
       02062D0000001027
       02063C0000003075
       02061E000000BC02
       03022D00030050C3
       0300000000006400
       0300000000001400
       0302050000000800
       03020F000000F401
       03030F00FF00E803
       03020A0000005802
       0300000000001400
       030A050000002C01
       0300000000001400
       0300000000002800
       0302080000006400
       030A0A0003002C01
       030200000A002C01
       0302000006008038
       03020A000500DC05
       0302010000000A00
       0300030300006400
       030405000200D007
       030205050000F401
       0302050000002C01
       03020F0000009001
       0302040000005802
       03033C00FB001027
       03030A000500D007
       03020A000800B80B
       0302040000005802
       03032D00FD008813
       0303280000008813
       0400 E89E 00 00 F401
       0400 F09E 0000 9600
       0400 F89E 0000 9600
       0400 009F 0000 6400
       0500000000003200
       0309000000002C01
       0000FA000000FA00
       0305020002008813
       0500000000006400
       0200000000006400
       0300000000006400
       0500000000006400
       0500000000006400
       0500000000006400
       0500000000006400
       0500000000006400
       0500000000006400
       0500000000006400
       0500000000006400
       0500000000000000
       010101000000B80B
       0303460000008813
       0500000000006400
       0500000000006400
;book attrib(type step max 0 exp)
9EE8 : 01 14 3C 00 B80B 0000
       01 0F 0A 00 0000 0000
       03 14 32 00 E803 0000
       00 19 37 00 D007 0000
;text?
9F08 : LDA #$FF 			;->A
9F0A : TAY 			;A->Y
9F0B : TAX 			;A->X
9F0C : INY 			;Y++
9F0D : INX 			;X++
9F0E : LDA ($A6),Y 			;->A
9F10 : STA $2740,X 			;A->MEM
9F13 : BNE $9F0C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F15 : LDY #$FF 			;->Y
9F17 : INY 			;Y++
9F18 : INX 			;X++
9F19 : LDA ($80),Y 			;->A
9F1B : STA $2740,X 			;A->MEM
9F1E : BNE $9F17 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F20 : INX 			;X++
9F21 : STA $2740,X 			;A->MEM
9F24 : LDA #$40 			;->A
9F26 : STA $A6 			;A->MEM
9F28 : LDA #$27 			;->A
9F2A : STA $A7 			;A->MEM
9F2C : RTS 			;×Ó³ÌÐò·µ»Ø
;copy str->wordcache
9F2D : LDA #$00 			;->A
9F2F : TAY 			;A->Y
9F30 : TAX 			;A->X
9F31 : LDA ($A6),Y 			;->A
9F33 : BNE $9F41 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F35 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
9F38 : LDA #$C0 			;->A
9F3A : STA $A6 			;A->MEM
9F3C : LDA #$02 			;->A
9F3E : STA $A7 			;A->MEM  02C0
9F40 : RTS 			;×Ó³ÌÐò·µ»Ø
9F41 : LDA ($A6),Y 			;->A
9F43 : INY 			;Y++
9F44 : CMP #$10 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9F46 : BCC $9F61 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F48 : CMP #$24 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9F4A : BEQ $9F53 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F4C : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
9F4F : INX 			;X++
9F50 : JMP $9F41 			;
9F53 : LDA $A6 			;->A
9F55 : STA $80 			;A->MEM
9F57 : LDA $A7 			;->A
9F59 : STA $81 			;A->MEM
9F5B : JSR $9FE6  			;Ìø×ª×Ó³ÌÐò
9F5E : JMP $9F41 			;
9F61 : STA $84 			;A->MEM
9F63 : LDA $84 			;->A
9F65 : BEQ $9FDD 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F67 : LDA ($A6),Y 			;->A
9F69 : STA $80 			;A->MEM
9F6B : INY 			;Y++
9F6C : LDA ($A6),Y 			;->A
9F6E : STA $81 			;A->MEM
9F70 : INY 			;Y++
9F71 : LDA $81 			;->A
9F73 : BNE $9F7D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F75 : LDA $80 			;->A
9F77 : BEQ $9FDD 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F79 : CMP #$0A 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9F7B : BEQ $9F31 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F7D : TYA 			;Y->A
9F7E : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9F7F : LDA $84 			;->A
9F81 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9F82 : LDA $84 			;->A
9F84 : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9F86 : BNE $9F8B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F88 : JMP $A1DC 			;
9F8B : CMP #$06 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9F8D : BNE $9F92 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F8F : JMP $A203 			;
9F92 : CMP #$07 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9F94 : BNE $9F99 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F96 : JMP $A259 			;
9F99 : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9F9B : BNE $9FA0 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9F9D : JMP $A246 			;
9FA0 : CMP #$09 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9FA2 : BNE $9FA7 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9FA4 : JMP $A21B 			;
9FA7 : LDY #$00 			;->Y
9FA9 : LDA ($80),Y 			;->A
9FAB : STA $82 			;A->MEM
9FAD : INY 			;Y++
9FAE : LDA ($80),Y 			;->A
9FB0 : STA $83 			;A->MEM
9FB2 : LDA $82 			;->A
9FB4 : STA $80 			;A->MEM
9FB6 : LDA $83 			;->A
9FB8 : STA $81 			;A->MEM
9FBA : LDA $84 			;->A
9FBC : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9FBE : BNE $9FC3 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9FC0 : JMP $A1B2 			;
9FC3 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9FC5 : BNE $9FCA 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9FC7 : JMP $A1B6 			;
9FCA : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9FCC : BNE $9FD1 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9FCE : JMP $A1C3 			;
9FD1 : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9FD3 : BNE $9FD8 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
9FD5 : JMP $A1CB 			;
9FD8 : LDA #$06 			;->A
9FDA : JMP $B0BE 			;
9FDD : LDA #$00 			;->A
9FDF : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
9FE2 : INX 			;X++
9FE3 : JMP $9F31 			;
9FE6 : LDA ($80),Y 			;->A
9FE8 : STA $84 			;A->MEM
9FEA : INY 			;Y++
9FEB : TYA 			;Y->A
9FEC : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9FED : LDA $80 			;->A
9FEF : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9FF0 : LDA $81 			;->A
9FF2 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9FF3 : LDA $A6 			;->A
9FF5 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9FF6 : LDA $A7 			;->A
9FF8 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
9FF9 : LDA $84 			;->A
9FFB : CMP #$24 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
9FFD : BEQ $A046 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
9FFF : CMP #$72 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A001 : BEQ $A04D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A003 : CMP #$4E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A005 : BEQ $A056 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A007 : CMP #$6E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A009 : BEQ $A05E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A00B : CMP #$77 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A00D : BEQ $A066 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A00F : CMP #$6C 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A011 : BEQ $A077 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A013 : CMP #$31 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A015 : BEQ $A077 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A017 : CMP #$74 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A019 : BNE $A01E 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A01B : JMP $A08B 			;
A01E : CMP #$71 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A020 : BNE $A025 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A022 : JMP $A0A1 			;
A025 : CMP #$67 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A027 : BNE $A02C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A029 : JMP $A0B5 			;
A02C : CMP #$6B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A02E : BNE $A033 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A030 : JMP $A0BB 			;
A033 : CMP #$70 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A035 : BNE $A03A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A037 : JMP $A0C1 			;
A03A : CMP #$6F 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A03C : BNE $A041 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A03E : JMP $A0E4 			;
A041 : LDA #$09 			;->A
A043 : JMP $B0BE 			;

A046 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A049 : INX 			;X++
A04A : JMP $A14B 			;

A04D : LDA #$00 			;->A
A04F : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A052 : INX 			;X++
A053 : JMP $A14B 			;

A056 : BIT $2E86 			;A¡Ä($n2n1)
A059 : BMI $A0C7 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A05B : JMP $A0E4 			;

A05E : BIT $2E86 			;A¡Ä($n2n1)
A061 : BPL $A0C7 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A063 : JMP $A0E4 			;

A066 : LDA $2EC6 			;->A
A069 : BIT $2E86 			;A¡Ä($n2n1)
A06C : BPL $A071 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A06E : JMP $A103 			;

A071 : LDA $2FAE 			;->A
A074 : JMP $A103 			;

A077 : LDA $57 			;->A
A079 : ASL 			;ËãÊõ×óÒÆ
A07A : ASL 			;ËãÊõ×óÒÆ
A07B : TAY 			;A->Y
A07C : LDA #$04 			;->A
A07E : STA $84 			;A->MEM
A080 : LDA #$72 			;->A
A082 : STA $80 			;A->MEM
A084 : LDA #$A1 			;->A
A086 : STA $81 			;A->MEM  A172 Í·²¿¾±²¿
A088 : JMP $A12B 			;

A08B : LDA $302D 			;->A
A08E : ASL 			;ËãÊõ×óÒÆ
A08F : TAY 			;A->Y
A090 : LDA $A15C,Y 			;->A
A093 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A096 : INX 			;X++
A097 : LDA $A15D,Y 			;->A
A09A : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A09D : INX 			;X++
A09E : JMP $A14B 			;

A0A1 : LDA $302E 			;->A
A0A4 : LDY $302D 			;->Y
A0A7 : CPY #$00 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A0A9 : BEQ $A0D8 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A0AB : CPY #$02 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A0AD : BEQ $A0D8 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A0AF : CPY #$04 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A0B1 : BEQ $A0F1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A0B3 : BNE $A103 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A0B5 : LDA $2E8B 			;->A
A0B8 : JMP $A103 			;
A0BB : LDA $2E8B 			;->A
A0BE : JMP $A111 			;
A0C1 : LDA $2E89 			;->A
A0C4 : JMP $A11F 			;
A0C7 : LDA $A15A 			;->A
A0CA : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A0CD : INX 			;X++
A0CE : LDA $A15B 			;->A
A0D1 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A0D4 : INX 			;X++
A0D5 : JMP $A14B 			;
A0D8 : STX $84 			;X->MEM
A0DA : JSR $7E17  			;Ìø×ª×Ó³ÌÐò
A0DD : LDX $84 			;->X
A0DF : LDY #$00 			;->Y
A0E1 : JMP $A138 			;
A0E4 : LDA #$87 			;->A
A0E6 : STA $80 			;A->MEM
A0E8 : LDA #$2F 			;->A
A0EA : STA $81 			;A->MEM
A0EC : LDY #$00 			;->Y
A0EE : JMP $A138 			;
A0F1 : ASL 			;ËãÊõ×óÒÆ
A0F2 : ASL 			;ËãÊõ×óÒÆ
A0F3 : TAY 			;A->Y
A0F4 : LDA #$04 			;->A
A0F6 : STA $84 			;A->MEM
A0F8 : LDA #$66 			;->A
A0FA : STA $80 			;A->MEM
A0FC : LDA #$A1 			;->A
A0FE : STA $81 			;A->MEM  A166  É¨µØ
A100 : JMP $A12B 			;

A103 : STX $84 			;X->MEM
A105 : AND #$7F 			;A¡Ä$n¡úA
A107 : JSR $9863  			;Ìø×ª×Ó³ÌÐò get item name
A10A : LDX $84 			;->X
A10C : LDY #$00 			;->Y
A10E : JMP $A138 			;
A111 : STX $84 			;X->MEM
A113 : AND #$7F 			;A¡Ä$n¡úA
A115 : JSR $8AC6  			;Ìø×ª×Ó³ÌÐò
A118 : LDX $84 			;->X
A11A : LDY #$00 			;->Y
A11C : JMP $A138 			;
A11F : STX $84 			;X->MEM
A121 : JSR $8AD2  			;Ìø×ª×Ó³ÌÐò
A124 : LDX $84 			;->X
A126 : LDY #$00 			;->Y
A128 : JMP $A138 			;
A12B : LDA ($80),Y 			;->A
A12D : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A130 : INX 			;X++
A131 : INY 			;Y++
A132 : DEC $84 			;MEM--
A134 : BNE $A12B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A136 : BEQ $A14B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A138 : LDA ($80),Y 			;->A
A13A : BEQ $A14B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A13C : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A13E : BEQ $A14B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A140 : CMP #$20 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A142 : BEQ $A14B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A144 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A147 : INX 			;X++
A148 : INY 			;Y++
A149 : BNE $A138 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A14B : PLA 			;A³öÕ»
A14C : STA $A7 			;A->MEM
A14E : PLA 			;A³öÕ»
A14F : STA $A6 			;A->MEM
A151 : PLA 			;A³öÕ»
A152 : STA $81 			;A->MEM
A154 : PLA 			;A³öÕ»
A155 : STA $80 			;A->MEM
A157 : PLA 			;A³öÕ»
A158 : TAY 			;A->
A159 : RTS 			;×Ó³ÌÐò·µ»Ø
A15A : ÄãÉ±Ñ°ÔËËÍÈ¥É¨µØ±Ù²ñÌôË®
A172 : Í·²¿¾±²¿ÐØ¿ÚááÐÄ×ó¼çÓÒ¼ç×ó±ÛÓÒ±Û×óÊÖÓÒÊÖÑü¼äÐ¡¸¹×óÍÈÓÒÍÈ×ó½ÅÓÒ½Å

A1B3 : INT $8185

A1B6 : TXA 			;X->A
A1B7 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A1B8 : INT $8A35
A1BB : PLA 			;A³öÕ»
A1BC : TAX 			;A->X
A1BD : JSR $A284  			;Ìø×ª×Ó³ÌÐò
A1C0 : JMP $A27C 			;

A1C3 : LDA #$00 			;->A
A1C5 : STA $81 			;A->MEM
A1C7 : LDA #$03 			;->A
A1C9 : BNE $A1CD 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A1CB : LDA #$05 			;->A
A1CD : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A1CE : TXA 			;X->A
A1CF : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A1D0 : INT $8A35
A1D3 : PLA 			;A³öÕ»
A1D4 : TAX 			;A->X
A1D5 : PLA 			;A³öÕ»
A1D6 : JSR $A29F  			;Ìø×ª×Ó³ÌÐò
A1D9 : JMP $A27C 			;

A1DC : LDY #$00 			;->Y
A1DE : LDA ($80),Y 			;->A
A1E0 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A1E1 : INY 			;Y++
A1E2 : LDA ($80),Y 			;->A
A1E4 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A1E5 : INY 			;Y++
A1E6 : LDA ($80),Y 			;->A
A1E8 : STA $82 			;A->MEM
A1EA : INY 			;Y++
A1EB : LDA ($80),Y 			;->A
A1ED : STA $83 			;A->MEM
A1EF : INY 			;Y++
A1F0 : PLA 			;A³öÕ»
A1F1 : STA $81 			;A->MEM
A1F3 : PLA 			;A³öÕ»
A1F4 : STA $80 			;A->MEM
A1F6 : TXA 			;X->A
A1F7 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A1F8 : JSR $A2ED  			;Ìø×ª×Ó³ÌÐò
A1FB : PLA 			;A³öÕ»
A1FC : TAX 			;A->X
A1FD : JSR $A2D2  			;Ìø×ª×Ó³ÌÐò
A200 : JMP $A27C 			;

A203 : LDY #$00 			;->Y
A205 : LDA ($80),Y 			;->A
A207 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A20A : STA $82 			;A->MEM
A20C : INX 			;X++
A20D : BIT $82  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)
A20F : BPL $A27C 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A211 : INY 			;Y++
A212 : LDA ($80),Y 			;->A
A214 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A217 : INX 			;X++
A218 : JMP $A27C 			;
A21B : LDY #$00 			;->Y
A21D : LDA ($80),Y 			;->A
A21F : STA $84 			;A->MEM
A221 : INY 			;Y++
A222 : LDA ($80),Y 			;->A
A224 : STA $82 			;A->MEM
A226 : INY 			;Y++
A227 : LDA ($80),Y 			;->A
A229 : STA $83 			;A->MEM
A22B : LDY #$00 			;->Y
A22D : LDA ($82),Y 			;->A
A22F : STA $80 			;A->MEM
A231 : INY 			;Y++
A232 : LDA ($82),Y 			;->A
A234 : STA $81 			;A->MEM
A236 : LDY #$00 			;->Y
A238 : LDA ($80),Y 			;->A
A23A : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A23D : INX 			;X++
A23E : INY 			;Y++
A23F : DEC $84 			;MEM--
A241 : BNE $A238 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A243 : JMP $A27C 			;

A246 : LDY #$00 			;->Y
A248 : LDA ($80),Y 			;->A
A24A : STA $82 			;A->MEM
A24C : INY 			;Y++
A24D : LDA ($80),Y 			;->A
A24F : STA $83 			;A->MEM
A251 : LDA $82 			;->A
A253 : STA $80 			;A->MEM
A255 : LDA $83 			;->A
A257 : STA $81 			;A->MEM
A259 : LDA $80 			;->A
A25B : ORA $81 			;A¡Å$81¡úA
A25D : BEQ $A27C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A25F : LDY #$00 			;->Y
A261 : LDA ($80),Y 			;->A
A263 : BEQ $A27C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A265 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A267 : BEQ $A27C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A269 : CMP #$24 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A26B : BEQ $A275 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A26D : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A270 : INX 			;X++
A271 : INY 			;Y++
A272 : JMP $A261 			;

A275 : INY 			;Y++
A276 : JSR $9FE6  			;Ìø×ª×Ó³ÌÐò
A279 : JMP $A261 			;

A27C : PLA 			;A³öÕ»
A27D : STA $84 			;A->MEM
A27F : PLA 			;A³öÕ»
A280 : TAY 			;A->Y
A281 : JMP $9F67 			;
A284 : LDY #$FF 			;->Y
A286 : INY 			;Y++
A287 : CPY #$04 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A289 : BCS $A292 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A28B : LDA $0082,Y 			;->A
A28E : CMP #$30 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A290 : BEQ $A286 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A292 : LDA $0082,Y 			;->A
A295 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A298 : INY 			;Y++
A299 : INX 			;X++
A29A : CPY #$05 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A29C : BCC $A292 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A29E : RTS 			;×Ó³ÌÐò·µ»Ø

A29F : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A2A0 : LDY #$FF 			;->Y
A2A2 : INY 			;Y++
A2A3 : CPY #$04 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A2A5 : BCS $A2AE 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2A7 : LDA $0082,Y 			;->A
A2AA : CMP #$30 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A2AC : BEQ $A2A2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2AE : PLA 			;A³öÕ»
A2AF : STY $80 			;Y->MEM
A2B1 : CLC 			;Çå½øÎ»±êÖ¾
A2B2 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A2B4 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
A2B5 : SBC #$05 			;A-MEM-C->A
A2B7 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A2B8 : LDA $0082,Y 			;->A
A2BB : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A2BE : INY 			;Y++
A2BF : INX 			;X++
A2C0 : CPY #$05 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A2C2 : BCC $A2B8 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2C4 : PLA 			;A³öÕ»
A2C5 : TAY 			;A->Y
A2C6 : BEQ $A2D1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2C8 : LDA #$20 			;->A
A2CA : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A2CD : INX 			;X++
A2CE : DEY 			;Y--
A2CF : BNE $A2C8 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2D1 : RTS 			;×Ó³ÌÐò·µ»Ø

A2D2 : LDY #$FF 			;->Y
A2D4 : INY 			;Y++
A2D5 : CPY #$09 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A2D7 : BCS $A2E0 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2D9 : LDA $0280,Y 			;->A
A2DC : CMP #$30 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A2DE : BEQ $A2D4 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2E0 : LDA $0280,Y 			;->A
A2E3 : STA $02C0,X 			;A->MEM  ÎÄ×Ö»º´æ
A2E6 : INY 			;Y++
A2E7 : INX 			;X++
A2E8 : CPY #$0A 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A2EA : BCC $A2E0 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A2EC : RTS 			;×Ó³ÌÐò·µ»Ø

A2ED : LDX #$00 			;->X
A2EF : LDY #$FF 			;->Y
A2F1 : INY 			;Y++
A2F2 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
A2F3 : LDA $80 			;->A
A2F5 : SBC $A339,X 			;A-MEM-C->A
A2F8 : STA $80 			;A->MEM
A2FA : LDA $81 			;->A
A2FC : SBC $A343,X 			;A-MEM-C->A
A2FF : STA $81 			;A->MEM
A301 : LDA $82 			;->A
A303 : SBC $A34D,X 			;A-MEM-C->A
A306 : STA $82 			;A->MEM
A308 : LDA $83 			;->A
A30A : SBC $A357,X 			;A-MEM-C->A
A30D : STA $83 			;A->MEM
A30F : BCS $A2F1 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A311 : LDA $80 			;->A
A313 : ADC $A339,X 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A316 : STA $80 			;A->MEM
A318 : LDA $81 			;->A
A31A : ADC $A343,X 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A31D : STA $81 			;A->MEM
A31F : LDA $82 			;->A
A321 : ADC $A34D,X 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A324 : STA $82 			;A->MEM
A326 : LDA $83 			;->A
A328 : ADC $A357,X 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A32B : STA $83 			;A->MEM
A32D : TYA 			;Y->A
A32E : ORA #$30 			;A¡Å$n¡úA
A330 : STA $0280,X 			;A->MEM
A333 : INX 			;X++
A334 : CPX $0A 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
A336 : BCC $A2EF 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A338 : RTS 			;×Ó³ÌÐò·µ»Ø

A339 : 00008040A010E8640A01CAE196428627030000009AF5980F0100000000003B050000000000000000
;Show tip(Esc for exit)
A361 : JSR $A408  			;Ìø×ª×Ó³ÌÐò draw dialogbox
A364 : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
A367 : CMP #$1B 			;ÓëA±È½Ï,(A>MEM,c=1)(A<MEM,C=0)(A==MEM,Z=0)
A369 : BNE $A364 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A36B : RTS 			;×Ó³ÌÐò·µ»Ø
;dialog box
A36C : LDA $043F 			;->A
A36F : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A370 : LDA $0440 			;->A
A373 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A374 : LDA $0441 			;->A
A377 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A378 : LDA $0442 			;->A
A37B : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A37C : JSR $A408  			;Ìø×ª×Ó³ÌÐòdraw dialogbox
A37F : PLA 			;A³öÕ»
A380 : STA $0442 			;A->MEM
A383 : PLA 			;A³öÕ»
A384 : STA $0441 			;A->MEM
A387 : PLA 			;A³öÕ»
A388 : STA $0440 			;A->MEM
A38B : PLA 			;A³öÕ»
A38C : STA $043F 			;A->MEM
A38F : BCC $A3BB 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A391 : LDA $0441 			;->A
A394 : LSR 			;AÂß¼­ÓÒÒÆ
A395 : LSR 			;AÂß¼­ÓÒÒÆ
A396 : LSR 			;AÂß¼­ÓÒÒÆ
A397 : STA $0432 			;A->MEM
A39A : DEC $0432 			;MEM--
A39D : LDA $0440 			;->A
A3A0 : STA $0433 			;A->MEM
A3A3 : INC $0433 			;MEM++
A3A6 : INC $0433 			;MEM++
A3A9 : LDA #$E0 			;->A
A3AB : STA $0431 			;A->MEM
A3AE : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
A3B1 : CMP #$15 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A3B3 : BEQ $A36C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A3B5 : CMP #$1B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A3B7 : BEQ $A3C7 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A3B9 : BNE $A3AE 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A3BB : LDA #$00 			;->A
A3BD : STA $0431 			;A->MEM
A3C0 : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
A3C3 : CMP #$1B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A3C5 : BNE $A3BB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A3C7 : LDA #$00 			;->A
A3C9 : STA $0431 			;A->MEM
A3CC : RTS 			;×Ó³ÌÐò·µ»Ø

;[ÊäÈë]È·ÈÏ,[Ìø³ö]·ÅÆú
A3CD : JSR $A408  			;Ìø×ª×Ó³ÌÐòdraw dialogbox
A3D0 : LDX $043F 			;->X
A3D3 : LDY $0440 			;->Y
A3D6 : LDA #$F0 			;->A
A3D8 : STA $A6 			;A->MEM
A3DA : LDA #$A3 			;->A
A3DC : STA $A7 			;A->MEM  $A7A6=A3F0
A3DE : JSR $A495  			;Ìø×ª×Ó³ÌÐò
A3E1 : JSR $80DD  			;Ìø×ª×Ó³ÌÐò readkey
A3E4 : CMP #$1B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1) °´ÏÂÌø³öC=1
A3E6 : BEQ $A3EE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A3E8 : CMP #$0D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1) °´ÏÂÊäÈëC=0
A3EA : BNE $A3E1 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A3EC : CLC 			;Çå½øÎ»±êÖ¾
A3ED : RTS 			;×Ó³ÌÐò·µ»Ø
A3EE : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
A3EF : RTS 			;×Ó³ÌÐò·µ»Ø
A3F0 : ([ÊäÈë]È·ÈÏ,[Ìø³ö]·ÅÆú)

draw dialogbox
A408 : INC $0441 			;MEM++
A40B : INC $0441 			;MEM++
A40E : LDA #$00 			;->A
A410 : STA $0445 			;A->MEM
A413 : INT $9E2D      ;clear rect
A416 : LDA #$01 			;->A
A418 : STA $0445 			;A->MEM
A41B : INT $9E2C      ;draw Rect
A41E : LDA $42 			;->A
A420 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A421 : LDA $43 			;->A
A423 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A424 : LDA $44 			;->A
A426 : LSR 			;AÂß¼­ÓÒÒÆ
A427 : TAX 			;A->X
A428 : LDA $0441 			;->A
A42B : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
A42E : STA $42 			;A->MEM
A430 : LDA $0442 			;->A
A433 : STA $43 			;A->MEM
A435 : LDA $44 			;->A
A437 : LSR 			;AÂß¼­ÓÒÒÆ
A438 : TAX 			;A->X
A439 : LDA $043F 			;->A
A43C : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
A43F : TAX 			;A->X
A440 : LDY $0440 			;->Y
A443 : INY 			;Y++
A444 : INY 			;Y++
A445 : LDA #$06 			;->A
A447 : JSR $A451  			;Ìø×ª×Ó³ÌÐò
A44A : PLA 			;A³öÕ»
A44B : STA $43 			;A->MEM
A44D : PLA 			;A³öÕ»
A44E : STA $42 			;A->MEM
A450 : RTS 			;×Ó³ÌÐò·µ»Ø

A451 : STA $044A 			;A->MEM
A454 : STX $043F 			;X->MEM
A457 : STY $0440 			;Y->MEM
A45A : LDA $044A 			;->A
A45D : BNE $A464 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A45F : LDA #$FF 			;->A
A461 : STA $044A 			;A->MEM
A464 : LDX $043F 			;->X
A467 : LDY $0440 			;->Y
A46A : JSR $A495  			;Ìø×ª×Ó³ÌÐò
A46D : BEQ $A493 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A46F : TYA 			;Y->A
A470 : CLC 			;Çå½øÎ»±êÖ¾
A471 : ADC $A6 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A473 : STA $A6 			;A->MEM
A475 : BCC $A479 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A477 : INC $A7 			;MEM++
A479 : DEC $044A 			;MEM--
A47C : BEQ $A48B 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A47E : CLC 			;Çå½øÎ»±êÖ¾
A47F : LDA $0440 			;->A
A482 : ADC $44 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A484 : STA $0440 			;A->MEM
A487 : CMP $43 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A489 : BCC $A464 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A48B : LDY #$00 			;->Y
A48D : LDA ($A6),Y 			;->A
A48F : BEQ $A493 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A491 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
A492 : RTS 			;×Ó³ÌÐò·µ»Ø
A493 : CLC 			;Çå½øÎ»±êÖ¾
A494 : RTS 			;×Ó³ÌÐò·µ»Ø

A495 : STX $0441 			;X->MEM
A498 : STY $0442 			;Y->MEM
A49B : LDA #$00 			;->A
A49D : STA $044B 			;A->MEM
A4A0 : LDY $044B 			;->Y
A4A3 : LDA ($A6),Y 			;->A
A4A5 : STA $92 			;A->MEM
A4A7 : BEQ $A4DC 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4A9 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A4AB : BEQ $A4DC 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4AD : BPL $A4BC 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4AF : INY 			;Y++
A4B0 : LDA ($A6),Y 			;->A
A4B2 : STA $93 			;A->MEM
A4B4 : LDX $0441 			;->X
A4B7 : INX 			;X++
A4B8 : CPX $42 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
A4BA : BCS $A4E2 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4BC : LDX $0441 			;->X
A4BF : LDY $0442 			;->Y
A4C2 : CPX $42 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
A4C4 : BCS $A4E2 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4C6 : JSR $AF97  			;Ìø×ª×Ó³ÌÐò
A4C9 : INC $0441 			;MEM++
A4CC : INC $044B 			;MEM++
A4CF : BIT $92  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)
A4D1 : BPL $A4A0 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4D3 : INC $0441 			;MEM++
A4D6 : INC $044B 			;MEM++
A4D9 : JMP $A4A0 			;
A4DC : INC $A6 			;MEM++
A4DE : BNE $A4E2 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4E0 : INC $A7 			;MEM++
A4E2 : LDY $044B 			;->Y
A4E5 : RTS 			;×Ó³ÌÐò·µ»Ø

;load NPC data
A4E6 : LDA $76 			  ;->A
A4E8 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A4EA : BEQ $A4F5 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4EC : BIT $3445 			;A¡Ä($n2n1)
A4EF : BPL $A4F5 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A4F1 : INT $3111      ;Page2 8373
A4F4 : RTS 			;×Ó³ÌÐò·µ»Ø
A4F5 : JSR $8345  			;Ìø×ª×Ó³ÌÐò  set load byte page $05B4 base $C8 offset Y -> 05B5 program -> 10A0
A4F8 : LDA $80 			;->A
A4FA : STA $05B4 			;A->MEM
A4FD : LDA #$00 			;->A
A4FF : STA $C8 			;A->MEM
A501 : LDA #$40 			;->A
A503 : STA $C9 			;A->MEM 4000
A505 : LDA $76 			;->A
A507 : ASL 			;ËãÊõ×óÒÆ
A508 : TAY 			;A->Y
A509 : JSR $10A0  			;Ìø×ª×Ó³ÌÐòload byte
A50C : STA $80 			;A->MEM
A50E : INY 			;Y++
A50F : JSR $10A0  			;Ìø×ª×Ó³ÌÐòload byte
A512 : STA $81 			;A->MEM
A514 : LDA $80 			;->A
A516 : STA $C8 			;A->MEM
A518 : LDA $81 			;->A
A51A : STA $C9 			;A->MEM
A51C : LDA $75 			;->A
A51E : STA $80 			;A->MEM
A520 : LDA #$00 			;->A
A522 : STA $81 			;A->MEM
A524 : ASL $80 			;ËãÊõ×óÒÆ
A526 : ROL $81 			;Ñ­»·×óÒÆ
A528 : CLC 			;Çå½øÎ»±êÖ¾
A529 : LDA $C8 			;->A
A52B : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A52D : STA $C8 			;A->MEM
A52F : LDA $C9 			;->A
A531 : ADC $81 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A533 : STA $C9 			;A->MEM
A535 : LDY #$00 			;->Y
A537 : JSR $10A0  			;Ìø×ª×Ó³ÌÐòload byte
A53A : STA $80 			;A->MEM
A53C : INY 			;Y++
A53D : JSR $10A0  			;Ìø×ª×Ó³ÌÐòload byte
A540 : STA $81 			;A->MEM
A542 : LDA $80 			;->A
A544 : STA $C8 			;A->MEM
A546 : LDA $81 			;->A
A548 : STA $C9 			;A->MEM
A54A : LDA #$40 			;->A
A54C : STA $A6 			;A->MEM
A54E : LDA #$27 			;->A
A550 : STA $A7 			;A->MEM
A552 : LDA $76 			;->A
A554 : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A556 : BNE $A55B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A558 : JMP $A68A 			;
A55B : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A55D : BEQ $A56F 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A55F : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A561 : BEQ $A5C2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A563 : CMP #$03 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A565 : BNE $A56A 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A567 : JMP $A68A 			;
A56A : LDA #$0E 			;->A
A56C : JMP $B0BE 			;
A56F : LDY #$00 			;->Y
A571 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A574 : STA $2F87,Y 			;A->MEM
A577 : INY 			;Y++
A578 : CPY #$34 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A57A : BCC $A571 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A57C : LDA $2FBA 			;->A  NPC Skill number
A57F : ASL 			;ËãÊõ×óÒÆ
A580 : TAX 			;A->X
A581 : BEQ $A58D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A583 : JSR $10A0  			;Ìø×ª×Ó³ÌÐòload byte
A586 : STA $2F87,Y 			;A->MEM
A589 : INY 			;Y++
A58A : DEX 			;X--
A58B : BNE $A583 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A58D : LDA #$00 			;->A
A58F : STA $2FE3 			;A->MEM
A592 : LDA $2F91 			;->A
A595 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A597 : BNE $A5AD 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A599 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A59C : STA $2FE3 			;A->MEM
A59F : INY 			;Y++
A5A0 : TAX 			;A->X
A5A1 : BEQ $A5AD 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A5A3 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A5A6 : STA $2FE3,X 			;A->MEM
A5A9 : INY 			;Y++
A5AA : DEX 			;X--
A5AB : BNE $A5A3 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A5AD : TYA 			;Y->A
A5AE : CLC 			;Çå½øÎ»±êÖ¾
A5AF : ADC $C8 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A5B1 : STA $C8 			;A->MEM
A5B3 : BCC $A5B7 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A5B5 : INC $C9 			;MEM++
A5B7 : LDA #$AA 			;->A
A5B9 : STA $A6 			;A->MEM
A5BB : LDA #$30 			;->A
A5BD : STA $A7 			;A->MEM
A5BF : JMP $A68A 			;
A5C2 : LDY #$00 			;->Y
A5C4 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A5C7 : BIT $2E88 			;A¡Ä($n2n1)
A5CA : BPL $A5CF 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A5CC : JMP $A661 			;

A5CF : STA $04CB 			;A->MEM
A5D2 : LDA #$00 			;->A
A5D4 : STA $04CC 			;A->MEM
A5D7 : INT $9E27      ;Random number
A5DA : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A5DB : LDA $75 			;->A
A5DD : JSR $8ADE  			;Ìø×ª×Ó³ÌÐò
A5E0 : LDY #$00 			;->Y
A5E2 : LDA ($80),Y 			;->A
A5E4 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A5E6 : BEQ $A642 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A5E8 : LDA $75 			;->A
A5EA : CMP #$09 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A5EC : BCC $A61A 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A5EE : PLA 			;A³öÕ»
A5EF : LDA $75 			;->A
A5F1 : INT $A005    ;load Attack Data&Desc
A5F4 : ASL 			;ËãÊõ×óÒÆ
A5F5 : ASL 			;ËãÊõ×óÒÆ
A5F6 : STA $80 			;A->MEM
A5F8 : ASL 			;ËãÊõ×óÒÆ
A5F9 : CLC 			;Çå½øÎ»±êÖ¾
A5FA : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A5FC : TAY 			;A->Y
A5FD : INY 			;Y++
A5FE : INY 			;Y++
A5FF : LDX #$00 			;->X
A601 : JSR $10A0  			;Ìø×ª×Ó³ÌÐòload byte
A604 : STA $309A,X 			;A->MEM
A607 : INY 			;Y++
A608 : INX 			;X++
A609 : CPX $0C 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
A60B : BCC $A601 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A60D : LDA $30A4 			;->A
A610 : STA $C8 			;A->MEM
A612 : LDA $30A5 			;->A
A615 : STA $C9 			;A->MEM
A617 : JMP $A68A 			;
A61A : PLA 			;A³öÕ»
A61B : STA $80 			;A->MEM
A61D : ASL 			;ËãÊõ×óÒÆ
A61E : CLC 			;Çå½øÎ»±êÖ¾
A61F : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A621 : TAY 			;A->Y
A622 : INY 			;Y++
A623 : INY 			;Y++
A624 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A627 : STA $309B 			;A->MEM
A62A : INY 			;Y++
A62B : LDA #$00 			;->A
A62D : STA $30A0 			;A->MEM
A630 : LDA #$00 			;->A
A632 : STA $30A1 			;A->MEM
A635 : LDA #$00 			;->A
A637 : STA $30A2 			;A->MEM
A63A : LDA #$00 			;->A
A63C : STA $30A3 			;A->MEM
A63F : JMP $A647 			;

A642 : PLA 			;A³öÕ»
A643 : ASL 			;ËãÊõ×óÒÆ
A644 : TAY 			;A->Y
A645 : INY 			;Y++
A646 : INY 			;Y++
A647 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A64A : STA $30A4 			;A->MEM
A64D : INY 			;Y++
A64E : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A651 : STA $30A5 			;A->MEM
A654 : LDA $30A4 			;->A
A657 : STA $C8 			;A->MEM
A659 : LDA $30A5 			;->A
A65C : STA $C9 			;A->MEM
A65E : JMP $A68A 			;

A661 : ASL 			;ËãÊõ×óÒÆ
A662 : ASL 			;ËãÊõ×óÒÆ
A663 : STA $80 			;A->MEM
A665 : ASL 			;ËãÊõ×óÒÆ
A666 : CLC 			;Çå½øÎ»±êÖ¾
A667 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A669 : TAY 			;A->Y
A66A : INY 			;Y++
A66B : INY 			;Y++
A66C : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A66F : STA $80 			;A->MEM
A671 : INY 			;Y++
A672 : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A675 : STA $81 			;A->MEM
A677 : LDA $80 			;->A
A679 : STA $C8 			;A->MEM
A67B : LDA $81 			;->A
A67D : STA $C9 			;A->MEM
A67F : LDA $2E88 			;->A
A682 : AND #$7F 			;A¡Ä$n¡úA
A684 : STA $2E88 			;A->MEM
A687 : JMP $A5F4 			;

A68A : LDY #$00 			;->Y
A68C : JSR $10A0  			;Ìø×ª×Ó³ÌÐò
A68F : STA ($A6),Y 			;A->MEM
A691 : BEQ $A6A1 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A693 : INY 			;Y++
A694 : BNE $A68C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A696 : INC $C9 			;MEM++
A698 : INC $A7 			;MEM++
A69A : BNE $A68C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A69C : LDA #$08 			;->A
A69E : JMP $B0BE 			;

A6A1 : INY 			;Y++
A6A2 : STA ($A6),Y 			;A->MEM
A6A4 : LDA #$40 			;->A
A6A6 : STA $A6 			;A->MEM
A6A8 : LDA #$27 			;->A
A6AA : STA $A7 			;A->MEM
A6AC : RTS 			;×Ó³ÌÐò·µ»Ø

A6AD : STX $03E2 			;X->MEM
A6B0 : STY $03E3 			;Y->MEM
A6B3 : LDA $80 			;->A
A6B5 : STA $03EA 			;A->MEM
A6B8 : LDA $81 			;->A
A6BA : STA $03EB 			;A->MEM
A6BD : LDA #$00 			;->A
A6BF : STA $05AE 			;A->MEM
A6C2 : STA $05AD 			;A->MEM
A6C5 : JSR $A71E  			;Ìø×ª×Ó³ÌÐò
A6C8 : LDA $03E9 			;->A
A6CB : BEQ $A6EF 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A6CD : JSR $A87D  			;Ìø×ª×Ó³ÌÐò
A6D0 : JSR $A90A  			;Ìø×ª×Ó³ÌÐò
A6D3 : JSR $ACEA  			;Ìø×ª×Ó³ÌÐò
A6D6 : INT $3043      ;readkey
A6D9 : CMP #$1B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A6DB : BEQ $A6EF 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A6DD : TAX 			;A->X
A6DE : LDY #$05 			;->Y
A6E0 : LDA #$CD 			;->A
A6E2 : STA $80 			;A->MEM
A6E4 : LDA #$AE 			;->A
A6E6 : STA $81 			;A->MEM  AECD
A6E8 : TXA 			;X->A
A6E9 : JSR $B044  			;Ìø×ª×Ó³ÌÐò
A6EC : JMP $A6D6 			;
A6EF : LDA #$FF 			;->A
A6F1 : RTS 			;×Ó³ÌÐò·µ»Ø

A6F2 : STX $03E2 			;X->MEM
A6F5 : STY $03E3 			;Y->MEM
A6F8 : LDA $80 			;->A
A6FA : STA $03EA 			;A->MEM
A6FD : LDA $81 			;->A
A6FF : STA $03EB 			;A->MEM
A702 : LDA #$00 			;->A
A704 : STA $05AE 			;A->MEM
A707 : STA $05AD 			;A->MEM
A70A : JSR $A71E  			;Ìø×ª×Ó³ÌÐò
A70D : LDA $03E9 			;->A
A710 : BEQ $A71D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A712 : JSR $A87D  			;Ìø×ª×Ó³ÌÐò

A715 : LDA #$FF 			;->A
A717 : STA $05AE 			;A->MEM
A71A : JSR $A90A  			;Ìø×ª×Ó³ÌÐò
A71D : RTS 			;×Ó³ÌÐò·µ»Ø

A71E : LDA $03EA 			;->A
A721 : STA $80 			;A->MEM
A723 : LDA $03EB 			;->A
A726 : STA $81 			;A->MEM
A728 : LDY #$00 			;->Y
A72A : LDA ($A8),Y 			;->A
A72C : STA $05AF 			;A->MEM
A72F : AND #$0F 			;A¡Ä$n¡úA
A731 : STA $03E4 			;A->MEM
A734 : INY 			;Y++
A735 : LDA ($A8),Y 			;->A
A737 : STA $03E9 			;A->MEM
A73A : INY 			;Y++
A73B : LDA ($A8),Y 			;->A
A73D : STA $03E5 			;A->MEM
A740 : AND #$07 			;A¡Ä$n¡úA
A742 : STA $05B0 			;A->MEM
A745 : LDA $03E5 			;->A
A748 : LSR 			;AÂß¼­ÓÒÒÆ
A749 : LSR 			;AÂß¼­ÓÒÒÆ
A74A : LSR 			;AÂß¼­ÓÒÒÆ
A74B : LSR 			;AÂß¼­ÓÒÒÆ
A74C : AND #$07 			;A¡Ä$n¡úA
A74E : STA $03E6 			;A->MEM
A751 : INY 			;Y++
A752 : LDA ($A8),Y 			;->A
A754 : STA $05AC 			;A->MEM
A757 : INY 			;Y++
A758 : LDA $A8 			;->A
A75A : STA $03EC 			;A->MEM
A75D : LDA $A9 			;->A
A75F : STA $03ED 			;A->MEM
A762 : LDA #$04 			;->A
A764 : CLC 			;Çå½øÎ»±êÖ¾
A765 : ADC $03EC 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A768 : STA $03EC 			;A->MEM
A76B : BCC $A770 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A76D : INC $03ED 			;MEM++
A770 : LDA $A8 			;->A
A772 : STA $03EE 			;A->MEM
A775 : LDA $A9 			;->A
A777 : STA $03EF 			;A->MEM
A77A : LDX #$01 			;->X
A77C : LDA $05AF 			;->A
A77F : AND #$10 			;A¡Ä$n¡úA
A781 : BNE $A790 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A783 : LDX $03E9 			;->X
A786 : BIT $03E9 			;A¡Ä($n2n1)
A789 : BPL $A790 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A78B : LDY #$00 			;->Y
A78D : LDA ($80),Y 			;->A
A78F : TAX 			;A->X
A790 : TXA 			;X->A
A791 : ASL 			;ËãÊõ×óÒÆ
A792 : BIT $05AF 			;A¡Ä($n2n1)
A795 : BVC $A798 			;Òç³öV=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A797 : ASL 			;ËãÊõ×óÒÆ
A798 : CLC 			;Çå½øÎ»±êÖ¾
A799 : ADC #$04 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A79B : CLC 			;Çå½øÎ»±êÖ¾
A79C : ADC $03EE 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A79F : STA $03EE 			;A->MEM
A7A2 : BCC $A7A7 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A7A4 : INC $03EF 			;MEM++
A7A7 : BIT $03E9 			;A¡Ä($n2n1)
A7AA : BMI $A7D6 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A7AC : BIT $05AF 			;A¡Ä($n2n1)
A7AF : BPL $A814 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A7B1 : LDA $03EE 			;->A
A7B4 : STA $CA 			;A->MEM
A7B6 : LDA $03EF 			;->A
A7B9 : STA $CB 			;A->MEM
A7BB : LDY $03E9 			;->Y
A7BE : LDA $05AF 			;->A
A7C1 : AND #$20 			;A¡Ä$n¡úA
A7C3 : BEQ $A7C8 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A7C5 : TYA 			;Y->A
A7C6 : ASL 			;ËãÊõ×óÒÆ
A7C7 : TAY 			;A->Y
A7C8 : LDA ($CA),Y 			;->A
A7CA : STA $03EE 			;A->MEM
A7CD : INY 			;Y++
A7CE : LDA ($CA),Y 			;->A
A7D0 : STA $03EF 			;A->MEM
A7D3 : JMP $A814 			;
A7D6 : LDY #$00 			;->Y
A7D8 : LDA ($80),Y 			;->A
A7DA : STA $03E9 			;A->MEM
A7DD : INC $80 			;MEM++
A7DF : BNE $A7E3 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A7E1 : INC $81 			;MEM++
A7E3 : BIT $05AF 			;A¡Ä($n2n1)
A7E6 : BMI $A7F5 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A7E8 : LDA $80 			;->A
A7EA : STA $03EE 			;A->MEM
A7ED : LDA $81 			;->A
A7EF : STA $03EF 			;A->MEM
A7F2 : JMP $A814 			;
A7F5 : LDA $80 			;->A
A7F7 : STA $CA 			;A->MEM
A7F9 : LDA $81 			;->A
A7FB : STA $CB 			;A->MEM
A7FD : LDA $03EE 			;->A
A800 : STA $80 			;A->MEM
A802 : LDA $03EF 			;->A
A805 : STA $81 			;A->MEM
A807 : LDY #$00 			;->Y
A809 : LDA ($80),Y 			;->A
A80B : STA $03EE 			;A->MEM
A80E : INY 			;Y++
A80F : LDA ($80),Y 			;->A
A811 : STA $03EF 			;A->MEM
A814 : JSR $A818  			;Ìø×ª×Ó³ÌÐò
A817 : RTS 			;×Ó³ÌÐò·µ»Ø

A818 : LDA $03E9 			;->A
A81B : LDX $03E6 			;->X
A81E : BEQ $A842 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A820 : LDX $05B0 			;->X
A823 : BEQ $A859 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A825 : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
A828 : TAY 			;A->Y
A829 : TXA 			;X->A
A82A : BEQ $A82D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A82C : INY 			;Y++
A82D : CPY $03E6 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
A830 : BCS $A835 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A832 : STY $03E6 			;Y->MEM
A835 : TYA 			;Y->A
A836 : LDX $05B0 			;->X
A839 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
A83C : STA $03E8 			;A->MEM
A83F : JMP $A870 			;
A842 : LDX $05B0 			;->X
A845 : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
A848 : TAY 			;A->Y
A849 : TXA 			;X->A
A84A : BEQ $A84D 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A84C : INY 			;Y++
A84D : STY $03E6 			;Y->MEM
A850 : LDA $03E9 			;->A
A853 : STA $03E8 			;A->MEM
A856 : JMP $A870 			;

A859 : LDX $03E6 			;->X
A85C : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
A85F : TAY 			;A->Y
A860 : TXA 			;X->A
A861 : BEQ $A864 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A863 : INY 			;Y++
A864 : STY $05B0 			;Y->MEM
A867 : LDA $03E9 			;->A
A86A : STA $03E8 			;A->MEM
A86D : JMP $A870 			;

A870 : LDA $03E6 			;->A
A873 : LDX $05B0 			;->X
A876 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
A879 : STA $03E7 			;A->MEM
A87C : RTS 			;×Ó³ÌÐò·µ»Ø

A87D : LDA $86 			;->A
A87F : STA $03F4 			;A->MEM
A882 : BMI $A8B5 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A884 : CMP $03E9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A887 : BCS $A8B5 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A889 : LDA $03E5 			;->A
A88C : AND #$08 			;A¡Ä$n¡úA
A88E : BEQ $A8B5 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A890 : LDA #$00 			;->A
A892 : STA $05AD 			;A->MEM
A895 : LDA $86 			;->A
A897 : STA $05AE 			;A->MEM
A89A : LDA $05AD 			;->A
A89D : CLC 			;Çå½øÎ»±êÖ¾
A89E : ADC $03E7 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A8A1 : CMP $05AE 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A8A4 : BEQ $A8A8 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A8A6 : BCS $A8B5 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A8A8 : CLC 			;Çå½øÎ»±êÖ¾
A8A9 : LDA $05AD 			;->A
A8AC : ADC $05B0 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A8AF : STA $05AD 			;A->MEM
A8B2 : JMP $A89A 			;
A8B5 : RTS 			;×Ó³ÌÐò·µ»Ø

A8B6 : JSR $A8D1  			;Ìø×ª×Ó³ÌÐò
A8B9 : DEC $043F 			;MEM--
A8BC : DEC $0440 			;MEM--
A8BF : INC $0441 			;MEM++
A8C2 : INC $0441 			;MEM++
A8C5 : INC $0442 			;MEM++
A8C8 : LDA #$01 			;->A
A8CA : STA $0445 			;A->MEM
A8CD : INT $9E2C      ;draw Rect
A8D0 : RTS 			;×Ó³ÌÐò·µ»Ø

A8D1 : LDX $03F0 			;->X
A8D4 : LDA $44 			;->A
A8D6 : LSR 			;AÂß¼­ÓÒÒÆ
A8D7 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
A8DA : STA $0441 			;A->MEM
A8DD : JSR $AB14  			;Ìø×ª×Ó³ÌÐò
A8E0 : LDX $03F0 			;->X
A8E3 : LDA $44 			;->A
A8E5 : LSR 			;AÂß¼­ÓÒÒÆ
A8E6 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
A8E9 : STA $043F 			;A->MEM
A8EC : LDA $03E3 			;->A
A8EF : STA $0440 			;A->MEM
A8F2 : CLC 			;Çå½øÎ»±êÖ¾
A8F3 : LDA $03F1 			;->A
A8F6 : ADC $44 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A8F8 : STA $0442 			;A->MEM
A8FB : LDA $0403 			;->A
A8FE : BNE $A909 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A900 : INC $043F 			;MEM++
A903 : INC $043F 			;MEM++
A906 : DEC $0442 			;MEM--
A909 : RTS 			;×Ó³ÌÐò·µ»Ø

A90A : LDA $05AC 			;->A
A90D : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A90F : BEQ $A97E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A911 : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A913 : BEQ $A97E 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A915 : CMP #$08 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A917 : BNE $A91C 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A919 : JMP $A9EA 			;
A91C : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
A91D : LDA $03E3 			;->A
A920 : SBC $44 			;A-MEM-C->A
A922 : STA $03F1 			;A->MEM
A925 : LDA $05AD 			;->A
A928 : STA $03F2 			;A->MEM
A92B : LDA #$00 			;->A
A92D : STA $03F3 			;A->MEM
A930 : JSR $AB14  			;Ìø×ª×Ó³ÌÐò
A933 : CLC 			;Çå½øÎ»±êÖ¾
A934 : LDA $03F1 			;->A
A937 : ADC $44 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A939 : STA $03F1 			;A->MEM
A93C : LDX #$00 			;->X
A93E : TXA 			;X->A
A93F : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
A940 : LDY $03F2 			;->Y
A943 : JSR $AB22  			;Ìø×ª×Ó³ÌÐò
A946 : LDY $03F2 			;->Y
A949 : JSR $AABE  			;Ìø×ª×Ó³ÌÐò
A94C : JSR $AC1A  			;Ìø×ª×Ó³ÌÐò
A94F : PLA 			;A³öÕ»
A950 : TAX 			;A->X
A951 : INX 			;X++
A952 : INC $03F2 			;MEM++
A955 : LDA $03F2 			;->A
A958 : CMP $03E9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A95B : BCS $A96D 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A95D : CPX $05B0 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
A960 : BCC $A93E 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A962 : INC $03F3 			;MEM++
A965 : LDA $03F3 			;->A
A968 : CMP $03E6 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A96B : BCC $A930 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A96D : LDA $0435 			;->A
A970 : AND #$7F 			;A¡Ä$n¡úA
A972 : STA $0435 			;A->MEM
A975 : BIT $03E5 			;A¡Ä($n2n1)
A978 : BPL $A97D 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A97A : JMP $A8B6 			;
A97D : RTS 			;×Ó³ÌÐò·µ»Ø

A97E : LDA $05AD 			;->A
A981 : STA $03F2 			;A->MEM
A984 : LDA $03E3 			;->A
A987 : STA $03F1 			;A->MEM
A98A : LDA $03E2 			;->A
A98D : LSR 			;AÂß¼­ÓÒÒÆ
A98E : LSR 			;AÂß¼­ÓÒÒÆ
A98F : LSR 			;AÂß¼­ÓÒÒÆ
A990 : STA $03F0 			;A->MEM
A993 : LDY $03F2 			;->Y
A996 : JSR $ABC1  			;Ìø×ª×Ó³ÌÐò
A999 : LDY $03F2 			;->Y
A99C : JSR $AB58  			;Ìø×ª×Ó³ÌÐò
A99F : INC $03F2 			;MEM++
A9A2 : LDA $03F2 			;->A
A9A5 : CMP $03E9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A9A8 : BCC $A993 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A9AA : JSR $A9B7  			;Ìø×ª×Ó³ÌÐò
A9AD : LDY $05AE 			;->Y
A9B0 : JSR $AABE  			;Ìø×ª×Ó³ÌÐò
A9B3 : JSR $AC1A  			;Ìø×ª×Ó³ÌÐò
A9B6 : RTS 			;×Ó³ÌÐò·µ»Ø

A9B7 : LDA $05AC 			;->A
A9BA : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A9BC : BEQ $A9C3 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A9BE : CMP #$05 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
A9C0 : BEQ $A9D0 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
A9C2 : RTS 			;×Ó³ÌÐò·µ»Ø

A9C3 : JSR $AB14  			;Ìø×ª×Ó³ÌÐò
A9C6 : CLC 			;Çå½øÎ»±êÖ¾
A9C7 : LDA $03F1 			;->A
A9CA : ADC #$0C 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
A9CC : STA $03F1 			;A->MEM
A9CF : RTS 			;×Ó³ÌÐò·µ»Ø

A9D0 : JSR $AB14  			;Ìø×ª×Ó³ÌÐò
A9D3 : LDA $03E4 			;->A
A9D6 : BNE $A9DA 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
A9D8 : LDA #$08 			;->A
A9DA : STA $80 			;A->MEM
A9DC : INC $80 			;MEM++
A9DE : INC $80 			;MEM++
A9E0 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
A9E1 : LDA $03F0 			;->A
A9E4 : SBC $80 			;A-MEM-C->A
A9E6 : STA $03F0 			;A->MEM
A9E9 : RTS 			;×Ó³ÌÐò·µ»Ø

A9EA : LDA $03E3 			;->A
A9ED : STA $03F1 			;A->MEM
A9F0 : LDA $05AD 			;->A
A9F3 : STA $03F2 			;A->MEM
A9F6 : LDA #$00 			;->A
A9F8 : STA $03F3 			;A->MEM
A9FB : LDA $03E2 			;->A
A9FE : STA $03F0 			;A->MEM
AA01 : LDX #$00 			;->X
AA03 : TXA 			;X->A
AA04 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AA05 : LDY $03F2 			;->Y
AA08 : JSR $AA42  			;Ìø×ª×Ó³ÌÐò
AA0B : PLA 			;A³öÕ»
AA0C : TAX 			;A->X
AA0D : INX 			;X++
AA0E : INC $03F2 			;MEM++
AA11 : LDA $03F2 			;->A
AA14 : CMP $03E9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AA17 : BCS $AA3C 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AA19 : CPX $05B0 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
AA1C : BCC $AA03 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AA1E : CLC 			;Çå½øÎ»±êÖ¾
AA1F : LDA $03F1 			;->A
AA22 : ADC $03E4 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AA25 : STA $03F1 			;A->MEM
AA28 : CLC 			;Çå½øÎ»±êÖ¾
AA29 : LDA $03F1 			;->A
AA2C : ADC #$08 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AA2E : STA $03F1 			;A->MEM
AA31 : INC $03F3 			;MEM++
AA34 : LDA $03F3 			;->A
AA37 : CMP $03E6 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AA3A : BCC $A9FB 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AA3C : LDA #$00 			;->A
AA3E : STA $0445 			;A->MEM
AA41 : RTS 			;×Ó³ÌÐò·µ»Ø

AA42 : LDA #$01 			;->A
AA44 : CPY $05AE 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
AA47 : BNE $AA4B 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AA49 : LDA #$06 			;->A
AA4B : STA $0445 			;A->MEM
AA4E : TYA 			;Y->A
AA4F : ASL 			;ËãÊõ×óÒÆ
AA50 : TAY 			;A->Y
AA51 : LDA $03EE 			;->A
AA54 : STA $CC 			;A->MEM
AA56 : LDA $03EF 			;->A
AA59 : STA $CD 			;A->MEM
AA5B : LDA ($CC),Y 			;->A
AA5D : STA $92 			;A->MEM
AA5F : INY 			;Y++
AA60 : LDA ($CC),Y 			;->A
AA62 : STA $93 			;A->MEM
AA64 : JSR $AA91  			;Ìø×ª×Ó³ÌÐò
AA67 : LDA $92 			;->A
AA69 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AA6A : LDA $93 			;->A
AA6C : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AA6D : LDX $03F0 			;->X
AA70 : LDY $03F1 			;->Y
AA73 : INT $9E30        ;draw image(x,y,$8081)
AA76 : PLA 			;A³öÕ»
AA77 : STA $93 			;A->MEM
AA79 : PLA 			;A³öÕ»
AA7A : STA $92 			;A->MEM
AA7C : LDY #$00 			;->Y
AA7E : LDA ($92),Y 			;->A
AA80 : CLC 			;Çå½øÎ»±êÖ¾
AA81 : ADC #$04 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AA83 : CLC 			;Çå½øÎ»±êÖ¾
AA84 : ADC $03F0 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AA87 : STA $03F0 			;A->MEM
AA8A : INY 			;Y++
AA8B : LDA ($92),Y 			;->A
AA8D : STA $03E4 			;A->MEM
AA90 : RTS 			;×Ó³ÌÐò·µ»Ø
AA91 : LDY #$00 			;->Y
AA93 : LDA ($92),Y 			;->A
AA95 : LSR 			;AÂß¼­ÓÒÒÆ
AA96 : LSR 			;AÂß¼­ÓÒÒÆ
AA97 : LSR 			;AÂß¼­ÓÒÒÆ
AA98 : TAX 			;A->X
AA99 : LDA ($92),Y 			;->A
AA9B : AND #$07 			;A¡Ä$n¡úA
AA9D : BEQ $AAA0 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AA9F : INX 			;X++
AAA0 : INY 			;Y++
AAA1 : LDA ($92),Y 			;->A
AAA3 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
AAA6 : CLC 			;Çå½øÎ»±êÖ¾
AAA7 : ADC #$02 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AAA9 : TAX 			;A->X
AAAA : LDY #$00 			;->Y
AAAC : LDA ($92),Y 			;->A
AAAE : STA $2740,Y 			;A->MEM
AAB1 : INY 			;Y++
AAB2 : DEX 			;X--
AAB3 : BNE $AAAC 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AAB5 : LDA #$40 			;->A
AAB7 : STA $92 			;A->MEM
AAB9 : LDA #$27 			;->A
AABB : STA $93 			;A->MEM
AABD : RTS 			;×Ó³ÌÐò·µ»Ø

AABE : BIT $05AF 			;A¡Ä($n2n1)
AAC1 : BPL $AAEC 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AAC3 : LDA $05AF 			;->A
AAC6 : AND #$20 			;A¡Ä$n¡úA
AAC8 : BEQ $AACD 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AACA : TYA 			;Y->A
AACB : ASL 			;ËãÊõ×óÒÆ
AACC : TAY 			;A->Y
AACD : LDA ($CA),Y 			;->A
AACF : AND #$7F 			;A¡Ä$n¡úA
AAD1 : TAY 			;A->Y
AAD2 : CMP #$4D 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AAD4 : BNE $AADF 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AAD6 : LDA #$99 			;->A
AAD8 : STA $CC 			;A->MEM
AADA : LDA #$31 			;->A
AADC : STA $CD 			;A->MEM  3199 weapon name
AADE : RTS 			;×Ó³ÌÐò·µ»Ø
AADF : CMP #$4E 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AAE1 : BNE $AAEC 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AAE3 : LDA #$A2 			;->A
AAE5 : STA $CC 			;A->MEM
AAE7 : LDA #$31 			;->A
AAE9 : STA $CD 			;A->MEM
AAEB : RTS 			;×Ó³ÌÐò·µ»Ø
AAEC : LDA $03EE 			;->A
AAEF : STA $CC 			;A->MEM
AAF1 : LDA $03EF 			;->A
AAF4 : STA $CD 			;A->MEM
AAF6 : TYA 			;Y->A
AAF7 : TAX 			;A->X
AAF8 : BEQ $AB13 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AAFA : LDY #$FF 			;->Y
AAFC : INY 			;Y++
AAFD : LDA ($CC),Y 			;->A
AAFF : BEQ $AB05 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB01 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AB03 : BNE $AAFC 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB05 : INY 			;Y++
AB06 : TYA 			;Y->A
AB07 : CLC 			;Çå½øÎ»±êÖ¾
AB08 : ADC $CC 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB0A : STA $CC 			;A->MEM
AB0C : BCC $AB10 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB0E : INC $CD 			;MEM++
AB10 : DEX 			;X--
AB11 : BNE $AAFA 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB13 : RTS 			;×Ó³ÌÐò·µ»Ø

AB14 : LDA $44 			;->A
AB16 : LSR 			;AÂß¼­ÓÒÒÆ
AB17 : TAX 			;A->X
AB18 : LDA $03E2 			;->A
AB1B : INT $9E22      ;X,AÏà³ý.AÎªµÃÊý£¬XÎªÓàÊý 
AB1E : STA $03F0 			;A->MEM
AB21 : RTS 			;×Ó³ÌÐò·µ»Ø

AB22 : JSR $ABC1  			;Ìø×ª×Ó³ÌÐò
AB25 : LDA $0403 			;->A
AB28 : BNE $AB58 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB2A : JSR $AB99  			;Ìø×ª×Ó³ÌÐò
AB2D : LDA $44 			;->A
AB2F : LSR 			;AÂß¼­ÓÒÒÆ
AB30 : LDX $03F0 			;->X
AB33 : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
AB36 : CLC 			;Çå½øÎ»±êÖ¾
AB37 : ADC #$02 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB39 : STA $043F 			;A->MEM
AB3C : CLC 			;Çå½øÎ»±êÖ¾
AB3D : ADC #$0B 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB3F : STA $0441 			;A->MEM
AB42 : LDA $03F1 			;->A
AB45 : STA $0440 			;A->MEM
AB48 : CLC 			;Çå½øÎ»±êÖ¾
AB49 : ADC #$0B 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB4B : STA $0442 			;A->MEM
AB4E : INT $9E2F      		;
AB51 : INC $03F0 			;MEM++
AB54 : INC $03F0 			;MEM++
AB57 : RTS 			;×Ó³ÌÐò·µ»Ø
AB58 : LDA $03F1 			;->A
AB5B : LDX #$14 			;->X
AB5D : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
AB60 : CLC 			;Çå½øÎ»±êÖ¾
AB61 : LDA $80 			;->A
AB63 : ADC #$C0 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB65 : STA $94 			;A->MEM
AB67 : LDA $81 			;->A
AB69 : ADC #$09 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB6B : STA $95 			;A->MEM
AB6D : LDA $03F0 			;->A
AB70 : CLC 			;Çå½øÎ»±êÖ¾
AB71 : ADC $94 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB73 : STA $94 			;A->MEM
AB75 : BCC $AB79 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB77 : INC $95 			;MEM++
AB79 : LDX #$0C 			;->X
AB7B : LDY #$00 			;->Y
AB7D : LDA ($92),Y 			;->A
AB7F : STA ($94),Y 			;A->MEM
AB81 : INC $92 			;MEM++
AB83 : BNE $AB87 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB85 : INC $93 			;MEM++
AB87 : LDA #$14 			;->A
AB89 : CLC 			;Çå½øÎ»±êÖ¾
AB8A : ADC $94 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AB8C : STA $94 			;A->MEM
AB8E : BCC $AB92 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB90 : INC $95 			;MEM++
AB92 : DEX 			;X--
AB93 : BNE $AB7D 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AB95 : INC $03F0 			;MEM++
AB98 : RTS 			;×Ó³ÌÐò·µ»Ø
AB99 : LDY #$00 			;->Y
AB9B : LDX #$00 			;->X
AB9D : LDA #$00 			;->A
AB9F : STA $82 			;A->MEM
ABA1 : LDA ($92),Y 			;->A
ABA3 : LSR 			;AÂß¼­ÓÒÒÆ
ABA4 : ROR $82 			;Ñ­»·ÓÒÒÆ
ABA6 : LSR 			;AÂß¼­ÓÒÒÆ
ABA7 : ROR $82 			;Ñ­»·ÓÒÒÆ
ABA9 : STA $2740,X 			;A->MEM
ABAC : INX 			;X++
ABAD : LDA $82 			;->A
ABAF : STA $2740,X 			;A->MEM
ABB2 : INX 			;X++
ABB3 : INY 			;Y++
ABB4 : CPY #$0C 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
ABB6 : BCC $AB9D 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
ABB8 : LDA #$40 			;->A
ABBA : STA $92 			;A->MEM
ABBC : LDA #$27 			;->A
ABBE : STA $93 			;A->MEM
ABC0 : RTS 			;×Ó³ÌÐò·µ»Ø

ABC1 : LDA $05AC 			;->A
ABC4 : BEQ $ABEB 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ABC6 : CMP #$06 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
ABC8 : BEQ $AC03 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ABCA : CMP #$07 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
ABCC : BEQ $AC10 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ABCE : ASL 			;ËãÊõ×óÒÆ
ABCF : TAX 			;A->X
ABD0 : CPY $05AE 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
ABD3 : BEQ $ABE0 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ABD5 : LDA $AEEE,X 			;->A
ABD8 : STA $92 			;A->MEM
ABDA : LDA $AEEF,X 			;->A
ABDD : STA $93 			;A->MEM
ABDF : RTS 			;×Ó³ÌÐò·µ»Ø
ABE0 : LDA $AEDC,X 			;->A
ABE3 : STA $92 			;A->MEM
ABE5 : LDA $AEDD,X 			;->A
ABE8 : STA $93 			;A->MEM
ABEA : RTS 			;×Ó³ÌÐò·µ»Ø
ABEB : LDA $0435 			;->A
ABEE : AND #$7F 			;A¡Ä$n¡úA
ABF0 : STA $0435 			;A->MEM
ABF3 : CPY $05AE 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
ABF6 : BNE $AC00 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
ABF8 : LDA $0435 			;->A
ABFB : ORA #$80 			;A¡Å$n¡úA
ABFD : STA $0435 			;A->MEM
AC00 : PLA 			;A³öÕ»
AC01 : PLA 			;A³öÕ»
AC02 : RTS 			;×Ó³ÌÐò·µ»Ø

AC03 : LDA $05AC 			;->A
AC06 : CPY $03F4 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
AC09 : BEQ $ABCE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC0B : LDA #$02 			;->A
AC0D : JMP $ABCE 			;
AC10 : LDA ($CA),Y 			;->A
AC12 : BPL $AC0B 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC14 : LDA $05AC 			;->A
AC17 : JMP $ABCE 			;
AC1A : LDY #$FF 			;->Y
AC1C : INY 			;Y++
AC1D : LDA ($CC),Y 			;->A
AC1F : STA $92 			;A->MEM
AC21 : BEQ $AC4A 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC23 : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AC25 : BEQ $AC4A 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC27 : BIT $92  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)
AC29 : BPL $AC30 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC2B : INY 			;Y++
AC2C : LDA ($CC),Y 			;->A
AC2E : STA $93 			;A->MEM
AC30 : TYA 			;Y->A
AC31 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AC32 : LDX $03F0 			;->X
AC35 : LDY $03F1 			;->Y
AC38 : INT $302B
AC3B : INC $03F0 			;MEM++
AC3E : BIT $92  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)
AC40 : BPL $AC45 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC42 : INC $03F0 			;MEM++
AC45 : PLA 			;A³öÕ»
AC46 : TAY 			;A->Y
AC47 : JMP $AC1C 			;
AC4A : INY 			;Y++
AC4B : TYA 			;Y->A
AC4C : CLC 			;Çå½øÎ»±êÖ¾
AC4D : ADC $CC 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AC4F : STA $CC 			;A->MEM
AC51 : BCC $AC55 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC53 : INC $CD 			;MEM++
AC55 : DEY 			;Y--
AC56 : JSR $AC5A  			;Ìø×ª×Ó³ÌÐò
AC59 : RTS 			;×Ó³ÌÐò·µ»Ø

AC5A : LDA $05AF 			;->A
AC5D : BPL $ACB2 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC5F : AND #$20 			;A¡Ä$n¡úA
AC61 : BEQ $ACB2 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC63 : TYA 			;Y->A
AC64 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AC65 : LDA $03F0 			;->A
AC68 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AC69 : LDA #$78 			;->A
AC6B : STA $92 			;A->MEM
AC6D : LDX $03F0 			;->X
AC70 : LDY $03F1 			;->Y
AC73 : INT $302B
AC76 : INC $03F0 			;MEM++
AC79 : LDA $03F2 			;->A
AC7C : ASL 			;ËãÊõ×óÒÆ
AC7D : TAY 			;A->Y
AC7E : INY 			;Y++
AC7F : LDA #$00 			;->A
AC81 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AC82 : LDA ($CA),Y 			;->A
AC84 : JSR $ACD5  			;Ìø×ª×Ó³ÌÐò
AC87 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AC88 : TXA 			;X->A
AC89 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AC8A : TYA 			;Y->A
AC8B : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AC8C : PLA 			;A³öÕ»
AC8D : CMP #$30 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AC8F : BEQ $AC8C 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AC91 : STA $92 			;A->MEM
AC93 : LDX $03F0 			;->X
AC96 : LDY $03F1 			;->Y
AC99 : INT $302B
AC9C : INC $03F0 			;MEM++
AC9F : PLA 			;A³öÕ»
ACA0 : BNE $AC91 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
ACA2 : PLA 			;A³öÕ»
ACA3 : STA $80 			;A->MEM
ACA5 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
ACA6 : LDA $03F0 			;->A
ACA9 : SBC $80 			;A-MEM-C->A
ACAB : STA $80 			;A->MEM
ACAD : PLA 			;A³öÕ»
ACAE : CLC 			;Çå½øÎ»±êÖ¾
ACAF : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
ACB1 : TAY 			;A->Y
ACB2 : LDA $03E4 			;->A
ACB5 : BEQ $ACD4 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ACB7 : LDA #$00 			;->A
ACB9 : STA $92 			;A->MEM
ACBB : CPY $03E4 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
ACBE : BCS $ACD4 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ACC0 : TYA 			;Y->A
ACC1 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
ACC2 : LDX $03F0 			;->X
ACC5 : LDY $03F1 			;->Y
ACC8 : INT $302B
ACCB : PLA 			;A³öÕ»
ACCC : TAY 			;A->Y
ACCD : INC $03F0 			;MEM++
ACD0 : INY 			;Y++
ACD1 : JMP $ACBB 			;
ACD4 : RTS 			;×Ó³ÌÐò·µ»Ø
ACD5 : LDY #$2F 			;->Y
ACD7 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
ACD8 : INY 			;Y++
ACD9 : SBC #$64 			;A-MEM-C->A
ACDB : BCS $ACD8 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ACDD : ADC #$64 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
ACDF : LDX #$2F 			;->X
ACE1 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
ACE2 : INX 			;X++
ACE3 : SBC #$0A 			;A-MEM-C->A
ACE5 : BCS $ACE2 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ACE7 : ADC #$3A 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
ACE9 : RTS 			;×Ó³ÌÐò·µ»Ø
ACEA : BIT $05AF 			;A¡Ä($n2n1)
ACED : BVS $ACF0 			;Òç³ö±êÖ¾V=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ACEF : RTS 			;×Ó³ÌÐò·µ»Ø
ACF0 : LDA $05AE 			;->A
ACF3 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
ACF4 : LDA $05AD 			;->A
ACF7 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
ACF8 : LDA $03E2 			;->A
ACFB : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
ACFC : LDA $03E3 			;->A
ACFF : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD00 : LDA $A8 			;->A
AD02 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD03 : LDA $A9 			;->A
AD05 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD06 : LDA $03EA 			;->A
AD09 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD0A : LDA $03EB 			;->A
AD0D : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD0E : LDA $03EC 			;->A
AD11 : STA $80 			;A->MEM
AD13 : LDA $03ED 			;->A
AD16 : STA $81 			;A->MEM
AD18 : LDY #$00 			;->Y
AD1A : LDA $05AF 			;->A
AD1D : AND #$10 			;A¡Ä$n¡úA
AD1F : BNE $AD27 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AD21 : LDA $05AE 			;->A
AD24 : ASL 			;ËãÊõ×óÒÆ
AD25 : ASL 			;ËãÊõ×óÒÆ
AD26 : TAY 			;A->Y
AD27 : INY 			;Y++
AD28 : INY 			;Y++
AD29 : LDA ($80),Y 			;->A
AD2B : TAX 			;A->X
AD2C : INY 			;Y++
AD2D : LDA ($80),Y 			;->A
AD2F : STA $81 			;A->MEM
AD31 : STX $80 			;X->MEM
AD33 : LDA $05AE 			;->A
AD36 : STA $86 			;A->MEM
AD38 : LDA $80 			;->A
AD3A : ORA $81 			;A¡Å$81¡úA
AD3C : BEQ $AD41 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AD3E : JSR $AE05  			;Ìø×ª×Ó³ÌÐò
AD41 : PLA 			;A³öÕ»
AD42 : STA $03EB 			;A->MEM
AD45 : PLA 			;A³öÕ»
AD46 : STA $03EA 			;A->MEM
AD49 : PLA 			;A³öÕ»
AD4A : STA $A9 			;A->MEM
AD4C : PLA 			;A³öÕ»
AD4D : STA $A8 			;A->MEM
AD4F : PLA 			;A³öÕ»
AD50 : STA $03E3 			;A->MEM
AD53 : PLA 			;A³öÕ»
AD54 : STA $03E2 			;A->MEM
AD57 : PLA 			;A³öÕ»
AD58 : STA $05AD 			;A->MEM
AD5B : PLA 			;A³öÕ»
AD5C : STA $05AE 			;A->MEM
AD5F : JSR $A71E  			;Ìø×ª×Ó³ÌÐò
AD62 : RTS 			;×Ó³ÌÐò·µ»Ø

AD63 : LDA $05AE 			;->A
AD66 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD67 : LDA $05AD 			;->A
AD6A : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD6B : LDA $03E2 			;->A
AD6E : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD6F : LDA $03E3 			;->A
AD72 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD73 : LDA $A8 			;->A
AD75 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD76 : LDA $A9 			;->A
AD78 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD79 : LDA $03EA 			;->A
AD7C : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD7D : LDA $03EB 			;->A
AD80 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AD81 : LDA $03EC 			;->A
AD84 : STA $80 			;A->MEM
AD86 : LDA $03ED 			;->A
AD89 : STA $81 			;A->MEM
AD8B : LDY #$00 			;->Y
AD8D : LDA $05AF 			;->A
AD90 : AND #$10 			;A¡Ä$n¡úA
AD92 : BNE $AD9F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AD94 : LDA $05AE 			;->A
AD97 : ASL 			;ËãÊõ×óÒÆ
AD98 : BIT $05AF 			;A¡Ä($n2n1)
AD9B : BVC $AD9E 			;Òç³öV=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AD9D : ASL 			;ËãÊõ×óÒÆ
AD9E : TAY 			;A->Y
AD9F : LDA ($80),Y 			;->A
ADA1 : TAX 			;A->X
ADA2 : INY 			;Y++
ADA3 : LDA ($80),Y 			;->A
ADA5 : STA $81 			;A->MEM
ADA7 : STX $80 			;X->MEM
ADA9 : LDA $05AE 			;->A
ADAC : STA $86 			;A->MEM
ADAE : LDA $80 			;->A
ADB0 : ORA $81 			;A¡Å$81¡úA
ADB2 : BEQ $ADE0 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ADB4 : JSR $AE05  			;Ìø×ª×Ó³ÌÐò
ADB7 : PLA 			;A³öÕ»
ADB8 : STA $03EB 			;A->MEM
ADBB : PLA 			;A³öÕ»
ADBC : STA $03EA 			;A->MEM
ADBF : PLA 			;A³öÕ»
ADC0 : STA $A9 			;A->MEM
ADC2 : PLA 			;A³öÕ»
ADC3 : STA $A8 			;A->MEM
ADC5 : PLA 			;A³öÕ»
ADC6 : STA $03E3 			;A->MEM
ADC9 : PLA 			;A³öÕ»
ADCA : STA $03E2 			;A->MEM
ADCD : PLA 			;A³öÕ»
ADCE : STA $05AD 			;A->MEM
ADD1 : PLA 			;A³öÕ»
ADD2 : STA $05AE 			;A->MEM
ADD5 : JSR $A71E  			;Ìø×ª×Ó³ÌÐò
ADD8 : LDA $03E9 			;->A
ADDB : BEQ $ADFE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
ADDD : JMP $AEC6 			;

ADE0 : PLA 			;A³öÕ»
ADE1 : STA $03EB 			;A->MEM
ADE4 : PLA 			;A³öÕ»
ADE5 : STA $03EA 			;A->MEM
ADE8 : PLA 			;A³öÕ»
ADE9 : STA $A9 			;A->MEM
ADEB : PLA 			;A³öÕ»
ADEC : STA $A8 			;A->MEM
ADEE : PLA 			;A³öÕ»
ADEF : STA $03E3 			;A->MEM
ADF2 : PLA 			;A³öÕ»
ADF3 : STA $03E2 			;A->MEM
ADF6 : PLA 			;A³öÕ»
ADF7 : STA $05AD 			;A->MEM
ADFA : PLA 			;A³öÕ»
ADFB : STA $05AE 			;A->MEM
ADFE : PLA 			;A³öÕ»
ADFF : PLA 			;A³öÕ»
AE00 : PLA 			;A³öÕ»
AE01 : PLA 			;A³öÕ»
AE02 : LDA $86 			;->A
AE04 : RTS 			;×Ó³ÌÐò·µ»Ø
AE05 : JMP ($0080) 			;

AE08 : LDA $03E6 			;->A
AE0B : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE0D : BEQ $AE83 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE0F : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
AE10 : LDA $05AE 			;->A
AE13 : SBC $05B0 			;A-MEM-C->A
AE16 : STA $05AE 			;A->MEM
AE19 : BCS $AE99 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE1B : ADC $03E8 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AE1E : STA $05AE 			;A->MEM
AE21 : CMP $03E9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE24 : BCC $AE8C 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE26 : LDX $05AE 			;->X
AE29 : DEX 			;X--
AE2A : STX $05AE 			;X->MEM
AE2D : BCS $AE8C 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE2F : LDA $05B0 			;->A
AE32 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE34 : BEQ $AE83 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE36 : DEC $05AE 			;MEM--
AE39 : BPL $AE99 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE3B : LDX $03E9 			;->X
AE3E : DEX 			;X--
AE3F : STX $05AE 			;X->MEM
AE42 : JMP $AE8C 			;

AE45 : LDA $03E6 			;->A
AE48 : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE4A : BEQ $AE83 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE4C : CLC 			;Çå½øÎ»±êÖ¾
AE4D : LDA $05AE 			;->A
AE50 : ADC $05B0 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AE53 : STA $05AE 			;A->MEM
AE56 : CMP $03E9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE59 : BCC $AEAE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE5B : SBC $03E8 			;A-MEM-C->A
AE5E : STA $05AE 			;A->MEM
AE61 : BCS $AE84 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE63 : LDA #$00 			;->A
AE65 : STA $05AE 			;A->MEM
AE68 : BCC $AE84 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE6A : LDA $05B0 			;->A
AE6D : CMP #$01 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE6F : BEQ $AE83 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE71 : INC $05AE 			;MEM++
AE74 : LDA $05AE 			;->A
AE77 : CMP $03E9 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE7A : BCC $AEAE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE7C : LDA #$00 			;->A
AE7E : STA $05AE 			;A->MEM
AE81 : BCS $AE84 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AE83 : RTS 			;×Ó³ÌÐò·µ»Ø

AE84 : LDA #$00 			;->A
AE86 : STA $05AD 			;A->MEM
AE89 : JMP $AEC6 			;

AE8C : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
AE8D : LDA $03E8 			;->A
AE90 : SBC $03E7 			;A-MEM-C->A
AE93 : STA $05AD 			;A->MEM
AE96 : JMP $AEC6 			;

AE99 : LDA $05AE 			;->A
AE9C : CMP $05AD 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AE9F : BCS $AEC6 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AEA1 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
AEA2 : LDA $05AD 			;->A
AEA5 : SBC $05B0 			;A-MEM-C->A
AEA8 : STA $05AD 			;A->MEM
AEAB : JMP $AEC6 			;

AEAE : LDA $05AD 			;->A
AEB1 : CLC 			;Çå½øÎ»±êÖ¾
AEB2 : ADC $03E7 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AEB5 : CMP $05AE 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AEB8 : BEQ $AEBC 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AEBA : BCS $AEC6 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AEBC : CLC 			;Çå½øÎ»±êÖ¾
AEBD : LDA $05AD 			;->A
AEC0 : ADC $05B0 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
AEC3 : STA $05AD 			;A->MEM
AEC6 : JSR $A90A  			;Ìø×ª×Ó³ÌÐò
AEC9 : JSR $ACEA  			;Ìø×ª×Ó³ÌÐò
AECC : RTS 			;×Ó³ÌÐò·µ»Ø
AECD : 0D 17 16 14 15 
  63AD 2FAE 6AAE 08AE 45AE

AEDF : AF  ;???

AEE0 :  C  ;???

AEE1 : AF  ;???

AEE2 : BIT $AF  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)

AEE4 : 3C  ;???

AEE5 : AF  ;???

AEE6 : 3C  ;???

AEE7 : AF  ;???

AEE8 : 54  ;???

AEE9 : AF  ;???

AEEA : 54  ;???

AEEB : AF  ;???

AEEC : INT $6C00

AEEF : AF  ;???

AEF0 : JMP ($18AF) 			;

AEF3 : AF  ;???

AEF4 : BMI $AEA5 			;N=0Ôò×ªÒÆ,·ñÔò¼ÌÐø

AEF6 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»

AEF7 : AF  ;???

AEF8 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»

AEF9 : AF  ;???

AEFA : RTS 			;×Ó³ÌÐò·µ»Ø

AEFB : AF  ;???

AEFC : RTS 			;×Ó³ÌÐò·µ»Ø

AEFD : AF  ;???

AEFE : INT $0000

AF01 : INT $E0C0

AF04 : BEQ $AEFE 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø

AF06 : FC  ;???

AF07 : SED 			;ÖÃÊ®½øÖÆÔËËã±êÖ¾D

AF08 : BEQ $AEEA 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø

AF0A : CPY #$00 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)

AF0C : INT $0000

AF0F : INT $FC00

AF12 : FC  ;???

AF13 : FC  ;???

AF14 : FC  ;???

AF15 : FC  ;???

AF16 : FC  ;???

AF17 : INT $0000

AF1A : INT $0000

AF1D : FC  ;???

AF1E : STY $84 			;Y->MEM

AF20 : STY $84 			;Y->MEM

AF22 : FC  ;???

AF23 : INT $0000

AF26 : INT $423C

AF29 : STA $BDBD,Y 			;A->MEM

AF2C : STA $3C42,Y 			;A->MEM

AF2F : INT $0000

AF32 : INT $423C

AF35 : STA ($81,X)  			;A->MEM

AF37 : STA ($81,X)  			;A->MEM

AF39 : 42  ;???

AF3A : 3C  ;???

AF3B : INT $0000

AF3E : FC  ;???

AF3F : FC  ;???

AF40 : FC  ;???

AF41 : FC  ;???

AF42 : FC  ;???

AF43 : FC  ;???

AF44 : INT $0000

AF47 : INT $0000

AF4A : FC  ;???

AF4B : STY $84 			;Y->MEM

AF4D : STY $84 			;Y->MEM

AF4F : FC  ;???

AF50 : INT $0000

AF53 : INT $0000

AF56 : INT $0000

AF59 : SBC $FCFE,X 			;A-MEM-C->A

AF5C : FC  ;???

AF5D : FC  ;???

AF5E : FC  ;???

AF5F : INT $0000

AF62 : INT $0000

AF65 : SBC $C486,X 			;A-MEM-C->A

AF68 : LDY $FC94 			;->Y

AF6B : INT $0000

AF6E : INT $0000

AF71 : INT $0000

AF74 : INT $0000

AF77 : INT $14A2

AF7A : LDY #$50 			;->Y
AF7C : LDA #$10 			;->A
AF7E : STA $44 			;A->MEM
AF80 : LDA $0402 			;->A
AF83 : BEQ $AF92 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AF85 : LDA $0403 			;->A
AF88 : BNE $AF92 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AF8A : LDX #$1A 			;->X
AF8C : LDY #$50 			;->Y
AF8E : LDA #$0C 			;->A
AF90 : STA $44 			;A->MEM
AF92 : STX $42 			;X->MEM
AF94 : STY $43 			;Y->MEM
AF96 : RTS 			;×Ó³ÌÐò·µ»Ø

AF97 : LDA $92 			;->A
AF99 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AF9A : LDA $0435 			;->A
AF9D : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AF9E : LDA $043C 			;->A
AFA1 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AFA2 : LDA $043A 			;->A
AFA5 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
AFA6 : STX $043A 			;X->MEM
AFA9 : STY $043C 			;Y->MEM
AFAC : CPY #$50 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
AFAE : BCS $AFD0 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFB0 : LDA $0435 			;->A
AFB3 : AND #$0F 			;A¡Ä$n¡úA
AFB5 : BEQ $AFCB 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFB7 : CMP #$04 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
AFB9 : BCS $AFD0 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFBB : LDA $0435 			;->A
AFBE : AND #$F0 			;A¡Ä$n¡úA
AFC0 : ORA #$01 			;A¡Å$n¡úA
AFC2 : BIT $92  			;A¡Ä($n)(½á¹û=0,Z=1)(½á¹û!=0,Z=0)
AFC4 : BPL $AFC8 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFC6 : ORA #$02 			;A¡Å$n¡úA
AFC8 : STA $0435 			;A->MEM
AFCB : LDA $92 			;->A
AFCD : INT $8A1E    ;ÆÁÄ»?
AFD0 : PLA 			;A³öÕ»
AFD1 : STA $043A 			;A->MEM
AFD4 : PLA 			;A³öÕ»
AFD5 : STA $043C 			;A->MEM
AFD8 : PLA 			;A³öÕ»
AFD9 : STA $0435 			;A->MEM
AFDC : PLA 			;A³öÕ»
AFDD : STA $92 			;A->MEM
AFDF : RTS 			;×Ó³ÌÐò·µ»Ø

AFE0 : LDX $0432 			;->X
AFE3 : LDY $0433 			;->Y
AFE6 : LDA $0431 			;->A
AFE9 : BPL $AFFA 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFEB : CPX $14 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
AFED : BCS $AFFA 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFEF : CPY #$50 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
AFF1 : BCS $AFFA 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFF3 : LDA $0431 			;->A
AFF6 : AND #$20 			;A¡Ä$n¡úA
AFF8 : BNE $AFFB 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
AFFA : RTS 			;×Ó³ÌÐò·µ»Ø

AFFB : TYA 			;Y->A
AFFC : LDX #$14 			;->X
AFFE : INT $9E1F      ;A,XÏà³Ë£¬½á¹û·Å80
B001 : CLC 			;Çå½øÎ»±êÖ¾
B002 : LDA $80 			;->A
B004 : ADC #$C0 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B006 : STA $80 			;A->MEM
B008 : LDA $81 			;->A
B00A : ADC #$09 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B00C : STA $81 			;A->MEM
B00E : LDX #$00 			;->X
B010 : LDY $0432 			;->Y
B013 : LDA $B040,X 			;->A   7C3810
B016 : BIT $0431 			;A¡Ä($n2n1)
B019 : BVS $B01D 			;Òç³ö±êÖ¾V=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B01B : LDA #$00 			;->A
B01D : STA $82 			;A->MEM
B01F : LDA ($80),Y 			;->A
B021 : AND #$01 			;A¡Ä$n¡úA
B023 : ORA $82 			;A¡Å$82¡úA
B025 : STA ($80),Y 			;A->MEM
B027 : LDA #$14 			;->A
B029 : CLC 			;Çå½øÎ»±êÖ¾
B02A : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B02C : STA $80 			;A->MEM
B02E : BCC $B032 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B030 : INC $81 			;MEM++
B032 : INX 			;X++
B033 : CPX $04 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
B035 : BCC $B013 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B037 : LDA $0431 			;->A
B03A : EOR #$40 			;AÒì»ò($n)¡úA
B03C : STA $0431 			;A->MEM
B03F : RTS 			;×Ó³ÌÐò·µ»Ø

B040 : INC $387C,X 			;MEM++

B043 : BPL $AFDD 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø

;Run addr by index
B044 : TYA 			;Y->A
B045 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B046 : TXA 			;X->A
B047 : DEY 			;Y--
B048 : CMP ($80),Y 			;ÓëA±È½Ï,(A>MEM,c=1)(A<MEM,C=0)(A==MEM,Z=0)
B04A : BEQ $B053 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B04C : DEY 			;Y--
B04D : BPL $B048 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B04F : PLA 			;A³öÕ»
B050 : TXA 			;X->A
B051 : CLC 			;Çå½øÎ»±êÖ¾
B052 : RTS 			;×Ó³ÌÐò·µ»Ø
B053 : PLA 			;A³öÕ»
B054 : CLC 			;Çå½øÎ»±êÖ¾
B055 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B057 : STA $80 			;A->MEM
B059 : BCC $B05D 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B05B : INC $81 			;MEM++
B05D : TXA 			;X->A
B05E : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B05F : TYA 			;Y->A
B060 : ASL 			;ËãÊõ×óÒÆ
B061 : TAY 			;A->Y
B062 : LDA ($80),Y 			;->A
B064 : TAX 			;A->X
B065 : INY 			;Y++
B066 : LDA ($80),Y 			;->A
B068 : STA $81 			;A->MEM
B06A : STX $80 			;X->MEM
B06C : DEY 			;Y--
B06D : TYA 			;Y->A
B06E : LSR 			;AÂß¼­ÓÒÒÆ
B06F : TAY 			;A->Y
B070 : PLA 			;A³öÕ»
B071 : TAX 			;A->X
B072 : JSR $B077  			;Ìø×ª×Ó³ÌÐò
B075 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
B076 : RTS 			;×Ó³ÌÐò·µ»Ø
B077 : JMP ($0080) 			;

B07A : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B07B : TYA 			;Y->A
B07C : TAX 			;A->X
B07D : PLA 			;A³öÕ»
B07E : DEY 			;Y--
B07F : CMP ($80),Y 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B081 : BEQ $B088 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B083 : DEY 			;Y--
B084 : BPL $B07F 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B086 : CLC 			;Çå½øÎ»±êÖ¾
B087 : RTS 			;×Ó³ÌÐò·µ»Ø
B088 : TXA 			;X->A
B089 : CLC 			;Çå½øÎ»±êÖ¾
B08A : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B08C : STA $80 			;A->MEM
B08E : BCC $B092 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B090 : INC $81 			;MEM++
B092 : TYA 			;Y->A
B093 : ASL 			;ËãÊõ×óÒÆ
B094 : TAY 			;A->Y
B095 : LDA ($80),Y 			;->A
B097 : TAX 			;A->X
B098 : INY 			;Y++
B099 : LDA ($80),Y 			;->A
B09B : STA $81 			;A->MEM
B09D : STX $80 			;X->MEM
B09F : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
B0A0 : RTS 			;×Ó³ÌÐò·µ»Ø

;find array elem addr
B0A1 : TAX 			;A->X
B0A2 : BEQ $B0BD 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B0A4 : LDY #$FF 			;->Y
B0A6 : INY 			;Y++
B0A7 : LDA ($80),Y 			;->A
B0A9 : BEQ $B0AF 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B0AB : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B0AD : BNE $B0A6 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B0AF : INY 			;Y++
B0B0 : TYA 			;Y->A
B0B1 : CLC 			;Çå½øÎ»±êÖ¾
B0B2 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B0B4 : STA $80 			;A->MEM
B0B6 : BCC $B0BA 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B0B8 : INC $81 			;MEM++
B0BA : DEX 			;X--
B0BB : BNE $B0A4 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B0BD : RTS 			;×Ó³ÌÐò·µ»Ø
B0BE : RTS 			;×Ó³ÌÐò·µ»Ø

B0BF : LDY $ED,X 			;->Y

B0C1 : DEC $BAF3 			;MEM--

B0C4 : CMP $3A 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)

B0C6 : ORA ($FC,X) 			;A¡Å($FC)¡úA

B0C8 : ORA $00 			;A¡Å$00¡úA

B0CA : INT $8600
B0CD : TAY 			;A->Y
B0CE : STY $A9 			;Y->MEM
B0D0 : JSR $E01E  			;Ìø×ª×Ó³ÌÐò
B0D3 : JSR $B143  			;Ìø×ª×Ó³ÌÐò
B0D6 : JSR $B15D  			;Ìø×ª×Ó³ÌÐò
B0D9 : LDA $043F 			;->A
B0DC : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B0DD : LDA $0440 			;->A
B0E0 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B0E1 : LDY #$02 			;->Y
B0E3 : JSR $B137  			;Ìø×ª×Ó³ÌÐò
B0E6 : JSR $B173  			;Ìø×ª×Ó³ÌÐò
B0E9 : PLA 			;A³öÕ»
B0EA : STA $0440 			;A->MEM
B0ED : PLA 			;A³öÕ»
B0EE : STA $043F 			;A->MEM
B0F1 : LDA $043F 			;->A
B0F4 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B0F5 : LDA $0440 			;->A
B0F8 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B0F9 : LDY #$04 			;->Y
B0FB : JSR $B137  			;Ìø×ª×Ó³ÌÐò
B0FE : JSR $B180  			;Ìø×ª×Ó³ÌÐòdraw point number
B101 : PLA 			;A³öÕ»
B102 : STA $0440 			;A->MEM
B105 : PLA 			;A³öÕ»
B106 : STA $043F 			;A->MEM
B109 : LDA $04B9 			;->A
B10C : ORA $04BA 			;A¡Å($n2n1)¡úA
B10F : BEQ $B129 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B111 : LDA #$00 			;->A
B113 : STA $046E 			;A->MEM
B116 : LDA #$00 			;->A
B118 : STA $0477 			;A->MEM
B11B : LDA $C7 			;->A
B11D : BPL $B109 			;N=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B11F : AND #$7F 			;A¡Ä$n¡úA
B121 : STA $C7 			;A->MEM
B123 : CMP #$1B 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B125 : BNE $B109 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B127 : BEQ $B133 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B129 : JSR $B143  			;Ìø×ª×Ó³ÌÐò
B12C : LDY #$08 			;->Y
B12E : JSR $B137  			;Ìø×ª×Ó³ÌÐò
B131 : BCC $B0D6 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B133 : JSR $E021  			;Ìø×ª×Ó³ÌÐò
B136 : RTS 			;×Ó³ÌÐò·µ»Ø
;?
B137 : LDA ($A8),Y 			;->A
B139 : STA $80 			;A->MEM
B13B : INY 			;Y++
B13C : LDA ($A8),Y 			;->A
B13E : STA $81 			;A->MEM
B140 : JMP ($0080) 			;
B143 : LDY #$06 			;->Y
B145 : LDA ($A8),Y 			;->A
B147 : STA $04B9 			;A->MEM
B14A : INY 			;Y++
B14B : LDA ($A8),Y 			;->A
B14D : STA $04BA 			;A->MEM
B150 : LSR $04BA 			;Âß¼­ÓÒÒÆ
B153 : ROR $04B9 			;Ñ­»·ÓÒÒÆ
B156 : LSR $04BA 			;Âß¼­ÓÒÒÆ
B159 : ROR $04B9 			;Ñ­»·ÓÒÒÆ
B15C : RTS 			;×Ó³ÌÐò·µ»Ø

B15D : LDY #$00 			;->Y
B15F : LDA ($A8),Y 			;->A
B161 : STA $043F 			;A->MEM
B164 : INY 			;Y++
B165 : LDA ($A8),Y 			;->A
B167 : STA $0440 			;A->MEM
B16A : LDX $0440 			;->X
B16D : LDY #$08 			;->Y
B16F : INT $9E31      ;?
B172 : RTS 			;×Ó³ÌÐò·µ»Ø

B173 : LDX $043F 			;->X
B176 : LDY $0440 			;->Y
B179 : INY 			;Y++
B17A : LDA #$40 			;->A
B17C : INT $9E34      ;?
B17F : RTS 			;×Ó³ÌÐò·µ»Ø
;draw point number
B180 : LDA $043F 			;->A
B183 : CLC 			;Çå½øÎ»±êÖ¾
B184 : ADC #$48 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B186 : TAX 			;A->X
B187 : LDY $0440 			;->Y
B18A : INY 			;Y++
B18B : INY 			;Y++
B18C : INT $9E32    ;draw point number
B18F : RTS 			;×Ó³ÌÐò·µ»Ø

;ÏµÍ³ÐòÁÐºÅ1000+1002->2F85 1001+1003->2F86
B190 : INT $890A(Page89 5A98)	;»ñÈ¡ÏµÍ³ÐòÁÐºÅ²¢¶Áµ½$1000-$1003 
B193 : CLC 			;Çå½øÎ»±êÖ¾
B194 : LDA $1000 			;->A
B197 : ADC $1002 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B19A : STA $1000 			;A->MEM
B19D : LDA $1001 			;->A
B1A0 : ADC $1003 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B1A3 : STA $1001 			;A->MEM
B1A6 : LDA $1000 			;->A
B1A9 : STA $2F85 			;A->MEM
B1AC : LDA $1001 			;->A
B1AF : STA $2F86 			;A->MEM
B1B2 : RTS 			;×Ó³ÌÐò·µ»Ø

B1B3 : LDY #$00 			;->Y
B1B5 : PHA 			;ÀÛ¼ÓÆ÷½øÕ»
B1B6 : LDA #$E4 			;->A
B1B8 : STA $80 			;A->MEM
B1BA : LDA #$B1 			;->A
B1BC : STA $81 			;A->MEM
B1BE : LDA #$9F 			;->A
B1C0 : STA $AA 			;A->MEM
B1C2 : LDA #$2E 			;->A
B1C4 : STA $AB 			;A->MEM
B1C6 : PLA 			;A³öÕ»
B1C7 : BEQ $B1D9 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B1C9 : LDA #$EA 			;->A
B1CB : STA $80 			;A->MEM
B1CD : LDA #$B1 			;->A
B1CF : STA $81 			;A->MEM
B1D1 : LDA #$87 			;->A
B1D3 : STA $AA 			;A->MEM
B1D5 : LDA #$2F 			;->A
B1D7 : STA $AB 			;A->MEM
B1D9 : LDA ($80),Y 			;->A
B1DB : STA $3015,Y 			;A->MEM
B1DE : INY 			;Y++
B1DF : CPY #$06 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
B1E1 : BCC $B1D9 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B1E3 : RTS 			;×Ó³ÌÐò·µ»Ø

B1E4 : JMP $8AF6 			;find Skill loaction
B1E7 : JMP $89B1 			;
B1EA : JMP $7E8A 			;
B1ED : JMP $7E4D 			;
;
B1F0 : LDX #$01 			;->X
B1F2 : LDA #$3D 			;->A
B1F4 : STA $80 			;A->MEM
B1F6 : LDA #$B2 			;->A
B1F8 : STA $81 			;A->MEM  B23D
B1FA : LDA #$41 			;->A
B1FC : STA $82 			;A->MEM
B1FE : LDA #$27 			;->A
B200 : STA $83 			;A->MEM  2741
B202 : LDY #$00 			;->Y
B204 : LDA ($80),Y 			;->A
B206 : STA ($82),Y 			;A->MEM     B23D-B241 -> 2741-2745
B208 : INY 			;Y++
B209 : CPY #$04 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
B20B : BCC $B204 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B20D : TXA 			;X->A
B20E : STA ($82),Y 			;A->MEM
B210 : LDA #$04 			;->A
B212 : CLC 			;Çå½øÎ»±êÖ¾
B213 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B215 : STA $80 			;A->MEM
B217 : BCC $B21B 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B219 : INC $81 			;MEM++
B21B : LDA #$05 			;->A
B21D : CLC 			;Çå½øÎ»±êÖ¾
B21E : ADC $82 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B220 : STA $82 			;A->MEM
B222 : BCC $B226 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B224 : INC $83 			;MEM++
B226 : INX 			;X++
B227 : CPX $4D 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
B229 : BCC $B202 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B22B : LDA #$4C 			;->A
B22D : STA $2740 			;A->MEM
B230 : LDA #$40 			;->A
B232 : STA $80 			;A->MEM
B234 : LDA #$27 			;->A
B236 : STA $81 			;A->MEM  2740
B238 : RTS 			;×Ó³ÌÐò·µ»Ø
B239 : 00000000
B23D : 0A0000000A0000000A0000000A0000000A0000000A0000000A0000000A0000000A000000E02202000A000000102700000A0000000A000000B0AD0100E02E00000A0000000A0000000A000000102700000A0000000A000000F824010020BF0200E0930400E8FD0000E8FD0000E0220200C8AF0000D0FB0100084C010030750000D0FB0100983A0000983A0000D8D60000D0FB0100A861000000710200C80000000A0000000A000000C80000000A000000881300000A000000881300000A0000000A000000B80B0000409C0000E093040000710200204E000020BF020000710200084C0100084C01000071020030750000E803000020BF020020BF0200D8D60000E8FD000070110100905F010050C300003075000060EA000070110100640000000A000000C8000000E02E00000A000000
;ÀÏ¹Ü¼Ò
B36D : LDX #$0C 			;->X
B36F : LDY #$04 			;->Y
B371 : LDA #$62 			;->A
B373 : STA $A8 			;A->MEM
B375 : LDA #$B5 			;->A
B377 : STA $A9 			;A->MEM B562 03 8102 8CB3 16B4 CCB4 ·­¸Ç ¼Ò¾ß Ïú»Ù
B379 : LDX $4C 			;->X    playerX
B37B : CPX $7A 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
B37D : BCC $B381 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B37F : LDX #$7A 			;->X
B381 : LDY #$0A 			;->Y
B383 : LDY #$28 			;->Y
B385 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
B388 : JSR $5081  			;Ìø×ª×Ó³ÌÐòdraw map
B38B : RTS 			;×Ó³ÌÐò·µ»Ø
;·­¸Ç
B38C : LDA #$80 			;->A
B38E : STA $80 			;A->MEM
B390 : LDA #$84 			;->A
B392 : STA $81 			;A->MEM  8480
B394 : LDA #$1E 			;->A
B396 : STA $82 			;A->MEM
B398 : LDA #$00 			;->A
B39A : STA $83 			;A->MEM
B39C : LDA $2ED4 			;->A
B39F : CMP $83 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B3A1 : BNE $B3B6 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B3A3 : LDA $2ED3 			;->A
B3A6 : CMP $82 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B3A8 : BNE $B3B6 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B3AA : LDA $2ED2 			;->A
B3AD : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B3AF : BNE $B3B6 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B3B1 : LDA $2ED1 			;->A
B3B4 : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B3B6 : BCC $B3FE 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B3B8 : LDA $31F9 			;->A
B3BB : CMP #$0F 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B3BD : BEQ $B3C7 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B3BF : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B3C1 : BEQ $B3CC 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B3C3 : CMP #$02 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B3C5 : BEQ $B40A 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B3C7 : LDA #$00 			;->A
B3C9 : JMP $B3CE 			;
B3CC : LDA #$02 			;->A
B3CE : STA $31F9 			;A->MEM
B3D1 : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
B3D2 : LDA $2ED1 			;->A
B3D5 : SBC $80 			;A-MEM-C->A
B3D7 : STA $2ED1 			;A->MEM
B3DA : LDA $2ED2 			;->A
B3DD : SBC $81 			;A-MEM-C->A
B3DF : STA $2ED2 			;A->MEM
B3E2 : LDA $2ED3 			;->A
B3E5 : SBC $82 			;A-MEM-C->A
B3E7 : STA $2ED3 			;A->MEM
B3EA : LDA $2ED4 			;->A
B3ED : SBC $83 			;A-MEM-C->A
B3EF : STA $2ED4 			;A->MEM
B3F2 : LDA #$AC 			;->A
B3F4 : STA $A6 			;A->MEM
B3F6 : LDA #$B5 			;->A
B3F8 : STA $A7 			;A->MEM  B5AC  ·­¸Ç³É¹¦,Çë³öÈ¥¿´¿´
B3FA : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
B3FD : RTS 			;×Ó³ÌÐò·µ»Ø
B3FE : LDA #$C1 			;->A
B400 : STA $A6 			;A->MEM
B402 : LDA #$B5 			;->A
B404 : STA $A7 			;A->MEM  B5C1  ·­ÐÞÐèÒª200Á½½ð×Ó
B406 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
B409 : RTS 			;×Ó³ÌÐò·µ»Ø
B40A : LDA #$D4 			;->A
B40C : STA $A6 			;A->MEM
B40E : LDA #$B5 			;->A
B410 : STA $A7 			;A->MEM  B5D4 ÄãµÄ·¿×ÓÒÑ¾­ÊÇ×î¸ß¼¶µÄÁË
B412 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
B415 : RTS 			;×Ó³ÌÐò·µ»Ø
;¼Ò¾ß
B416 : JSR $5081  			;Ìø×ª×Ó³ÌÐòdraw map
B419 : JSR $B54B  			;Ìø×ª×Ó³ÌÐò
B41C : CPX $31FA 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
B41F : BEQ $B423 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B421 : BCS $B435 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B423 : STX $05FC 			;X->MEM
B426 : LDA #$EE 			;->A
B428 : STA $A6 			;A->MEM
B42A : LDA #$B5 			;->A
B42C : STA $A7 			;A->MEM  B5EE ÄãÒÑ¾­·ÅÁË¼þ¼Ò¾ß,ÏÖÔÚ·¿¼äÌ«Õ­ÁË!
B42E : JSR $9F2D  			;Ìø×ª×Ó³ÌÐò  copy str->wordcache
B431 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
B434 : RTS 			;×Ó³ÌÐò·µ»Ø
B435 : LDA #$60 			;->A
B437 : STA $80 			;A->MEM
B439 : LDA #$EA 			;->A
B43B : STA $81 			;A->MEM  EA60
B43D : LDA #$00 			;->A
B43F : STA $82 			;A->MEM
B441 : LDA #$00 			;->A
B443 : STA $83 			;A->MEM
B445 : LDA $2ED4 			;->A
B448 : CMP $83 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B44A : BNE $B45F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B44C : LDA $2ED3 			;->A
B44F : CMP $82 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B451 : BNE $B45F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B453 : LDA $2ED2 			;->A
B456 : CMP $81 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B458 : BNE $B45F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B45A : LDA $2ED1 			;->A
B45D : CMP $80 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B45F : BCS $B46D 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B461 : LDA #$9C 			;->A
B463 : STA $A6 			;A->MEM
B465 : LDA #$B5 			;->A
B467 : STA $A7 			;A->MEM  B59C ÄãÃ»Ç®Âò¼Ò¾ßÁË
B469 : JSR $62D9  			;Ìø×ª×Ó³ÌÐò
B46C : RTS 			;×Ó³ÌÐò·µ»Ø
B46D : SEC 			;ÖÃ½øÎ»±êÖ¾C=1
B46E : LDA $2ED1 			;->A
B471 : SBC $80 			;A-MEM-C->A
B473 : STA $2ED1 			;A->MEM
B476 : LDA $2ED2 			;->A
B479 : SBC $81 			;A-MEM-C->A
B47B : STA $2ED2 			;A->MEM
B47E : BCS $B48B 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B480 : LDA $2ED3 			;->A
B483 : BNE $B488 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B485 : DEC $2ED4 			;MEM--
B488 : DEC $2ED3 			;MEM--
B48B : LDA #$08 			;->A
B48D : STA $74 			;A->MEM
B48F : LDA #$7B 			;->A
B491 : STA $A8 			;A->MEM
B493 : LDA #$B5 			;->A
B495 : STA $A9 			;A->MEM  B57B  Ð¡µÊFFÐ¡×ÀFF»¨Æ¿FFÒÂ¹ñFFÊé¹ñ
B497 : JSR $B4F3  			;Ìø×ª×Ó³ÌÐò
B49A : JSR $B4D7  			;Ìø×ª×Ó³ÌÐò
B49D : LDY #$FF 			;->Y
B49F : INY 			;Y++
B4A0 : LDA #$D1 			;->A
B4A2 : STA $80 			;A->MEM
B4A4 : LDA #$31 			;->A
B4A6 : STA $81 			;A->MEM  31D1
B4A8 : LDA ($80),Y 			;->A
B4AA : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B4AC : BNE $B49F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B4AE : CPY #$22 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
B4B0 : BCS $B4C8 			;½èÎ»±êÖ¾C=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B4B2 : LDA $72 			;->A
B4B4 : STA ($80),Y 			;A->MEM
B4B6 : INY 			;Y++
B4B7 : LDA $73 			;->A
B4B9 : STA ($80),Y 			;A->MEM
B4BB : INY 			;Y++
B4BC : LDA $74 			;->A
B4BE : STA ($80),Y 			;A->MEM
B4C0 : INY 			;Y++
B4C1 : LDA #$FF 			;->A
B4C3 : STA ($80),Y 			;A->MEM
B4C5 : INC $31FA 			;MEM++
B4C8 : JSR $5081  			;Ìø×ª×Ó³ÌÐòdraw map
B4CB : RTS 			;×Ó³ÌÐò·µ»Ø
;Ïú»Ù
B4CC : LDY #$0C 			;->Y
B4CE : LDA #$FF 			;->A
B4D0 : STA $31D1,Y 			;A->MEM
B4D3 : JSR $5081  			;Ìø×ª×Ó³ÌÐòdraw map
B4D6 : RTS 			;×Ó³ÌÐò·µ»Ø
;drawÉÏÏÂµ÷Õû¿ò(¼ÓÁ¦·¨µã)
B4D7 : LDX #$0C 			;->X
B4D9 : LDY #$04 			;->Y
B4DB : LDA #$0A 			;->A
B4DD : STA $80 			;A->MEM
B4DF : LDA #$00 			;->A
B4E1 : STA $81 			;A->MEM
B4E3 : LDA #$00 			;->A
B4E5 : STA $82 			;A->MEM
B4E7 : LDA #$01 			;->A
B4E9 : STA $83 			;A->MEM
B4EB : INT $9E16    ;ÉÏÏÂµ÷Õû¿ò(¼ÓÁ¦·¨µã)
B4EE : LDA $80 			;->A
B4F0 : STA $72 			;A->MEM
B4F2 : RTS 			;×Ó³ÌÐò·µ»Ø

B4F3 : LDX #$0C 			;->X
B4F5 : LDY #$04 			;->Y
B4F7 : JSR $A6AD  			;Ìø×ª×Ó³ÌÐò  Process menu
B4FA : CMP #$FF 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B4FC : BEQ $B505 			;Z=1Ôò×ªÒÆ,·ñÔò¼ÌÐø
B4FE : TAY 			;A->Y
B4FF : LDA $B546,Y 			;->A
B502 : STA $73 			;A->MEM
B504 : RTS 			;×Ó³ÌÐò·µ»Ø

B505 : PLA 			;A³öÕ»
B506 : PLA 			;A³öÕ»
B507 : JSR $55E8  			;Ìø×ª×Ó³ÌÐò  refresh map
B50A : RTS 			;×Ó³ÌÐò·µ»Ø

B50B : LDA #$06 			;->A
B50D : STA $80 			;A->MEM
B50F : LDA #$0A 			;->A
B511 : STA $81 			;A->MEM
B513 : LDX #$00 			;->X
B515 : LDA #$00 			;->A
B517 : LDY #$00 			;->Y
B519 : STA ($80),Y 			;A->MEM
B51B : INY 			;Y++
B51C : CPY #$04 			;ÓëY±È½Ï,(Y>=MEM,c=1)(Y<MEM,C=0,N=1)(Y==MEM,Z=0)
B51E : BCC $B519 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B520 : LDA #$14 			;->A
B522 : CLC 			;Çå½øÎ»±êÖ¾
B523 : ADC $80 			;Óë(A+±êÖ¾C)Ïà¼Ó,½á¹ûËÍA
B525 : STA $80 			;A->MEM
B527 : BCC $B52B 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B529 : INC $81 			;MEM++
B52B : INX 			;X++
B52C : CPX $22 			;ÓëX±È½Ï,(X>=MEM,c=1)(X<MEM,C=0,N=1)(X==MEM,Z=1)
B52E : BCC $B515 			;½øÎ»±êÖ¾C=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B530 : LDY $86 			;->Y
B532 : LDA $B546,Y 			;->A  B546 02 17 1C 37 3C
B535 : STA $80 			;A->MEM
B537 : LDA $74 			;->A
B539 : STA $81 			;A->MEM
B53B : JSR $53FF  			;Ìø×ª×Ó³ÌÐò
B53E : LDX #$50 			;->X
B540 : LDY #$04 			;->Y
B542 : INT $9E30        ;Draw image(x,y,$8081)
B545 : RTS 			;×Ó³ÌÐò·µ»Ø
B546 : 02 17 1C 37 3C
;¼Ò¾ß
B54B : LDX #$01 			;->X
B54D : LDA $31F9 			;->A
B550 : CMP #$0F 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B552 : BNE $B555 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B554 : RTS 			;×Ó³ÌÐò·µ»Ø
B555 : LDX #$03 			;->X
B557 : LDA $31F9 			;->A
B55A : CMP #$00 			;ÓëA±È½Ï,(A>=MEM,c=1)(A<MEM,C=0,N=1)(A==MEM,Z=1)
B55C : BNE $B55F 			;Z=0Ôò×ªÒÆ,·ñÔò¼ÌÐø
B55E : RTS 			;×Ó³ÌÐò·µ»Ø
B55F : LDX #$05 			;->X
B561 : RTS 			;×Ó³ÌÐò·µ»Ø
B562 : 03 8102 8CB3 16B4 CCB4 ·­¸Ç ¼Ò¾ß Ïú»Ù
B57B : 50 05 C102 00 00 0B B5 Ð¡µÊFFÐ¡×ÀFF»¨Æ¿FFÒÂ¹ñFFÊé¹ñFFÿÿÿÿ
B59C : ÄãÃ»Ç®Âò¼Ò¾ßÁË
B5Ac : ·­¸Ç³É¹¦,Çë³öÈ¥¿´¿´
B5C1 : ·­ÐÞÐèÒª200Á½½ð×Ó
B5D4 : ÄãµÄ·¿×ÓÒÑ¾­ÊÇ×î¸ß¼¶µÄÁË
B5EE : ÄãÒÑ¾­·ÅÁË01 FC05¼þ¼Ò¾ß,ÏÖÔÚ·¿¼äÌ«Õ­ÁË!
B613 : 00 00 00 00
B617 -- BFFF : ff...ff  ;Ìî³äÊý¾Ý